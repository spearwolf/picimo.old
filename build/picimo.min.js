/*! spearwolf/picimo version 0.0.20 built with ♥ by Wolfger Schramm <wolfger@spearwolf.de> */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Picimo=e():t.Picimo=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);Object.defineProperty(e,"App",{enumerable:!0,get:function(){return n.App}}),Object.defineProperty(e,"graph",{enumerable:!0,get:function(){return n.graph}}),Object.defineProperty(e,"render",{enumerable:!0,get:function(){return n.render}}),Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return n.utils}}),Object.defineProperty(e,"math",{enumerable:!0,get:function(){return n.math}}),Object.defineProperty(e,"core",{enumerable:!0,get:function(){return n.core}}),Object.defineProperty(e,"defineSprite",{enumerable:!0,get:function(){return n.defineSprite}}),Object.defineProperty(e,"SpriteFactory",{enumerable:!0,get:function(){return n.SpriteFactory}});e.VERSION="0.0.20"},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteFactory=e.defineSprite=e.core=e.math=e.utils=e.render=e.graph=e.App=void 0;var o=r(2),u=i(o),a=r(123),s=n(a),l=r(139),f=n(l),c=r(73),h=n(c),d=r(137),p=n(d),v=r(151),m=n(v),_=r(217);e.App=u["default"],e.graph=s,e.render=f,e.utils=h,e.math=p,e.core=m,e.defineSprite=_.defineSprite,e.SpriteFactory=_.SpriteFactory},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=n(i),u=r(4),a=n(u);(0,o["default"])(a["default"]),e["default"]=a["default"]},function(t,e){"use strict";function r(t){function e(){return++d.lastCallbackId}function l(t,e){return t.prio!==e.prio?e.prio-t.prio:t.id-e.id}function f(t){if(t){var e=d.boundObjects.indexOf(t);return e===-1&&d.boundObjects.push(t),t}}function c(t,e,n){var i,o,u,a;for(o in n)n.hasOwnProperty(o)&&(u=e[o],"function"==typeof u&&(i=n[o],Array.isArray(i)?(a=i[0],i=i[1]):a=r.PRIO_DEFAULT,t.on(i,a,u)));return t}function h(t,e,n){function i(){var e,r,i;if(h)for(e=0;e<h;e++)r=d.boundObjects[e],i=r[t],"function"==typeof i?n(i,r):r[u]&&n(null,r)}if(!(p.silenced||p.off.indexOf(t)>=0)){var o,s,l,f=d.callbacks[t],c=d.callbacks[a],h=d.boundObjects.length,v=!1;if(f||c.length)for(f=f?f.concat(c):c,s=f.length,o=0;o<s;o++)l=f[o],!v&&l&&l.prio<r.PRIO_DEFAULT&&(i(),v=!0),e(l);v||i()}}if(t[u])return t;var d={lastCallbackId:0,callbacks:{},boundObjects:[]};d.callbacks[a]=[];var p=i({},{silenced:!1,off:[]});return o(t,u,p),void 0===r.PRIO_DEFAULT&&i(r,{PRIO_MAX:Number.POSITIVE_INFINITY,PRIO_A:1e9,PRIO_B:1e7,PRIO_C:1e5,PRIO_DEFAULT:0,PRIO_LOW:-1e5,PRIO_MIN:Number.NEGATIVE_INFINITY}),t.on=function(t,o,u){var f=arguments.length;if(0===f)return void(p.silenced&&(n(p,"silenced",!1),p.off.length=0));var c;if(1===f){if("string"==typeof t)return c=p.off.indexOf(t),void(c>=0&&p.off.splice(c,1));if("object"!=typeof t&&"function"!=typeof t)return void console.warn(s,".on() called with insufficient arguments!",arguments);u=t,t=a,o=r.PRIO_DEFAULT}2===f&&(u=o,o=r.PRIO_DEFAULT);var h=d.callbacks,v=h[t]||(h[t]=[]),m=e(),_=i({},{id:m,fn:u,prio:"number"!=typeof o?r.PRIO_DEFAULT:o,isFunction:"function"==typeof u});return v.push(_),v.sort(l),m},t.once=function(e,n,i){var o=arguments.length;if(!o||o>3)return void console.warn(s,".once() called with insufficient arguments!",arguments);1===o?(i=e,e=a,n=r.PRIO_DEFAULT):2===o&&(i=n,n=r.PRIO_DEFAULT);var u=t.on(e,n,function(){var e=i.apply(this,arguments);return t.off(u),e});return u},t.off=function(t){if(0===arguments.length)return void(p.silenced||(n(p,"silenced",!0),p.off.length=0));if("string"==typeof t)return void(p.off.indexOf(t)===-1&&p.off.push(t));var e,r,i,o,u,a=d.callbacks,s="object"==typeof t;if("number"==typeof t||"function"==typeof t||s)for(u=Object.keys(a),i=0;i<u.length;i++)for(o=a[u[i]],r=0;r<o.length;r++)if(e=o[r],(e.id===t||e.fn===t)&&(o.splice(r,1),!s))return;s&&(r=d.boundObjects.indexOf(t),r>=0&&d.boundObjects.splice(r,1))},t.connect=function(t,e){var r=arguments.length;return 1===r?f(t):2===r?c(this,t,e):void console.warn(s,".connect() called with insufficient arguments!",arguments)},t.emit=function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];var r,n,i,o=this;t.length>1&&"string"!=typeof t[0]&&"string"==typeof t[1]?(n=t.shift(),r=t.shift(),t[t.length-1]=n,i=t):(r=t.shift(),i=t.concat([o])),h(r,function(e){if(e.isFunction)e.fn.apply(o,t);else{var n=e.fn[r];"function"==typeof n?n.apply(e.fn,i):e.fn[u]&&e.fn.emit.apply(e.fn,[r].concat(t))}},function(t,e){t?t.apply(e,i):e.emit.apply(e,[o,r].concat(i))})},t.emitReduce=function(){function t(t){void 0!==t&&(n=t)}for(var e=new Array(arguments.length),r=0;r<e.length;++r)e[r]=arguments[r];var n,i=e.shift();0===e.length?(n={},e.push(n)):t(e[0]);var o=this,a=[i].concat(e),s=e.concat([o]);return h(i,function(r){if(r.isFunction)e[0]=n,t(r.fn.apply(o,e));else{var l=r.fn[i];"function"==typeof l?(s[0]=n,t(l.apply(r.fn,s))):r.fn[u]&&(a[1]=n,t(r.fn.emitReduce.apply(r.fn,a)))}},function(e,r){e&&(s[0]=n,t(e.apply(r,s)))}),n},t}function n(t,e,r){return Object.defineProperty(t,e,{value:r,configurable:!0,enumerable:!0}),t}function i(t,e){var r,i=Object.keys(e);for(r=i.length;r--;)n(t,i[r],e[i[r]]);return t}function o(t,e,r){return Object.defineProperty(t,e,{value:r,configurable:!0}),t}var u="_eventize",a="*",s="[eventize.js]";r.is=function(t){return!(!t||!t[u])},t.exports=r},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){(0,l["default"])(this),this.now=window.performance.now()/1e3,"object"!==("undefined"==typeof t?"undefined":(0,a["default"])(t))||"nodeName"in t?null==e&&(e={}):(e=t,t=e.canvas),(0,F["default"])(this,t,e.appendTo),c.object.definePropertyPrivateRO(this,"mouseController",new _.MouseController(this)),this.mouseController.connect(this),c.addGlxProperty(this),c.object.definePropertyPrivateRO(this,"glCtxAttrs",{alpha:e.alpha===!0,antialias:e.antialias===!0}),this.glx=(0,S["default"])(this),this.backgroundColor=new c.Color(void 0!==e.bgColor?e.bgColor:this.glCtxAttrs.alpha?"transparent":"#000000"),(0,O["default"])(this),c.object.definePropertyPrivateRO(this,"textureManager",new v.TextureManager(this)),c.object.definePropertyPrivateRO(this,"renderer",new v.WebGlRenderer(this)),(0,D["default"])(this),this.assetBaseUrl=window.PICIMO_ASSET_BASE_URL||e.assetBaseUrl||(0,A.getUrlDir)(new URL(window.location.href).origin+"/"),this.frameNo=0,c.object.definePropertyPublicRO(this,"scene",new d.Scene(this,{pixelRatio:1,projection:!0,blendMode:v.cmd.BlendMode.DEFAULT}));var r=o.emitReduce("create",this,e);return r.emit("init"),r.renderer.onInitGl(),r.resize(),this.onAnimationFrame||(this.onAnimationFrame=r.renderFrame.bind(r)),requestAnimationFrame(r.onAnimationFrame),r}Object.defineProperty(e,"__esModule",{value:!0});var u=r(5),a=i(u);e["default"]=o;var s=r(3),l=i(s),f=r(73),c=n(f),h=r(123),d=n(h),p=r(139),v=n(p),m=r(210),_=n(m),g=r(212),y=i(g),x=r(213),M=i(x),b=r(214),S=i(b),w=r(215),F=i(w),P=r(216),D=i(P),I=r(224),O=i(I),A=r(239),E=r(240);c.object.definePropertyPublicRO(o.prototype,"devicePixelRatio",window.devicePixelRatio||1),o.prototype.resize=y["default"],o.prototype.renderFrame=M["default"],o.prototype.getAssetUrl=A.getAssetUrl,o.prototype.joinAssetUrl=A.joinAssetUrl,o.prototype.loadTextureAtlas=E.loadTextureAtlas,o.prototype.loadTexture=E.loadTexture},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=r(6),o=n(i),u=r(57),a=n(u),s="function"==typeof a["default"]&&"symbol"==typeof o["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]?"symbol":typeof t};e["default"]="function"==typeof a["default"]&&"symbol"===s(o["default"])?function(t){return"undefined"==typeof t?"undefined":s(t)}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]?"symbol":"undefined"==typeof t?"undefined":s(t)}},function(t,e,r){t.exports={"default":r(7),__esModule:!0}},function(t,e,r){r(8),r(52),t.exports=r(56).f("iterator")},function(t,e,r){"use strict";var n=r(9)(!0);r(12)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){var n=r(10),i=r(11);t.exports=function(t){return function(e,r){var o,u,a=String(i(e)),s=n(r),l=a.length;return s<0||s>=l?t?"":void 0:(o=a.charCodeAt(s),o<55296||o>56319||s+1===l||(u=a.charCodeAt(s+1))<56320||u>57343?t?a.charAt(s):o:t?a.slice(s,s+2):(o-55296<<10)+(u-56320)+65536)}}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){"use strict";var n=r(13),i=r(14),o=r(29),u=r(19),a=r(30),s=r(31),l=r(32),f=r(48),c=r(50),h=r(49)("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",v="keys",m="values",_=function(){return this};t.exports=function(t,e,r,g,y,x,M){l(r,e,g);var b,S,w,F=function(t){if(!d&&t in O)return O[t];switch(t){case v:return function(){return new r(this,t)};case m:return function(){return new r(this,t)}}return function(){return new r(this,t)}},P=e+" Iterator",D=y==m,I=!1,O=t.prototype,A=O[h]||O[p]||y&&O[y],E=A||F(y),R=y?D?F("entries"):E:void 0,j="Array"==e?O.entries||A:A;if(j&&(w=c(j.call(new t)),w!==Object.prototype&&(f(w,P,!0),n||a(w,h)||u(w,h,_))),D&&A&&A.name!==m&&(I=!0,E=function(){return A.call(this)}),n&&!M||!d&&!I&&O[h]||u(O,h,E),s[e]=E,s[P]=_,y)if(b={values:D?E:F(m),keys:x?E:F(v),entries:R},M)for(S in b)S in O||o(O,S,b[S]);else i(i.P+i.F*(d||I),e,b);return b}},function(t,e){t.exports=!0},function(t,e,r){var n=r(15),i=r(16),o=r(17),u=r(19),a="prototype",s=function(t,e,r){var l,f,c,h=t&s.F,d=t&s.G,p=t&s.S,v=t&s.P,m=t&s.B,_=t&s.W,g=d?i:i[e]||(i[e]={}),y=g[a],x=d?n:p?n[e]:(n[e]||{})[a];d&&(r=e);for(l in r)f=!h&&x&&void 0!==x[l],f&&l in g||(c=f?x[l]:r[l],g[l]=d&&"function"!=typeof x[l]?r[l]:m&&f?o(c,n):_&&x[l]==c?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[a]=t[a],e}(c):v&&"function"==typeof c?o(Function.call,c):c,v&&((g.virtual||(g.virtual={}))[l]=c,t&s.R&&y&&!y[l]&&u(y,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(18);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var n=r(20),i=r(28);t.exports=r(24)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(21),i=r(23),o=r(27),u=Object.defineProperty;e.f=r(24)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return u(t,e,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(22);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(24)&&!r(25)(function(){return 7!=Object.defineProperty(r(26)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){t.exports=!r(25)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,r){var n=r(22),i=r(15).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,r){var n=r(22);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){t.exports=r(19)},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e){t.exports={}},function(t,e,r){"use strict";var n=r(33),i=r(28),o=r(48),u={};r(19)(u,r(49)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(u,{next:i(1,r)}),o(t,e+" Iterator")}},function(t,e,r){var n=r(21),i=r(34),o=r(46),u=r(43)("IE_PROTO"),a=function(){},s="prototype",l=function(){var t,e=r(26)("iframe"),n=o.length,i="<",u=">";for(e.style.display="none",r(47).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+u+"document.F=Object"+i+"/script"+u),t.close(),l=t.F;n--;)delete l[s][o[n]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(a[s]=n(t),r=new a,a[s]=null,r[u]=t):r=l(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(20),i=r(21),o=r(35);t.exports=r(24)?Object.defineProperties:function(t,e){i(t);for(var r,u=o(e),a=u.length,s=0;a>s;)n.f(t,r=u[s++],e[r]);return t}},function(t,e,r){var n=r(36),i=r(46);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(30),i=r(37),o=r(40)(!1),u=r(43)("IE_PROTO");t.exports=function(t,e){var r,a=i(t),s=0,l=[];for(r in a)r!=u&&n(a,r)&&l.push(r);for(;e.length>s;)n(a,r=e[s++])&&(~o(l,r)||l.push(r));return l}},function(t,e,r){var n=r(38),i=r(11);t.exports=function(t){return n(i(t))}},function(t,e,r){var n=r(39);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(37),i=r(41),o=r(42);t.exports=function(t){return function(e,r,u){var a,s=n(e),l=i(s.length),f=o(u,l);if(t&&r!=r){for(;l>f;)if(a=s[f++],a!=a)return!0}else for(;l>f;f++)if((t||f in s)&&s[f]===r)return t||f||0;return!t&&-1}}},function(t,e,r){var n=r(10),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){var n=r(10),i=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?i(t+e,0):o(t,e)}},function(t,e,r){var n=r(44)("keys"),i=r(45);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e,r){var n=r(15),i="__core-js_shared__",o=n[i]||(n[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){t.exports=r(15).document&&document.documentElement},function(t,e,r){var n=r(20).f,i=r(30),o=r(49)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,r){var n=r(44)("wks"),i=r(45),o=r(15).Symbol,u="function"==typeof o,a=t.exports=function(t){return n[t]||(n[t]=u&&o[t]||(u?o:i)("Symbol."+t))};a.store=n},function(t,e,r){var n=r(30),i=r(51),o=r(43)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,r){var n=r(11);t.exports=function(t){return Object(n(t))}},function(t,e,r){r(53);for(var n=r(15),i=r(19),o=r(31),u=r(49)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var l=a[s],f=n[l],c=f&&f.prototype;c&&!c[u]&&i(c,u,l),o[l]=o.Array}},function(t,e,r){"use strict";var n=r(54),i=r(55),o=r(31),u=r(37);t.exports=r(12)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,r):"values"==e?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){e.f=r(49)},function(t,e,r){t.exports={"default":r(58),__esModule:!0}},function(t,e,r){r(59),r(70),r(71),r(72),t.exports=r(16).Symbol},function(t,e,r){"use strict";var n=r(15),i=r(30),o=r(24),u=r(14),a=r(29),s=r(60).KEY,l=r(25),f=r(44),c=r(48),h=r(45),d=r(49),p=r(56),v=r(61),m=r(62),_=r(63),g=r(66),y=r(21),x=r(37),M=r(27),b=r(28),S=r(33),w=r(67),F=r(69),P=r(20),D=r(35),I=F.f,O=P.f,A=w.f,E=n.Symbol,R=n.JSON,j=R&&R.stringify,T="prototype",C=d("_hidden"),z=d("toPrimitive"),N={}.propertyIsEnumerable,k=f("symbol-registry"),U=f("symbols"),B=f("op-symbols"),L=Object[T],W="function"==typeof E,V=n.QObject,G=!V||!V[T]||!V[T].findChild,Y=o&&l(function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=I(L,e);n&&delete L[e],O(t,e,r),n&&t!==L&&O(L,e,n)}:O,q=function(t){var e=U[t]=S(E[T]);return e._k=t,e},H=W&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},X=function(t,e,r){return t===L&&X(B,e,r),y(t),e=M(e,!0),y(r),i(U,e)?(r.enumerable?(i(t,C)&&t[C][e]&&(t[C][e]=!1),r=S(r,{enumerable:b(0,!1)})):(i(t,C)||O(t,C,b(1,{})),t[C][e]=!0),Y(t,e,r)):O(t,e,r)},Z=function(t,e){y(t);for(var r,n=_(e=x(e)),i=0,o=n.length;o>i;)X(t,r=n[i++],e[r]);return t},$=function(t,e){return void 0===e?S(t):Z(S(t),e)},Q=function(t){var e=N.call(this,t=M(t,!0));return!(this===L&&i(U,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,C)&&this[C][t])||e)},K=function(t,e){if(t=x(t),e=M(e,!0),t!==L||!i(U,e)||i(B,e)){var r=I(t,e);return!r||!i(U,e)||i(t,C)&&t[C][e]||(r.enumerable=!0),r}},J=function(t){for(var e,r=A(x(t)),n=[],o=0;r.length>o;)i(U,e=r[o++])||e==C||e==s||n.push(e);return n},tt=function(t){for(var e,r=t===L,n=A(r?B:x(t)),o=[],u=0;n.length>u;)!i(U,e=n[u++])||r&&!i(L,e)||o.push(U[e]);return o};W||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(r){this===L&&e.call(B,r),i(this,C)&&i(this[C],t)&&(this[C][t]=!1),Y(this,t,b(1,r))};return o&&G&&Y(L,t,{configurable:!0,set:e}),q(t)},a(E[T],"toString",function(){return this._k}),F.f=K,P.f=X,r(68).f=w.f=J,r(65).f=Q,r(64).f=tt,o&&!r(13)&&a(L,"propertyIsEnumerable",Q,!0),p.f=function(t){return q(d(t))}),u(u.G+u.W+u.F*!W,{Symbol:E});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;et.length>rt;)d(et[rt++]);for(var et=D(d.store),rt=0;et.length>rt;)v(et[rt++]);u(u.S+u.F*!W,"Symbol",{"for":function(t){return i(k,t+="")?k[t]:k[t]=E(t)},keyFor:function(t){if(H(t))return m(k,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),u(u.S+u.F*!W,"Object",{create:$,defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:tt}),R&&u(u.S+u.F*(!W||l(function(){var t=E();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);return e=n[1],"function"==typeof e&&(r=e),!r&&g(e)||(e=function(t,e){if(r&&(e=r.call(this,t,e)),!H(e))return e}),n[1]=e,j.apply(R,n)}}}),E[T][z]||r(19)(E[T],z,E[T].valueOf),c(E,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(t,e,r){var n=r(45)("meta"),i=r(22),o=r(30),u=r(20).f,a=0,s=Object.isExtensible||function(){return!0},l=!r(25)(function(){return s(Object.preventExtensions({}))}),f=function(t){u(t,n,{value:{i:"O"+ ++a,w:{}}})},c=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!s(t))return"F";if(!e)return"E";f(t)}return t[n].i},h=function(t,e){if(!o(t,n)){if(!s(t))return!0;if(!e)return!1;f(t)}return t[n].w},d=function(t){return l&&p.NEED&&s(t)&&!o(t,n)&&f(t),t},p=t.exports={KEY:n,NEED:!1,fastKey:c,getWeak:h,onFreeze:d}},function(t,e,r){var n=r(15),i=r(16),o=r(13),u=r(56),a=r(20).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e,r){var n=r(35),i=r(37);t.exports=function(t,e){for(var r,o=i(t),u=n(o),a=u.length,s=0;a>s;)if(o[r=u[s++]]===e)return r}},function(t,e,r){var n=r(35),i=r(64),o=r(65);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var u,a=r(t),s=o.f,l=0;a.length>l;)s.call(t,u=a[l++])&&e.push(u);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var n=r(39);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(37),i=r(68).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?a(t):i(n(t))}},function(t,e,r){var n=r(36),i=r(46).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){var n=r(65),i=r(28),o=r(37),u=r(27),a=r(30),s=r(23),l=Object.getOwnPropertyDescriptor;e.f=r(24)?l:function(t,e){if(t=o(t),e=u(e,!0),s)try{return l(t,e)}catch(r){}if(a(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e){},function(t,e,r){r(61)("asyncIterator")},function(t,e,r){r(61)("observable")},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function o(t,e){return Number(isNaN(t)?isNaN(e)?0:e:t)}function u(t,e){return"boolean"==typeof t?t:void 0===t?!!e:!!t}function a(t,e){return null!=t?String(t):e}Object.defineProperty(e,"__esModule",{value:!0}),e.delegateMethods=e.Queue=e.ObjectPool=e.addUid=e.addGlxProperty=e.makeReadyPromise=e.object=e.Color=e.glMatrix=void 0,e.asNumber=o,e.asBoolean=u,e.asString=a;var s=r(74),l=i(s),f=r(78),c=n(f),h=r(98),d=n(h),p=r(99),v=n(p),m=r(100),_=n(m),g=r(103),y=n(g),x=r(107),M=n(x);e.glMatrix=r(112),e.Color=r(122);e.object=l,e.makeReadyPromise=c["default"],e.addGlxProperty=d["default"],e.addUid=v["default"],e.ObjectPool=_["default"],e.Queue=y["default"],e.delegateMethods=M["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){return(0,f["default"])(t,e,{value:r,enumerable:!0}),t}function o(t,e,r){return(0,f["default"])(t,e,{value:r,writable:!0}),t}function u(t,e,r){return(0,f["default"])(t,e,{value:r}),t}function a(t,e){for(var r in e)Object.hasOwnProperty.call(e,r)&&(0,f["default"])(t,r,{value:e[r],enumerable:!0});return t}function s(t,e){for(var r in e)Object.hasOwnProperty.call(e,r)&&(0,f["default"])(t,r,{value:e[r]});return t}Object.defineProperty(e,"__esModule",{value:!0});var l=r(75),f=n(l);e.definePropertyPublicRO=i,e.definePropertyPrivate=o,e.definePropertyPrivateRO=u,e.definePropertiesPublicRO=a,e.definePropertiesPrivateRO=s},function(t,e,r){t.exports={"default":r(76),__esModule:!0}},function(t,e,r){r(77);var n=r(16).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){var n=r(14);n(n.S+n.F*!r(24),"Object",{defineProperty:r(20).f})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=function(){},r=!1,n=e;return(0,s["default"])(t,{ready:{get:function(){return r},set:function(t){!r&&t?(r=!0,n()):r&&!t&&console.error("Oops.. readyPromise transition true => false")},enumerable:!0},promise:{value:new u["default"](function(i){var o=i.bind(t,t);r?o():n=function(){n=e,o()}}),enumerable:!0}}),t}Object.defineProperty(e,"__esModule",{value:!0});var o=r(79),u=n(o),a=r(95),s=n(a);e["default"]=i},function(t,e,r){t.exports={"default":r(80),__esModule:!0}},function(t,e,r){r(70),r(8),r(52),r(81),t.exports=r(16).Promise},function(t,e,r){"use strict";var n,i,o,u=r(13),a=r(15),s=r(17),l=r(82),f=r(14),c=r(22),h=r(18),d=r(83),p=r(84),v=r(88),m=r(89).set,_=r(91)(),g="Promise",y=a.TypeError,x=a.process,M=a[g],x=a.process,b="process"==l(x),S=function(){},w=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[r(49)("species")]=function(t){t(S,S)};return(b||"function"==typeof PromiseRejectionEvent)&&t.then(S)instanceof e}catch(n){}}(),F=function(t,e){return t===e||t===M&&e===o},P=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},D=function(t){return F(M,t)?new I(t):new i(t)},I=i=function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw y("Bad Promise constructor");e=t,r=n}),this.resolve=h(e),this.reject=h(r)},O=function(t){try{t()}catch(e){return{error:e}}},A=function(t,e){if(!t._n){t._n=!0;var r=t._c;_(function(){for(var n=t._v,i=1==t._s,o=0,u=function(e){var r,o,u=i?e.ok:e.fail,a=e.resolve,s=e.reject,l=e.domain;try{u?(i||(2==t._h&&j(t),t._h=1),u===!0?r=n:(l&&l.enter(),r=u(n),l&&l.exit()),r===e.promise?s(y("Promise-chain cycle")):(o=P(r))?o.call(r,a,s):a(r)):s(n)}catch(f){s(f)}};r.length>o;)u(r[o++]);t._c=[],t._n=!1,e&&!t._h&&E(t)})}},E=function(t){m.call(a,function(){var e,r,n,i=t._v;if(R(t)&&(e=O(function(){b?x.emit("unhandledRejection",i,t):(r=a.onunhandledrejection)?r({promise:t,reason:i}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=b||R(t)?2:1),t._a=void 0,e)throw e.error})},R=function(t){if(1==t._h)return!1;for(var e,r=t._a||t._c,n=0;r.length>n;)if(e=r[n++],e.fail||!R(e.promise))return!1;return!0},j=function(t){m.call(a,function(){var e;b?x.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},T=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},C=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw y("Promise can't be resolved itself");(e=P(t))?_(function(){var n={_w:r,_d:!1};try{e.call(t,s(C,n,1),s(T,n,1))}catch(i){T.call(n,i)}}):(r._v=t,r._s=1,A(r,!1))}catch(n){T.call({_w:r,_d:!1},n)}}};w||(M=function(t){d(this,M,g,"_h"),h(t),n.call(this);try{t(s(C,this,1),s(T,this,1))}catch(e){T.call(this,e)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(92)(M.prototype,{then:function(t,e){var r=D(v(this,M));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=b?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},"catch":function(t){return this.then(void 0,t)}}),I=function(){var t=new n;this.promise=t,this.resolve=s(C,t,1),this.reject=s(T,t,1)}),f(f.G+f.W+f.F*!w,{Promise:M}),r(48)(M,g),r(93)(g),o=r(16)[g],f(f.S+f.F*!w,g,{reject:function(t){var e=D(this),r=e.reject;return r(t),e.promise}}),f(f.S+f.F*(u||!w),g,{resolve:function(t){if(t instanceof M&&F(t.constructor,this))return t;var e=D(this),r=e.resolve;return r(t),e.promise}}),f(f.S+f.F*!(w&&r(94)(function(t){M.all(t)["catch"](S)})),g,{all:function(t){var e=this,r=D(e),n=r.resolve,i=r.reject,o=O(function(){var r=[],o=0,u=1;p(t,!1,function(t){var a=o++,s=!1;r.push(void 0),u++,e.resolve(t).then(function(t){s||(s=!0,r[a]=t,--u||n(r))},i)}),--u||n(r)});return o&&i(o.error),r.promise},race:function(t){var e=this,r=D(e),n=r.reject,i=O(function(){p(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i&&n(i.error),r.promise}})},function(t,e,r){var n=r(39),i=r(49)("toStringTag"),o="Arguments"==n(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(r){}};t.exports=function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(e=Object(t),i))?r:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(17),i=r(85),o=r(86),u=r(21),a=r(41),s=r(87),l={},f={},e=t.exports=function(t,e,r,c,h){var d,p,v,m,_=h?function(){return t}:s(t),g=n(r,c,e?2:1),y=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(o(_)){for(d=a(t.length);d>y;y++)if(m=e?g(u(p=t[y])[0],p[1]):g(t[y]),m===l||m===f)return m}else for(v=_.call(t);!(p=v.next()).done;)if(m=i(v,g,p.value,e),m===l||m===f)return m};e.BREAK=l,e.RETURN=f},function(t,e,r){var n=r(21);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(o){var u=t["return"];throw void 0!==u&&n(u.call(t)),o}}},function(t,e,r){var n=r(31),i=r(49)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},function(t,e,r){var n=r(82),i=r(49)("iterator"),o=r(31);t.exports=r(16).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e,r){var n=r(21),i=r(18),o=r(49)("species");t.exports=function(t,e){var r,u=n(t).constructor;return void 0===u||void 0==(r=n(u)[o])?e:i(r)}},function(t,e,r){var n,i,o,u=r(17),a=r(90),s=r(47),l=r(26),f=r(15),c=f.process,h=f.setImmediate,d=f.clearImmediate,p=f.MessageChannel,v=0,m={},_="onreadystatechange",g=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){g.call(t.data)};h&&d||(h=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},n(v),v},d=function(t){delete m[t]},"process"==r(39)(c)?n=function(t){c.nextTick(u(g,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=y,n=u(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(t){f.postMessage(t+"","*")},f.addEventListener("message",y,!1)):n=_ in l("script")?function(t){s.appendChild(l("script"))[_]=function(){s.removeChild(this),g.call(t)}}:function(t){setTimeout(u(g,t,1),0)}),t.exports={set:h,clear:d}},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(15),i=r(89).set,o=n.MutationObserver||n.WebKitMutationObserver,u=n.process,a=n.Promise,s="process"==r(39)(u);t.exports=function(){var t,e,r,l=function(){var n,i;for(s&&(n=u.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?r():e=void 0,o}}e=void 0,n&&n.enter()};if(s)r=function(){u.nextTick(l)};else if(o){var f=!0,c=document.createTextNode("");new o(l).observe(c,{characterData:!0}),r=function(){c.data=f=!f}}else if(a&&a.resolve){var h=a.resolve();r=function(){h.then(l)}}else r=function(){i.call(n,l)};return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},function(t,e,r){var n=r(19);t.exports=function(t,e,r){for(var i in e)r&&t[i]?t[i]=e[i]:n(t,i,e[i]);return t}},function(t,e,r){"use strict";var n=r(15),i=r(16),o=r(20),u=r(24),a=r(49)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:n[t];u&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,r){
var n=r(49)("iterator"),i=!1;try{var o=[7][n]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(u){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],u=o[n]();u.next=function(){return{done:r=!0}},o[n]=function(){return u},t(o)}catch(a){}return r}},function(t,e,r){t.exports={"default":r(96),__esModule:!0}},function(t,e,r){r(97);var n=r(16).Object;t.exports=function(t,e){return n.defineProperties(t,e)}},function(t,e,r){var n=r(14);n(n.S+n.F*!r(24),"Object",{defineProperties:r(34)})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=void 0;return(0,s["default"])(t,{glx:{set:function(t){e=t,Object.defineProperty(this,"gl",{value:"object"===("undefined"==typeof t?"undefined":(0,u["default"])(t))?t.gl:void 0,configurable:!0})},get:function(){return e}}}),t}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),u=n(o),a=r(95),s=n(a);e["default"]=i},function(t,e,r){"use strict";function n(t){return(0,i.definePropertyPublicRO)(t,"uid",++o),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n;var i=r(74),o=0},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(101),o=n(i),u=r(102),a=n(u),s=function(){function t(e){(0,o["default"])(this,t),this.objects=[],this.inUseCount=0,this.setFactory(e)}return(0,a["default"])(t,[{key:"setFactory",value:function(t){this.factory=t?t:function(){return{}}}},{key:"create",value:function(){var t=void 0;return this.inUseCount<this.objects.length?t=this.objects[this.inUseCount]:(t=this.factory(),this.objects.push(t)),++this.inUseCount,t}},{key:"releaseAll",value:function(){this.inUseCount=0}},{key:"destroyAll",value:function(){this.inUseCount=0,this.objects.length=0}}]),t}();e["default"]=s},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=r(75),o=n(i);e["default"]=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o["default"])(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(104),o=n(i),u=r(101),a=n(u),s=r(102),l=n(s),f=r(74),c=function(){function t(){(0,a["default"])(this,t),this.length=0,(0,f.definePropertyPublicRO)(this,"entries",[])}return(0,l["default"])(t,[{key:"push",value:function(t){var e=void 0;this.length<this.entries.length?this.entries[this.length].value=t:(e=(0,o["default"])(null),e.value=t,this.entries.push(e)),++this.length}},{key:"pop",value:function(){var t=void 0,e=void 0;if(this.length>0)return--this.length,t=this.entries[this.length],e=t.value,t.value=null,e}},{key:"clear",value:function(t){for(var e=this.length;e--;)this.entries[e].value=null;this.length=0,t&&(this.entries.length=0)}},{key:"forEach",value:function(t,e){var r=this.length,n=void 0,i=void 0;for(i=0;i<r;i++)n=this.entries[i].value,n&&t.call(e||n,n)}}]),t}();e["default"]=c},function(t,e,r){t.exports={"default":r(105),__esModule:!0}},function(t,e,r){r(106);var n=r(16).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,r){var n=r(14);n(n.S,"Object",{create:r(33)})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){function n(r,n,i){var o=t[n];if(i||(i=n),"function"==typeof o){if(null!=e[i])throw new Error("delegateMethods() panic! could not override property "+i);e[i]=o.bind(t)}else if(r)throw new Error("delegateMethods() panic! "+n+" is not a function!")}if(Array.isArray(r))r.forEach(function(t){n(!0,t,t)});else if("string"==typeof r)n(!0,r);else if("object"===("undefined"==typeof r?"undefined":(0,s["default"])(r)))(0,u["default"])(r).forEach(function(t){n(!0,t,r[t])});else for(var i in t)n(!1,i)}Object.defineProperty(e,"__esModule",{value:!0});var o=r(108),u=n(o),a=r(5),s=n(a);e["default"]=i},function(t,e,r){t.exports={"default":r(109),__esModule:!0}},function(t,e,r){r(110),t.exports=r(16).Object.keys},function(t,e,r){var n=r(51),i=r(35);r(111)("keys",function(){return function(t){return i(n(t))}})},function(t,e,r){var n=r(14),i=r(16),o=r(25);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],u={};u[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",u)}},function(t,e,r){e.glMatrix=r(113),e.mat2=r(114),e.mat2d=r(115),e.mat3=r(116),e.mat4=r(117),e.quat=r(118),e.vec2=r(121),e.vec3=r(119),e.vec4=r(120)},function(t,e){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var n=Math.PI/180;r.toRadian=function(t){return t*n},r.equals=function(t,e){return Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=r},function(t,e,r){var n=r(113),i={};i.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.fromValues=function(t,e,r,i){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o},i.set=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t},i.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},i.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=r*o-i*n;return u?(u=1/u,t[0]=o*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t):null},i.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=r[0],s=r[1],l=r[2],f=r[3];return t[0]=n*a+o*s,t[1]=i*a+u*s,t[2]=n*l+o*f,t[3]=i*l+u*f,t},i.mul=i.multiply,i.rotate=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(r),s=Math.cos(r);return t[0]=n*s+o*a,t[1]=i*s+u*a,t[2]=n*-a+o*s,t[3]=i*-a+u*s,t},i.scale=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=r[0],s=r[1];return t[0]=n*a,t[1]=i*a,t[2]=o*s,t[3]=u*s,t},i.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},i.sub=i.subtract,i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var r=t[0],i=t[1],o=t[2],u=t[3],a=e[0],s=e[1],l=e[2],f=e[3];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-f)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(f))},i.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},i.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},t.exports=i},function(t,e,r){var n=r(113),i={};i.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.fromValues=function(t,e,r,i,o,u){var a=new n.ARRAY_TYPE(6);return a[0]=t,a[1]=e,a[2]=r,a[3]=i,a[4]=o,a[5]=u,a},i.set=function(t,e,r,n,i,o,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=u,t},i.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=r*o-n*i;return s?(s=1/s,t[0]=o*s,t[1]=-n*s,t[2]=-i*s,t[3]=r*s,t[4]=(i*a-o*u)*s,t[5]=(n*u-r*a)*s,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=r[0],f=r[1],c=r[2],h=r[3],d=r[4],p=r[5];return t[0]=n*l+o*f,t[1]=i*l+u*f,t[2]=n*c+o*h,t[3]=i*c+u*h,t[4]=n*d+o*p+a,t[5]=i*d+u*p+s,t},i.mul=i.multiply,i.rotate=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=Math.sin(r),f=Math.cos(r);return t[0]=n*f+o*l,t[1]=i*f+u*l,t[2]=n*-l+o*f,t[3]=i*-l+u*f,t[4]=a,t[5]=s,t},i.scale=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=r[0],f=r[1];return t[0]=n*l,t[1]=i*l,t[2]=o*f,t[3]=u*f,t[4]=a,t[5]=s,t},i.translate=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=r[0],f=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=u,t[4]=n*l+o*f+a,t[5]=i*l+u*f+s,t},i.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t},i.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},i.equals=function(t,e){var r=t[0],i=t[1],o=t[2],u=t[3],a=t[4],s=t[5],l=e[0],f=e[1],c=e[2],h=e[3],d=e[4],p=e[5];return Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(u-h)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(a-d)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-p)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))},t.exports=i},function(t,e,r){var n=r(113),i={};i.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromValues=function(t,e,r,i,o,u,a,s,l){var f=new n.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=r,f[3]=i,f[4]=o,f[5]=u,f[6]=a,f[7]=s,f[8]=l,f},i.set=function(t,e,r,n,i,o,u,a,s,l){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=u,t[6]=a,t[7]=s,t[8]=l,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],l=e[7],f=e[8],c=f*u-a*l,h=-f*o+a*s,d=l*o-u*s,p=r*c+n*h+i*d;return p?(p=1/p,t[0]=c*p,t[1]=(-f*n+i*l)*p,t[2]=(a*n-i*u)*p,t[3]=h*p,t[4]=(f*r-i*s)*p,t[5]=(-a*r+i*o)*p,t[6]=d*p,t[7]=(-l*r+n*s)*p,t[8]=(u*r-n*o)*p,t):null},i.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],l=e[7],f=e[8];return t[0]=u*f-a*l,t[1]=i*l-n*f,t[2]=n*a-i*u,t[3]=a*s-o*f,t[4]=r*f-i*s,t[5]=i*o-r*a,t[6]=o*l-u*s,t[7]=n*s-r*l,t[8]=r*u-n*o,t},i.determinant=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],u=t[5],a=t[6],s=t[7],l=t[8];return e*(l*o-u*s)+r*(-l*i+u*a)+n*(s*i-o*a)},i.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=e[6],f=e[7],c=e[8],h=r[0],d=r[1],p=r[2],v=r[3],m=r[4],_=r[5],g=r[6],y=r[7],x=r[8];return t[0]=h*n+d*u+p*l,t[1]=h*i+d*a+p*f,t[2]=h*o+d*s+p*c,t[3]=v*n+m*u+_*l,t[4]=v*i+m*a+_*f,t[5]=v*o+m*s+_*c,t[6]=g*n+y*u+x*l,t[7]=g*i+y*a+x*f,t[8]=g*o+y*s+x*c,t},i.mul=i.multiply,i.translate=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=e[6],f=e[7],c=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=u,t[4]=a,t[5]=s,t[6]=h*n+d*u+l,t[7]=h*i+d*a+f,t[8]=h*o+d*s+c,t},i.rotate=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=e[6],f=e[7],c=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*u,t[1]=d*i+h*a,t[2]=d*o+h*s,t[3]=d*u-h*n,t[4]=d*a-h*i,t[5]=d*s-h*o,t[6]=l,t[7]=f,t[8]=c,t},i.scale=function(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=r+r,a=n+n,s=i+i,l=r*u,f=n*u,c=n*a,h=i*u,d=i*a,p=i*s,v=o*u,m=o*a,_=o*s;return t[0]=1-c-p,t[3]=f-_,t[6]=h+m,t[1]=f+_,t[4]=1-l-p,t[7]=d-v,t[2]=h-m,t[5]=d+v,t[8]=1-l-c,t},i.normalFromMat4=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],l=e[7],f=e[8],c=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],_=e[15],g=r*a-n*u,y=r*s-i*u,x=r*l-o*u,M=n*s-i*a,b=n*l-o*a,S=i*l-o*s,w=f*v-c*p,F=f*m-h*p,P=f*_-d*p,D=c*m-h*v,I=c*_-d*v,O=h*_-d*m,A=g*O-y*I+x*D+M*P-b*F+S*w;return A?(A=1/A,t[0]=(a*O-s*I+l*D)*A,t[1]=(s*P-u*O-l*F)*A,t[2]=(u*I-a*P+l*w)*A,t[3]=(i*I-n*O-o*D)*A,t[4]=(r*O-i*P+o*F)*A,t[5]=(n*P-r*I-o*w)*A,t[6]=(v*S-m*b+_*M)*A,t[7]=(m*x-p*S-_*y)*A,t[8]=(p*b-v*x+_*g)*A,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},i.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},i.equals=function(t,e){var r=t[0],i=t[1],o=t[2],u=t[3],a=t[4],s=t[5],l=t[6],f=t[7],c=t[8],h=e[0],d=e[1],p=e[2],v=e[3],m=e[4],_=e[5],g=t[6],y=e[7],x=e[8];return Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-d)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(u-v)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(a-m)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-_)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(l-g)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(f-y)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(c-x)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))},t.exports=i},function(t,e,r){var n=r(113),i={scalar:{},SIMD:{}};i.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.fromValues=function(t,e,r,i,o,u,a,s,l,f,c,h,d,p,v,m){var _=new n.ARRAY_TYPE(16);return _[0]=t,_[1]=e,_[2]=r,_[3]=i,_[4]=o,_[5]=u,_[6]=a,_[7]=s,_[8]=l,_[9]=f,_[10]=c,_[11]=h,_[12]=d,_[13]=p,_[14]=v,_[15]=m,_},i.set=function(t,e,r,n,i,o,u,a,s,l,f,c,h,d,p,v,m){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=u,t[6]=a,t[7]=s,t[8]=l,t[9]=f,t[10]=c,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=m,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.scalar.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],o=e[6],u=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=u,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.SIMD.transpose=function(t,e){var r,n,i,o,u,a,s,l,f,c;return r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4.shuffle(r,n,0,1,4,5),a=SIMD.Float32x4.shuffle(i,o,0,1,4,5),s=SIMD.Float32x4.shuffle(u,a,0,2,4,6),l=SIMD.Float32x4.shuffle(u,a,1,3,5,7),SIMD.Float32x4.store(t,0,s),SIMD.Float32x4.store(t,4,l),u=SIMD.Float32x4.shuffle(r,n,2,3,6,7),a=SIMD.Float32x4.shuffle(i,o,2,3,6,7),f=SIMD.Float32x4.shuffle(u,a,0,2,4,6),c=SIMD.Float32x4.shuffle(u,a,1,3,5,7),SIMD.Float32x4.store(t,8,f),SIMD.Float32x4.store(t,12,c),t},i.transpose=n.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],l=e[7],f=e[8],c=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],_=e[15],g=r*a-n*u,y=r*s-i*u,x=r*l-o*u,M=n*s-i*a,b=n*l-o*a,S=i*l-o*s,w=f*v-c*p,F=f*m-h*p,P=f*_-d*p,D=c*m-h*v,I=c*_-d*v,O=h*_-d*m,A=g*O-y*I+x*D+M*P-b*F+S*w;return A?(A=1/A,t[0]=(a*O-s*I+l*D)*A,t[1]=(i*I-n*O-o*D)*A,t[2]=(v*S-m*b+_*M)*A,t[3]=(h*b-c*S-d*M)*A,t[4]=(s*P-u*O-l*F)*A,t[5]=(r*O-i*P+o*F)*A,t[6]=(m*x-p*S-_*y)*A,t[7]=(f*S-h*x+d*y)*A,t[8]=(u*I-a*P+l*w)*A,t[9]=(n*P-r*I-o*w)*A,t[10]=(p*b-v*x+_*g)*A,t[11]=(c*x-f*b-d*g)*A,t[12]=(a*F-u*D-s*w)*A,t[13]=(r*D-n*F+i*w)*A,t[14]=(v*y-p*M-m*g)*A,t[15]=(f*M-c*y+h*g)*A,t):null},i.SIMD.invert=function(t,e){var r,n,i,o,u,a,s,l,f,c,h=SIMD.Float32x4.load(e,0),d=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),v=SIMD.Float32x4.load(e,12);return u=SIMD.Float32x4.shuffle(h,d,0,1,4,5),n=SIMD.Float32x4.shuffle(p,v,0,1,4,5),r=SIMD.Float32x4.shuffle(u,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,u,1,3,5,7),u=SIMD.Float32x4.shuffle(h,d,2,3,6,7),o=SIMD.Float32x4.shuffle(p,v,2,3,6,7),i=SIMD.Float32x4.shuffle(u,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,u,1,3,5,7),u=SIMD.Float32x4.mul(i,o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),a=SIMD.Float32x4.mul(n,u),s=SIMD.Float32x4.mul(r,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,u),a),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,u),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),u=SIMD.Float32x4.mul(n,i),u=SIMD.Float32x4.swizzle(u,1,0,3,2),a=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),a),f=SIMD.Float32x4.mul(r,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.sub(a,SIMD.Float32x4.mul(o,u)),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,u),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),u=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),a=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,u),a),l=SIMD.Float32x4.mul(r,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.sub(a,SIMD.Float32x4.mul(i,u)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,u),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),u=SIMD.Float32x4.mul(r,n),u=SIMD.Float32x4.swizzle(u,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),l),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,u),f),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,u),l),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(i,u)),u=SIMD.Float32x4.mul(r,o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,u)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,u),l),u=SIMD.Float32x4.swizzle(u,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,u),s),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,u)),u=SIMD.Float32x4.mul(r,i),u=SIMD.Float32x4.swizzle(u,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),s),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(n,u)),u=SIMD.Float32x4.swizzle(u,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,u)),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,u),f),c=SIMD.Float32x4.mul(r,a),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,2,3,0,1),c),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,1,0,3,2),c),u=SIMD.Float32x4.reciprocalApproximation(c),c=SIMD.Float32x4.sub(SIMD.Float32x4.add(u,u),SIMD.Float32x4.mul(c,SIMD.Float32x4.mul(u,u))),(c=SIMD.Float32x4.swizzle(c,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(c,a)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(c,s)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(c,l)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(c,f)),t):null},i.invert=n.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],l=e[7],f=e[8],c=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],_=e[15];return t[0]=a*(h*_-d*m)-c*(s*_-l*m)+v*(s*d-l*h),t[1]=-(n*(h*_-d*m)-c*(i*_-o*m)+v*(i*d-o*h)),t[2]=n*(s*_-l*m)-a*(i*_-o*m)+v*(i*l-o*s),t[3]=-(n*(s*d-l*h)-a*(i*d-o*h)+c*(i*l-o*s)),t[4]=-(u*(h*_-d*m)-f*(s*_-l*m)+p*(s*d-l*h)),t[5]=r*(h*_-d*m)-f*(i*_-o*m)+p*(i*d-o*h),t[6]=-(r*(s*_-l*m)-u*(i*_-o*m)+p*(i*l-o*s)),t[7]=r*(s*d-l*h)-u*(i*d-o*h)+f*(i*l-o*s),t[8]=u*(c*_-d*v)-f*(a*_-l*v)+p*(a*d-l*c),t[9]=-(r*(c*_-d*v)-f*(n*_-o*v)+p*(n*d-o*c)),t[10]=r*(a*_-l*v)-u*(n*_-o*v)+p*(n*l-o*a),t[11]=-(r*(a*d-l*c)-u*(n*d-o*c)+f*(n*l-o*a)),t[12]=-(u*(c*m-h*v)-f*(a*m-s*v)+p*(a*h-s*c)),t[13]=r*(c*m-h*v)-f*(n*m-i*v)+p*(n*h-i*c),t[14]=-(r*(a*m-s*v)-u*(n*m-i*v)+p*(n*s-i*a)),t[15]=r*(a*h-s*c)-u*(n*h-i*c)+f*(n*s-i*a),t},i.SIMD.adjoint=function(t,e){var r,n,i,o,u,a,s,l,f,c,h,d,p,r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return f=SIMD.Float32x4.shuffle(r,n,0,1,4,5),a=SIMD.Float32x4.shuffle(i,o,0,1,4,5),u=SIMD.Float32x4.shuffle(f,a,0,2,4,6),a=SIMD.Float32x4.shuffle(a,f,1,3,5,7),f=SIMD.Float32x4.shuffle(r,n,2,3,6,7),l=SIMD.Float32x4.shuffle(i,o,2,3,6,7),s=SIMD.Float32x4.shuffle(f,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,f,1,3,5,7),f=SIMD.Float32x4.mul(s,l),f=SIMD.Float32x4.swizzle(f,1,0,3,2),c=SIMD.Float32x4.mul(a,f),h=SIMD.Float32x4.mul(u,f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,f),c),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,f),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),f=SIMD.Float32x4.mul(a,s),f=SIMD.Float32x4.swizzle(f,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,f),c),p=SIMD.Float32x4.mul(u,f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(l,f)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,f),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),f=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(a,2,3,0,1),l),f=SIMD.Float32x4.swizzle(f,1,0,3,2),s=SIMD.Float32x4.swizzle(s,2,3,0,1),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,f),c),d=SIMD.Float32x4.mul(u,f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(s,f)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,f),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),f=SIMD.Float32x4.mul(u,a),f=SIMD.Float32x4.swizzle(f,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,f),d),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,f),p),f=SIMD.Float32x4.swizzle(f,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,f),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,f)),f=SIMD.Float32x4.mul(u,l),f=SIMD.Float32x4.swizzle(f,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,f)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,f),d),f=SIMD.Float32x4.swizzle(f,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,f),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(a,f)),f=SIMD.Float32x4.mul(u,s),f=SIMD.Float32x4.swizzle(f,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,f),h),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(a,f)),f=SIMD.Float32x4.swizzle(f,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,f)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,f),p),SIMD.Float32x4.store(t,0,c),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,d),SIMD.Float32x4.store(t,12,p),t},i.adjoint=n.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],u=t[5],a=t[6],s=t[7],l=t[8],f=t[9],c=t[10],h=t[11],d=t[12],p=t[13],v=t[14],m=t[15],_=e*u-r*o,g=e*a-n*o,y=e*s-i*o,x=r*a-n*u,M=r*s-i*u,b=n*s-i*a,S=l*p-f*d,w=l*v-c*d,F=l*m-h*d,P=f*v-c*p,D=f*m-h*p,I=c*m-h*v;return _*I-g*D+y*P+x*F-M*w+b*S},i.SIMD.multiply=function(t,e,r){var n=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),u=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.load(r,0),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(a,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(a,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(a,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(a,3,3,3,3),u))));SIMD.Float32x4.store(t,0,s);var l=SIMD.Float32x4.load(r,4),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),u))));SIMD.Float32x4.store(t,4,f);var c=SIMD.Float32x4.load(r,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),u))));SIMD.Float32x4.store(t,8,h);var d=SIMD.Float32x4.load(r,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),u))));return SIMD.Float32x4.store(t,12,p),t},i.scalar.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=e[6],f=e[7],c=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13],_=e[14],g=e[15],y=r[0],x=r[1],M=r[2],b=r[3];return t[0]=y*n+x*a+M*c+b*v,t[1]=y*i+x*s+M*h+b*m,t[2]=y*o+x*l+M*d+b*_,t[3]=y*u+x*f+M*p+b*g,y=r[4],x=r[5],M=r[6],b=r[7],t[4]=y*n+x*a+M*c+b*v,t[5]=y*i+x*s+M*h+b*m,t[6]=y*o+x*l+M*d+b*_,t[7]=y*u+x*f+M*p+b*g,y=r[8],x=r[9],M=r[10],b=r[11],t[8]=y*n+x*a+M*c+b*v,t[9]=y*i+x*s+M*h+b*m,t[10]=y*o+x*l+M*d+b*_,t[11]=y*u+x*f+M*p+b*g,y=r[12],x=r[13],M=r[14],b=r[15],t[12]=y*n+x*a+M*c+b*v,t[13]=y*i+x*s+M*h+b*m,t[14]=y*o+x*l+M*d+b*_,t[15]=y*u+x*f+M*p+b*g,t},i.multiply=n.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(t,e,r){var n,i,o,u,a,s,l,f,c,h,d,p,v=r[0],m=r[1],_=r[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*_+e[12],t[13]=e[1]*v+e[5]*m+e[9]*_+e[13],t[14]=e[2]*v+e[6]*m+e[10]*_+e[14],t[15]=e[3]*v+e[7]*m+e[11]*_+e[15]):(n=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],l=e[6],f=e[7],c=e[8],h=e[9],d=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=o,t[3]=u,t[4]=a,t[5]=s,t[6]=l,t[7]=f,t[8]=c,t[9]=h,t[10]=d,t[11]=p,t[12]=n*v+a*m+c*_+e[12],t[13]=i*v+s*m+h*_+e[13],t[14]=o*v+l*m+d*_+e[14],t[15]=u*v+f*m+p*_+e[15]),t},i.SIMD.translate=function(t,e,r){var n=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),u=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4(r[0],r[1],r[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(a,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2));var s=SIMD.Float32x4.add(n,SIMD.Float32x4.add(i,SIMD.Float32x4.add(o,u)));return SIMD.Float32x4.store(t,12,s),t},i.translate=n.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(t,e,r){var n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.SIMD.scale=function(t,e,r){var n,i,o,u=SIMD.Float32x4(r[0],r[1],r[2],0);return n=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(u,0,0,0,0))),i=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(u,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.scale=n.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(t,e,r,i){var o,u,a,s,l,f,c,h,d,p,v,m,_,g,y,x,M,b,S,w,F,P,D,I,O=i[0],A=i[1],E=i[2],R=Math.sqrt(O*O+A*A+E*E);return Math.abs(R)<n.EPSILON?null:(R=1/R,O*=R,A*=R,E*=R,o=Math.sin(r),u=Math.cos(r),a=1-u,s=e[0],l=e[1],f=e[2],c=e[3],h=e[4],d=e[5],p=e[6],v=e[7],m=e[8],_=e[9],g=e[10],y=e[11],x=O*O*a+u,M=A*O*a+E*o,b=E*O*a-A*o,S=O*A*a-E*o,w=A*A*a+u,F=E*A*a+O*o,P=O*E*a+A*o,D=A*E*a-O*o,I=E*E*a+u,t[0]=s*x+h*M+m*b,t[1]=l*x+d*M+_*b,t[2]=f*x+p*M+g*b,t[3]=c*x+v*M+y*b,t[4]=s*S+h*w+m*F,t[5]=l*S+d*w+_*F,t[6]=f*S+p*w+g*F,t[7]=c*S+v*w+y*F,t[8]=s*P+h*D+m*I,t[9]=l*P+d*D+_*I,t[10]=f*P+p*D+g*I,t[11]=c*P+v*D+y*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.scalar.rotateX=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[4],u=e[5],a=e[6],s=e[7],l=e[8],f=e[9],c=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*n,t[5]=u*i+f*n,t[6]=a*i+c*n,t[7]=s*i+h*n,t[8]=l*i-o*n,t[9]=f*i-u*n,t[10]=c*i-a*n,t[11]=h*i-s*n,t},i.SIMD.rotateX=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),i=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),u=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(u,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,i),SIMD.Float32x4.mul(o,n))),t},i.rotateX=n.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],u=e[1],a=e[2],s=e[3],l=e[8],f=e[9],c=e[10],h=e[11];
return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*n,t[1]=u*i-f*n,t[2]=a*i-c*n,t[3]=s*i-h*n,t[8]=o*n+l*i,t[9]=u*n+f*i,t[10]=a*n+c*i,t[11]=s*n+h*i,t},i.SIMD.rotateY=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),i=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),u=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(u,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(u,i))),t},i.rotateY=n.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],u=e[1],a=e[2],s=e[3],l=e[4],f=e[5],c=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*n,t[1]=u*i+f*n,t[2]=a*i+c*n,t[3]=s*i+h*n,t[4]=l*i-o*n,t[5]=f*i-u*n,t[6]=c*i-a*n,t[7]=h*i-s*n,t},i.SIMD.rotateZ=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),i=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),u=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(u,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,i),SIMD.Float32x4.mul(o,n))),t},i.rotateZ=n.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,r){var i,o,u,a=r[0],s=r[1],l=r[2],f=Math.sqrt(a*a+s*s+l*l);return Math.abs(f)<n.EPSILON?null:(f=1/f,a*=f,s*=f,l*=f,i=Math.sin(e),o=Math.cos(e),u=1-o,t[0]=a*a*u+o,t[1]=s*a*u+l*i,t[2]=l*a*u-s*i,t[3]=0,t[4]=a*s*u-l*i,t[5]=s*s*u+o,t[6]=l*s*u+a*i,t[7]=0,t[8]=a*l*u+s*i,t[9]=s*l*u-a*i,t[10]=l*l*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=n+n,s=i+i,l=o+o,f=n*a,c=n*s,h=n*l,d=i*s,p=i*l,v=o*l,m=u*a,_=u*s,g=u*l;return t[0]=1-(d+v),t[1]=c+g,t[2]=h-_,t[3]=0,t[4]=c-g,t[5]=1-(f+v),t[6]=p+m,t[7]=0,t[8]=h+_,t[9]=p-m,t[10]=1-(f+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},i.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},i.getRotation=function(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},i.fromRotationTranslationScale=function(t,e,r,n){var i=e[0],o=e[1],u=e[2],a=e[3],s=i+i,l=o+o,f=u+u,c=i*s,h=i*l,d=i*f,p=o*l,v=o*f,m=u*f,_=a*s,g=a*l,y=a*f,x=n[0],M=n[1],b=n[2];return t[0]=(1-(p+m))*x,t[1]=(h+y)*x,t[2]=(d-g)*x,t[3]=0,t[4]=(h-y)*M,t[5]=(1-(c+m))*M,t[6]=(v+_)*M,t[7]=0,t[8]=(d+g)*b,t[9]=(v-_)*b,t[10]=(1-(c+p))*b,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,r,n,i){var o=e[0],u=e[1],a=e[2],s=e[3],l=o+o,f=u+u,c=a+a,h=o*l,d=o*f,p=o*c,v=u*f,m=u*c,_=a*c,g=s*l,y=s*f,x=s*c,M=n[0],b=n[1],S=n[2],w=i[0],F=i[1],P=i[2];return t[0]=(1-(v+_))*M,t[1]=(d+x)*M,t[2]=(p-y)*M,t[3]=0,t[4]=(d-x)*b,t[5]=(1-(h+_))*b,t[6]=(m+g)*b,t[7]=0,t[8]=(p+y)*S,t[9]=(m-g)*S,t[10]=(1-(h+v))*S,t[11]=0,t[12]=r[0]+w-(t[0]*w+t[4]*F+t[8]*P),t[13]=r[1]+F-(t[1]*w+t[5]*F+t[9]*P),t[14]=r[2]+P-(t[2]*w+t[6]*F+t[10]*P),t[15]=1,t},i.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=r+r,a=n+n,s=i+i,l=r*u,f=n*u,c=n*a,h=i*u,d=i*a,p=i*s,v=o*u,m=o*a,_=o*s;return t[0]=1-c-p,t[1]=f+_,t[2]=h-m,t[3]=0,t[4]=f-_,t[5]=1-l-p,t[6]=d+v,t[7]=0,t[8]=h+m,t[9]=d-v,t[10]=1-l-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,r,n,i,o,u){var a=1/(r-e),s=1/(i-n),l=1/(o-u);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(r+e)*a,t[9]=(i+n)*s,t[10]=(u+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*l,t[15]=0,t},i.perspective=function(t,e,r,n,i){var o=1/Math.tan(e/2),u=1/(n-i);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*u,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),u=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),s=2/(u+a),l=2/(i+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((u-a)*s*.5),t[9]=(i-o)*l*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},i.ortho=function(t,e,r,n,i,o,u){var a=1/(e-r),s=1/(n-i),l=1/(o-u);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*a,t[13]=(i+n)*s,t[14]=(u+o)*l,t[15]=1,t},i.lookAt=function(t,e,r,o){var u,a,s,l,f,c,h,d,p,v,m=e[0],_=e[1],g=e[2],y=o[0],x=o[1],M=o[2],b=r[0],S=r[1],w=r[2];return Math.abs(m-b)<n.EPSILON&&Math.abs(_-S)<n.EPSILON&&Math.abs(g-w)<n.EPSILON?i.identity(t):(h=m-b,d=_-S,p=g-w,v=1/Math.sqrt(h*h+d*d+p*p),h*=v,d*=v,p*=v,u=x*p-M*d,a=M*h-y*p,s=y*d-x*h,v=Math.sqrt(u*u+a*a+s*s),v?(v=1/v,u*=v,a*=v,s*=v):(u=0,a=0,s=0),l=d*s-p*a,f=p*u-h*s,c=h*a-d*u,v=Math.sqrt(l*l+f*f+c*c),v?(v=1/v,l*=v,f*=v,c*=v):(l=0,f=0,c=0),t[0]=u,t[1]=l,t[2]=h,t[3]=0,t[4]=a,t[5]=f,t[6]=d,t[7]=0,t[8]=s,t[9]=c,t[10]=p,t[11]=0,t[12]=-(u*m+a*_+s*g),t[13]=-(l*m+f*_+c*g),t[14]=-(h*m+d*_+p*g),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},i.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},i.equals=function(t,e){var r=t[0],i=t[1],o=t[2],u=t[3],a=t[4],s=t[5],l=t[6],f=t[7],c=t[8],h=t[9],d=t[10],p=t[11],v=t[12],m=t[13],_=t[14],g=t[15],y=e[0],x=e[1],M=e[2],b=e[3],S=e[4],w=e[5],F=e[6],P=e[7],D=e[8],I=e[9],O=e[10],A=e[11],E=e[12],R=e[13],j=e[14],T=e[15];return Math.abs(r-y)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-x)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-M)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-b)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(a-S)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-w)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-F)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(F))&&Math.abs(f-P)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(c-D)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(h-I)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(d-O)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(p-A)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(v-E)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(m-R)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(_-j)<=n.EPSILON*Math.max(1,Math.abs(_),Math.abs(j))&&Math.abs(g-T)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(T))},t.exports=i},function(t,e,r){var n=r(113),i=r(116),o=r(119),u=r(120),a={};a.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},a.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),r=o.fromValues(0,1,0);return function(n,i,u){var s=o.dot(i,u);return s<-.999999?(o.cross(t,e,i),o.length(t)<1e-6&&o.cross(t,r,i),o.normalize(t,t),a.setAxisAngle(n,t,Math.PI),n):s>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(o.cross(t,i,u),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+s,a.normalize(n,n))}}(),a.setAxes=function(){var t=i.create();return function(e,r,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],a.normalize(e,a.fromMat3(e,t))}}(),a.clone=u.clone,a.fromValues=u.fromValues,a.copy=u.copy,a.set=u.set,a.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},a.setAxisAngle=function(t,e,r){r=.5*r;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t},a.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},a.add=u.add,a.multiply=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],a=r[0],s=r[1],l=r[2],f=r[3];return t[0]=n*f+u*a+i*l-o*s,t[1]=i*f+u*s+o*a-n*l,t[2]=o*f+u*l+n*s-i*a,t[3]=u*f-n*a-i*s-o*l,t},a.mul=a.multiply,a.scale=u.scale,a.rotateX=function(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(r),s=Math.cos(r);return t[0]=n*s+u*a,t[1]=i*s+o*a,t[2]=o*s-i*a,t[3]=u*s-n*a,t},a.rotateY=function(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(r),s=Math.cos(r);return t[0]=n*s-o*a,t[1]=i*s+u*a,t[2]=o*s+n*a,t[3]=u*s-i*a,t},a.rotateZ=function(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(r),s=Math.cos(r);return t[0]=n*s+i*a,t[1]=i*s-n*a,t[2]=o*s+u*a,t[3]=u*s-o*a,t},a.calculateW=function(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t},a.dot=u.dot,a.lerp=u.lerp,a.slerp=function(t,e,r,n){var i,o,u,a,s,l=e[0],f=e[1],c=e[2],h=e[3],d=r[0],p=r[1],v=r[2],m=r[3];return o=l*d+f*p+c*v+h*m,o<0&&(o=-o,d=-d,p=-p,v=-v,m=-m),1-o>1e-6?(i=Math.acos(o),u=Math.sin(i),a=Math.sin((1-n)*i)/u,s=Math.sin(n*i)/u):(a=1-n,s=n),t[0]=a*l+s*d,t[1]=a*f+s*p,t[2]=a*c+s*v,t[3]=a*h+s*m,t},a.sqlerp=function(){var t=a.create(),e=a.create();return function(r,n,i,o,u,s){return a.slerp(t,n,u,s),a.slerp(e,i,o,s),a.slerp(r,t,e,2*s*(1-s)),r}}(),a.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=r*r+n*n+i*i+o*o,a=u?1/u:0;return t[0]=-r*a,t[1]=-n*a,t[2]=-i*a,t[3]=o*a,t},a.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},a.length=u.length,a.len=a.length,a.squaredLength=u.squaredLength,a.sqrLen=a.squaredLength,a.normalize=u.normalize,a.fromMat3=function(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,u=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*u+u]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*o+u]-e[3*u+o])*r,t[o]=(e[3*o+i]+e[3*i+o])*r,t[u]=(e[3*u+i]+e[3*i+u])*r}return t},a.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.exactEquals=u.exactEquals,a.equals=u.equals,t.exports=a},function(t,e,r){var n=r(113),i={};i.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,r){var i=new n.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=r,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},i.sub=i.subtract,i.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},i.mul=i.multiply,i.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},i.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},i.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},i.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=r[0],a=r[1],s=r[2];return t[0]=i*s-o*a,t[1]=o*u-n*s,t[2]=n*a-i*u,t},i.lerp=function(t,e,r,n){var i=e[0],o=e[1],u=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=u+n*(r[2]-u),t},i.hermite=function(t,e,r,n,i,o){var u=o*o,a=u*(2*o-3)+1,s=u*(o-2)+o,l=u*(o-1),f=u*(3-2*o);return t[0]=e[0]*a+r[0]*s+n[0]*l+i[0]*f,t[1]=e[1]*a+r[1]*s+n[1]*l+i[1]*f,t[2]=e[2]*a+r[2]*s+n[2]*l+i[2]*f,t},i.bezier=function(t,e,r,n,i,o){var u=1-o,a=u*u,s=o*o,l=a*u,f=3*o*a,c=3*s*u,h=s*o;return t[0]=e[0]*l+r[0]*f+n[0]*c+i[0]*h,t[1]=e[1]*l+r[1]*f+n[1]*c+i[1]*h,t[2]=e[2]*l+r[2]*f+n[2]*c+i[2]*h,t},i.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,i=2*n.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=i*e,t},i.transformMat4=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=r[3]*n+r[7]*i+r[11]*o+r[15];return u=u||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/u,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/u,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/u,t},i.transformMat3=function(t,e,r){var n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t},i.transformQuat=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=r[0],a=r[1],s=r[2],l=r[3],f=l*n+a*o-s*i,c=l*i+s*n-u*o,h=l*o+u*i-a*n,d=-u*n-a*i-s*o;return t[0]=f*l+d*-u+c*-s-h*-a,t[1]=c*l+d*-a+h*-u-f*-s,t[2]=h*l+d*-s+f*-a-c*-u,t},i.rotateX=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},i.rotateY=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},i.rotateZ=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},i.forEach=function(){var t=i.create();return function(e,r,n,i,o,u){var a,s;for(r||(r=3),n||(n=0),s=i?Math.min(i*r+n,e.length):e.length,a=n;a<s;a+=r)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],o(t,t,u),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}}(),i.angle=function(t,e){var r=i.fromValues(t[0],t[1],t[2]),n=i.fromValues(e[0],e[1],e[2]);i.normalize(r,r),i.normalize(n,n);var o=i.dot(r,n);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var r=t[0],i=t[1],o=t[2],u=e[0],a=e[1],s=e[2];return Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-a)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))},t.exports=i},function(t,e,r){var n=r(113),i={};i.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,r,i){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},i.sub=i.subtract,i.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t},i.mul=i.multiply,i.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},i.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},i.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},i.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},i.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},i.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(r*r+n*n+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.sqrt(e*e+r*r+n*n+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],u=r*r+n*n+i*i+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=r*u,t[1]=n*u,t[2]=i*u,t[3]=o*u),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,r,n){var i=e[0],o=e[1],u=e[2],a=e[3];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=u+n*(r[2]-u),t[3]=a+n*(r[3]-a),t},i.random=function(t,e){return e=e||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*u,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*u,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*u,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*u,t},i.transformQuat=function(t,e,r){var n=e[0],i=e[1],o=e[2],u=r[0],a=r[1],s=r[2],l=r[3],f=l*n+a*o-s*i,c=l*i+s*n-u*o,h=l*o+u*i-a*n,d=-u*n-a*i-s*o;return t[0]=f*l+d*-u+c*-s-h*-a,t[1]=c*l+d*-a+h*-u-f*-s,t[2]=h*l+d*-s+f*-a-c*-u,t[3]=e[3],t},i.forEach=function(){var t=i.create();return function(e,r,n,i,o,u){var a,s;for(r||(r=4),n||(n=0),s=i?Math.min(i*r+n,e.length):e.length,a=n;a<s;a+=r)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,u),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var r=t[0],i=t[1],o=t[2],u=t[3],a=e[0],s=e[1],l=e[2],f=e[3];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-f)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(f))},t.exports=i},function(t,e,r){var n=r(113),i={};i.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,r){return t[0]=e,t[1]=r,t},i.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},i.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},i.sub=i.subtract,i.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},i.mul=i.multiply,i.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},i.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},i.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},i.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)},i.dist=i.distance,i.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],r=t[1];return e*e+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},i.lerp=function(t,e,r,n){var i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t},i.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},i.transformMat2=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t},i.transformMat2d=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t},i.transformMat3=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t},i.transformMat4=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t},i.forEach=function(){var t=i.create();return function(e,r,n,i,o,u){var a,s;for(r||(r=2),n||(n=0),s=i?Math.min(i*r+n,e.length):e.length,a=n;a<s;a+=r)t[0]=e[a],t[1]=e[a+1],o(t,t,u),e[a]=t[0],e[a+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var r=t[0],i=t[1],o=e[0],u=e[1];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))},t.exports=i},function(t,e,r){if("undefined"==typeof n)var n={};n.brehaut||(n.brehaut={}),function(){"use strict";function t(t,e){t=t.toString();for(var r=[],n=0,i=Math.max(e-t.length,0);n<i;n++)r.push("0");return r.push(t),r.join("")}function e(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function r(t){return t.replace(/^\s+|\s+$/g,"")}function i(t){return function(){var e=this.clone();return t.apply(e,arguments),e}}function o(t,r){function n(t){return function(){return t.apply(this[s](),arguments)}}function i(){}function o(){return new i}var u=y(c),a=[],s="to"+e(t);for(var l in r)if(r.hasOwnProperty(l)){u[l]=r[l];var f=u[l];if("_"==l.slice(0,1))continue;if(l in c||"function"!=typeof f){if("function"!=typeof f){a.push(l);var h="get"+e(l),d="set"+e(l);c[h]=n(u[h]=function(t){return function(){return this[t]}}(l)),c[d]=n(u[d]=function(t){return function(e){var r=this.clone();return r[t]=e,r}}(l))}}else c[l]=n(f)}return i.prototype=u,g[t]=o,u.clone=function(){for(var t=o(),e=0,r=a.length;e<r;e++){var n=a[e];t[n]=this[n]}return t},c[s]=function(){return o()},_.push(u),u}function u(t){return c.fromObject(t)}var a={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370D8",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#D87093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},s="(?:\\+|-)?\\d+",l="(?:\\+|-)?\\d*\\.\\d+",f="(?:"+s+")|(?:"+l+")";s="("+s+")",l="("+l+")",f="("+f+")";var c,h=f+"%",d="\\s*?",p=new RegExp(["^hsl(a?)\\(",f,",",h,",",h,"(,(",f,"))?\\)$"].join(d)),v=new RegExp(["^rgb(a?)\\(",s,",",s,",",s,"(,(",f,"))?\\)$"].join(d)),m=new RegExp(["^rgb(a?)\\(",h,",",h,",",h,"(,(",f,"))?\\)$"].join(d)),_=[],g={};this.object||(this.object=function(t){function e(){}return e.prototype=t,new e});var y=this.object;c={fromObject:function(t){if(!t)return y(c);for(var e=0,r=_.length;e<r;e++){var n=_[e].fromObject(t);if(n)return n}return y(c)},toString:function(){return this.toCSS()}};var x=null;o("RGB",{red:0,green:0,blue:0,alpha:0,getLuminance:function(){return.2126*this.red+.7152*this.green+.0722*this.blue},blend:function(t,e){t=t.toRGB(),e=Math.min(Math.max(e,0),1);var r=this.clone();return r.red=r.red*(1-e)+t.red*e,r.green=r.green*(1-e)+t.green*e,r.blue=r.blue*(1-e)+t.blue*e,r.alpha=r.alpha*(1-e)+t.alpha*e,r},fromObject:function(t){return t instanceof Array?this._fromRGBArray(t):"string"==typeof t?this._fromCSS(r(t)):t.hasOwnProperty("red")&&t.hasOwnProperty("green")&&t.hasOwnProperty("blue")?this._fromRGB(t):void 0},_stringParsers:[function(t){function e(e,r){var n=t.match(e);if(!n||!!n[1]+!!n[5]===1)return null;var i=g.RGB();return i.red=Math.min(1,Math.max(0,n[2]/r)),i.green=Math.min(1,Math.max(0,n[3]/r)),i.blue=Math.min(1,Math.max(0,n[4]/r)),i.alpha=n[5]?Math.min(Math.max(parseFloat(n[6]),0),1):1,i}t=r(t);var n=e(v,255);return n?n:e(m,100)},function(t){var e=t.toLowerCase();if(e in a&&(t=a[e]),t.match(/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/)){t=t.replace(/^#/,"");var r=t.length/3,n=Math.pow(16,r)-1,i=g.RGB();return i.red=parseInt(t.slice(0,r),16)/n,i.green=parseInt(t.slice(1*r,2*r),16)/n,i.blue=parseInt(t.slice(2*r),16)/n,i.alpha=1,i}},function(t){if("transparent"===t.toLowerCase())return x}],_fromCSS:function(t){for(var e=null,r=0,n=this._stringParsers.length;r<n;r++)if(e=this._stringParsers[r](t))return e},_fromRGB:function(t){var e=g.RGB();return e.red=t.red,e.green=t.green,e.blue=t.blue,e.alpha=t.hasOwnProperty("alpha")?t.alpha:1,e},_fromRGBArray:function(t){var e=g.RGB();return e.red=Math.max(0,Math.min(1,t[0]/255)),e.green=Math.max(0,Math.min(1,t[1]/255)),e.blue=Math.max(0,Math.min(1,t[2]/255)),e.alpha=void 0!==t[3]?Math.max(0,Math.min(1,t[3])):1,e},toCSSHex:function(e){e=e||2;var r=Math.pow(16,e)-1,n=["#",t(Math.round(this.red*r).toString(16).toUpperCase(),e),t(Math.round(this.green*r).toString(16).toUpperCase(),e),t(Math.round(this.blue*r).toString(16).toUpperCase(),e)];return n.join("")},toCSS:function(t){if(1===this.alpha)return this.toCSSHex(t);var e=255,r=["rgba(",Math.max(0,Math.min(e,Math.round(this.red*e))),",",Math.max(0,Math.min(e,Math.round(this.green*e))),",",Math.max(0,Math.min(e,Math.round(this.blue*e))),",",Math.max(0,Math.min(1,this.alpha)),")"];
return r.join("")},toHSV:function(){var t,e,r,n=g.HSV();return t=Math.min(this.red,this.green,this.blue),e=Math.max(this.red,this.green,this.blue),n.value=e,r=e-t,0==r?n.hue=n.saturation=0:(n.saturation=r/e,this.red==e?n.hue=(this.green-this.blue)/r:this.green==e?n.hue=2+(this.blue-this.red)/r:n.hue=4+(this.red-this.green)/r,n.hue=(60*n.hue+360)%360),n.alpha=this.alpha,n},toHSL:function(){return this.toHSV().toHSL()},toRGB:function(){return this.clone()}}),x=c.fromObject({red:0,blue:0,green:0,alpha:0}),o("HSV",{hue:0,saturation:0,value:1,alpha:1,shiftHue:i(function(t){var e=(this.hue+t)%360;e<0&&(e=(360+e)%360),this.hue=e}),devalueByAmount:i(function(t){this.value=Math.min(1,Math.max(this.value-t,0))}),devalueByRatio:i(function(t){this.value=Math.min(1,Math.max(this.value*(1-t),0))}),valueByAmount:i(function(t){this.value=Math.min(1,Math.max(this.value+t,0))}),valueByRatio:i(function(t){this.value=Math.min(1,Math.max(this.value*(1+t),0))}),desaturateByAmount:i(function(t){this.saturation=Math.min(1,Math.max(this.saturation-t,0))}),desaturateByRatio:i(function(t){this.saturation=Math.min(1,Math.max(this.saturation*(1-t),0))}),saturateByAmount:i(function(t){this.saturation=Math.min(1,Math.max(this.saturation+t,0))}),saturateByRatio:i(function(t){this.saturation=Math.min(1,Math.max(this.saturation*(1+t),0))}),schemeFromDegrees:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=this.clone();i.hue=(this.hue+t[r])%360,e.push(i)}return e},complementaryScheme:function(){return this.schemeFromDegrees([0,180])},splitComplementaryScheme:function(){return this.schemeFromDegrees([0,150,320])},splitComplementaryCWScheme:function(){return this.schemeFromDegrees([0,150,300])},splitComplementaryCCWScheme:function(){return this.schemeFromDegrees([0,60,210])},triadicScheme:function(){return this.schemeFromDegrees([0,120,240])},clashScheme:function(){return this.schemeFromDegrees([0,90,270])},tetradicScheme:function(){return this.schemeFromDegrees([0,90,180,270])},fourToneCWScheme:function(){return this.schemeFromDegrees([0,60,180,240])},fourToneCCWScheme:function(){return this.schemeFromDegrees([0,120,180,300])},fiveToneAScheme:function(){return this.schemeFromDegrees([0,115,155,205,245])},fiveToneBScheme:function(){return this.schemeFromDegrees([0,40,90,130,245])},fiveToneCScheme:function(){return this.schemeFromDegrees([0,50,90,205,320])},fiveToneDScheme:function(){return this.schemeFromDegrees([0,40,155,270,310])},fiveToneEScheme:function(){return this.schemeFromDegrees([0,115,230,270,320])},sixToneCWScheme:function(){return this.schemeFromDegrees([0,30,120,150,240,270])},sixToneCCWScheme:function(){return this.schemeFromDegrees([0,90,120,210,240,330])},neutralScheme:function(){return this.schemeFromDegrees([0,15,30,45,60,75])},analogousScheme:function(){return this.schemeFromDegrees([0,30,60,90,120,150])},fromObject:function(t){if(t.hasOwnProperty("hue")&&t.hasOwnProperty("saturation")&&t.hasOwnProperty("value")){var e=g.HSV();return e.hue=t.hue,e.saturation=t.saturation,e.value=t.value,e.alpha=t.hasOwnProperty("alpha")?t.alpha:1,e}return null},_normalise:function(){this.hue%=360,this.saturation=Math.min(Math.max(0,this.saturation),1),this.value=Math.min(Math.max(0,this.value)),this.alpha=Math.min(1,Math.max(0,this.alpha))},toRGB:function(){this._normalise();var t,e,r,n,i,o=g.RGB();if(0===this.saturation)return o.red=this.value,o.green=this.value,o.blue=this.value,o.alpha=this.alpha,o;var u=this.hue/60;switch(t=Math.floor(u),e=u-t,r=this.value*(1-this.saturation),n=this.value*(1-this.saturation*e),i=this.value*(1-this.saturation*(1-e)),t){case 0:o.red=this.value,o.green=i,o.blue=r;break;case 1:o.red=n,o.green=this.value,o.blue=r;break;case 2:o.red=r,o.green=this.value,o.blue=i;break;case 3:o.red=r,o.green=n,o.blue=this.value;break;case 4:o.red=i,o.green=r,o.blue=this.value;break;default:o.red=this.value,o.green=r,o.blue=n}return o.alpha=this.alpha,o},toHSL:function(){this._normalise();var t=g.HSL();t.hue=this.hue;var e=(2-this.saturation)*this.value,r=this.saturation*this.value;return e&&2-e&&(r/=e<=1?e:2-e),e/=2,t.saturation=r,t.lightness=e,t.alpha=this.alpha,t},toHSV:function(){return this.clone()}}),o("HSL",{hue:0,saturation:0,lightness:0,alpha:1,darkenByAmount:i(function(t){this.lightness=Math.min(1,Math.max(this.lightness-t,0))}),darkenByRatio:i(function(t){this.lightness=Math.min(1,Math.max(this.lightness*(1-t),0))}),lightenByAmount:i(function(t){this.lightness=Math.min(1,Math.max(this.lightness+t,0))}),lightenByRatio:i(function(t){this.lightness=Math.min(1,Math.max(this.lightness*(1+t),0))}),fromObject:function(t){return"string"==typeof t?this._fromCSS(t):t.hasOwnProperty("hue")&&t.hasOwnProperty("saturation")&&t.hasOwnProperty("lightness")?this._fromHSL(t):void 0},_fromCSS:function(t){var e=r(t).match(p);if(!e||!!e[1]+!!e[5]===1)return null;var n=g.HSL();return n.hue=(e[2]%360+360)%360,n.saturation=Math.max(0,Math.min(parseInt(e[3],10)/100,1)),n.lightness=Math.max(0,Math.min(parseInt(e[4],10)/100,1)),n.alpha=e[5]?Math.max(0,Math.min(1,parseFloat(e[6]))):1,n},_fromHSL:function(t){var e=g.HSL();return e.hue=t.hue,e.saturation=t.saturation,e.lightness=t.lightness,e.alpha=t.hasOwnProperty("alpha")?t.alpha:1,e},_normalise:function(){this.hue=(this.hue%360+360)%360,this.saturation=Math.min(Math.max(0,this.saturation),1),this.lightness=Math.min(Math.max(0,this.lightness)),this.alpha=Math.min(1,Math.max(0,this.alpha))},toHSL:function(){return this.clone()},toHSV:function(){this._normalise();var t=g.HSV();t.hue=this.hue;var e=2*this.lightness,r=this.saturation*(e<=1?e:2-e);return t.value=(e+r)/2,t.saturation=2*r/(e+r)||0,t.alpha=this.alpha,t},toRGB:function(){return this.toHSV().toRGB()}}),u.isValid=function(t){var e,r=u(t),n=0;for(e in r)r.hasOwnProperty(e)&&n++;return n>0},n.brehaut.Color=u}.call(n.brehaut),t.exports=n.brehaut.Color},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteGroup=e.Picture=e.Scene=e.NodeState=e.Node=void 0;var i=r(124),o=n(i),u=r(125),a=n(u),s=r(136),l=n(s),f=r(204),c=n(f),h=r(200),d=n(h);e.Node=o["default"],e.NodeState=a["default"],e.Scene=l["default"],e.Picture=c["default"],e.SpriteGroup=d["default"]},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!t)throw new Error("[Picimo.graph.Node] app should not be undefined!");p.object.definePropertyPublicRO(this,"app",t),this.name=p.asString(e.name),this.state=new m["default"](m["default"].CREATE),this.display=p.asBoolean(e.display,!0),(0,g["default"])(this,e.ready!==!1),(0,f["default"])(this,{initDone:{value:!1,configurable:!0,enumerable:!0},initGlDone:{value:!1,configurable:!0,enumerable:!0}}),(0,x["default"])(this,e.renderPrio),u(this,e.parentNode),this.children=[],(0,h["default"])(this),this.on("childrenUpdated",h["default"].PRIO_MAX,a),this.connect(e,{onInit:"init",onInitGl:"initGl",onFrame:"frame",onRenderFrame:"renderFrame",onFrameEnd:"frameEnd",onDestroyGl:"destroyGl",onDestroy:"destroy",onChildrenUpdated:"childrenUpdated"})}function u(t,e){Object.defineProperty(t,"parentNode",{value:e instanceof o?e:null,configurable:!0})}function a(){this.children=this.children.sort(s)}function s(t,e){return-t.renderPrio- -e.renderPrio}Object.defineProperty(e,"__esModule",{value:!0});var l=r(95),f=i(l);e["default"]=o;var c=r(3),h=i(c),d=r(73),p=n(d),v=r(125),m=i(v),_=r(132),g=i(_),y=r(133),x=i(y),M=r(134),b=i(M),S=r(135),w=i(S);(0,f["default"])(o.prototype,{isRootNode:{get:function(){return!this.parentNode},enumerable:!0}}),o.prototype.renderFrame=b["default"],o.prototype.destroy=w["default"],o.prototype.appendChild=function(t){return this.children.indexOf(t)!==-1?t:(this.children.push(t),u(t,this),this.emit("childrenUpdated"),t)},o.prototype.removeChild=function(t){var e=this.children.indexOf(t);return e===-1?t:(this.children.splice(e,1),u(t,null),this.emit("childrenUpdated"),t)},o.prototype.findNode=function(t){if(t){if(this.name===t)return this;var e=void 0,r=void 0,n=void 0;for(r=0,n=this.children.length;r<n;++r)if(e=this.children[r].findNode(t))return e}}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){this.value=0|t,(0,l["default"])(this)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(126),a=i(u),s=r(129),l=i(s);e["default"]=o;var f=r(73),c=n(f);o.prototype.is=function(t){return(this.value&(0|t))>0},o.prototype.isNot=function(t){return!this.is(t)},o.prototype.set=function(t){return this.value=0|t,this},o.prototype.toString=function(){var t=[];return this.is(o.CREATE)&&t.push("CREATE"),this.is(o.INIT)&&t.push("INIT"),this.is(o.READY)&&t.push("READY"),this.is(o.ERROR)&&t.push("ERROR"),this.is(o.DESTROYED)&&t.push("DESTROYED"),"["+t.join(",")+"]"},c.object.definePropertiesPublicRO(o,{CREATE:1,INIT:2,READY:4,ERROR:8,DESTROYED:16}),(0,a["default"])(o)},function(t,e,r){t.exports={"default":r(127),__esModule:!0}},function(t,e,r){r(128),t.exports=r(16).Object.freeze},function(t,e,r){var n=r(22),i=r(60).onFreeze;r(111)("freeze",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},function(t,e,r){t.exports={"default":r(130),__esModule:!0}},function(t,e,r){r(131),t.exports=r(16).Object.seal},function(t,e,r){var n=r(22),i=r(60).onFreeze;r(111)("seal",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var r=!!e,n=null;Object.defineProperty(t,"readyFunc",{get:function(){return n},set:function(t){n=t===!1?function(){return!1}:t===!0?null:"function"==typeof t?t:null}}),Object.defineProperty(t,"ready",{get:function(){return r&&this.state.isNot(u["default"].ERROR|u["default"].DESTROYED)&&(null===n||!!n())},set:function(t){r=!!t}})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(125),u=n(o)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t,e){var r=u.asNumber(e,a);Object.defineProperty(t,"renderPrio",{get:function(){return r},set:function(t){var e=u.asNumber(t,a);e!==r&&(r=e,this.parentNode&&this.parentNode.emit("childrenUpdated"))},enumerable:!0})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(73),u=n(o),a=0},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(){if(this.ready&&!this.state.is(m["default"].DESTROYED)&&(this.state.is(m["default"].CREATE)&&u(this),this.state.is(m["default"].READY)&&this.display)){try{this.emit("frame"),this.emit("renderFrame")}catch(t){return console.error("[frame,renderFrame]",t),void(this.ready=!1)}for(var e=0;e<this.children.length;++e)this.children[e].renderFrame();try{this.emit("frameEnd")}catch(t){console.error("[frameEnd]",t),this.ready=!1}}}function u(t){t.state.set(m["default"].INIT);var e=[];try{t.emit("init",l(e,t)),h["default"].all(e).then(a.bind(t,t),f.bind(t,t))}catch(r){console.error("[init]",r),this.ready=!1}}function a(t){if(p.object.definePropertyPublicRO(t,"initDone",!0),t.ready){var e=[];try{t.emit("initGl",l(e,t)),h["default"].all(e).then(s.bind(t,t),f.bind(t,t))}catch(r){console.error("[initGl]",r),this.ready=!1}}}function s(t){p.object.definePropertyPublicRO(t,"initGlDone",!0),t.ready&&t.state.set(m["default"].READY)}function l(t){return function(e){e&&("function"==typeof e&&(e=new h["default"](e)),t.push(e))}}function f(t){t.ready&&t.state.set(m["default"].ERROR)}Object.defineProperty(e,"__esModule",{value:!0});var c=r(79),h=i(c);e["default"]=o;var d=r(73),p=n(d),v=r(125),m=i(v)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){if(!this.state.is(u["default"].DESTROYED)){for(var t=0;t<this.children.length;++t)this.children[t].destroy();if(this.initGlDone)try{this.emit("destroyGl")}catch(e){console.error("[destroyGl]",e)}if(this.initDone)try{this.emit("destroy")}catch(e){console.error("[destroy]",e)}this.state.set(u["default"].DESTROYED),this.parentNode&&this.parentNode.removeChild(this)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(125),u=n(o)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];c["default"].call(this,t,e),this._sizeFit="cover"===e.sizeFit?"cover":"contain",e.projection?(0,v.initProjection)(this,e):(0,v.initWithoutProjection)(this),(0,v.initTransform)(this),this.prevWidth=null,this.prevHeight=null,this.prevPixelRatio=null,this.parentResolution={width:null,height:null,pixelRatio:null,devicePixelRatio:null},this.renderCmd={uniforms:{sceneInfo:[0,0,0],viewMatrix:this.viewMatrixUniform}},this.renderPostCmd={uniforms:{viewMatrix:this.renderCmd.uniforms.viewMatrix.restoreCmd}},this.blendMode=e.blendMode,this.hasOwnProjection&&(this.renderCmd.uniforms.projectionMatrix=new p.cmd.UniformValue((!0),this.projection),this.renderPostCmd.uniforms.projectionMatrix=this.renderCmd.uniforms.projectionMatrix.restoreCmd),this.isRootNode&&(0,v.initRootScene)(this),this.on("frame",m.onFrame),this.on("frameEnd",m.onFrameEnd),this.connect(e,{onResize:"resize",onProjectionUpdated:"projectionUpdated"})}Object.defineProperty(e,"__esModule",{value:!0});var u=r(95),a=i(u),s=r(104),l=i(s);e["default"]=o;var f=r(124),c=i(f),h=r(137),d=n(h),p=r(139),v=r(192),m=r(193),_=r(194),g=i(_);o.prototype=(0,l["default"])(c["default"].prototype),o.prototype.constructor=o,(0,g["default"])(o),(0,a["default"])(o.prototype,{scene:{get:function(){if(!this.isRootNode)for(var t=this.parentNode;t;){if("width"in t&&"height"in t&&"pixelRatio"in t&&"devicePixelRatio"in t)return t;t=t.parentNode}},enumerable:!0},blendMode:{enumerable:!0,get:function(){return this._blendMode},set:function(t){var e=null!=t?t:null;this._blendMode=e,e?(this.renderCmd.blendMode=e,this.renderPostCmd.blendMode=!1):(delete this.renderCmd.blendMode,delete this.renderPostCmd.blendMode)}}}),o.prototype.setBlendMode=function(t,e,r,n,i,o){if(0===arguments.length||null==arguments[0])this.blendMode=void 0;else if(1===arguments.length&&"string"==typeof arguments[0]){var u=arguments[0].toUpperCase();this.blendMode=p.cmd.BlendMode[u]}else this.blendMode=new p.cmd.BlendMode(t,e,r,n,i,o);return this.blendMode},o.prototype.setSize=function(t,e,r){var n=parseFloat(t),i=parseFloat(e);return n&&!i?i=n:i&&!n&&(n=i),(n&&i&&this._desiredWidth!==n||this._desiredHeight!==i||this.sizeFit!==r)&&(this._desiredWidth=n,this._desiredHeight=i,this._desiredPixelRatio=0,this.sizeFit=r,this.projectionNeedsUpdate=!0,(0,v.updateProjection)(this)),this},o.prototype.computeViewMatrix=function(t){if(t||(t=new d.Matrix4),this.hasOwnProjection)t.multiply(this.projection,this.transform);else{var e=this.scene;e?t.multiply(e.computeViewMatrix(),this.transform):t.copy(this.transform)}return t}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t>e?t:e}function o(t){for(var e=1;t>e;)e<<=1;return e}function u(t){return 0!==t&&0===(t&t-1)}Object.defineProperty(e,"__esModule",{value:!0}),e.Matrix4=void 0,e.maxOf=i,e.findNextPowerOfTwo=o,e.isPowerOfTwo=u;var a=r(138),s=n(a);e.Matrix4=s["default"]},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(129),u=i(o),a=r(101),s=i(a),l=r(102),f=i(l),c=r(73),h=n(c),d=h.glMatrix.mat4,p=function(){function t(){(0,s["default"])(this,t),this.serial=1,h.object.definePropertyPublicRO(this,"mat4",d.create()),(0,u["default"])(this)}return(0,f["default"])(t,[{key:"identity",value:function(){d.identity(this.mat4),++this.serial}},{key:"ortho",value:function(t,e,r){var n=t>>1,i=e>>1,o=(r?r:Math.pow(2,14))>>1;d.ortho(this.mat4,-n,n,-i,i,-o,o),++this.serial}},{key:"translate",value:function(t,e){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];d.translate(this.mat4,this.mat4,[t,e,r]),++this.serial}},{key:"scale",value:function(t,e){var r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];d.scale(this.mat4,this.mat4,[t,e,r]),++this.serial}},{key:"rotateX",value:function(t){d.rotateX(this.mat4,this.mat4,t*Math.PI/180),++this.serial}},{key:"rotateY",value:function(t){d.rotateY(this.mat4,this.mat4,t*Math.PI/180),++this.serial}},{key:"rotateZ",value:function(t){d.rotateZ(this.mat4,this.mat4,t*Math.PI/180),++this.serial}},{key:"multiply",value:function(t,e){d.multiply(this.mat4,t.mat4,e.mat4),++this.serial}},{key:"copy",value:function(t){d.copy(this.mat4,t.mat4),++this.serial}},{key:"clone",value:function(){var e=new t;return e.copy(this),e}},{key:"x",get:function(){return this.mat4[12]},set:function(t){this.mat4[12]=t,++this.serial}},{key:"y",get:function(){return this.mat4[13]},set:function(t){this.mat4[13]=t,++this.serial}},{key:"z",get:function(){return this.mat4[14]},set:function(t){this.mat4[14]=t,++this.serial}},{key:"sx",get:function(){return this.mat4[0]},set:function(t){this.mat4[0]=t,++this.serial}},{key:"sy",get:function(){return this.mat4[5]},set:function(t){this.mat4[5]=t,++this.serial}},{key:"sz",get:function(){return this.mat4[10]},set:function(t){this.mat4[10]=t,++this.serial}}]),t}();e["default"]=p},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.WebGlBuffer=e.WebGlTexture=e.WebGlProgram=e.WebGlRenderer=e.WebGlContext=e.TextureManager=e.ShaderManager=e.ShaderSource=e.Program=e.cmd=void 0;var o=r(140),u=i(o),a=r(143),s=n(a),l=r(148),f=n(l),c=r(183),h=n(c),d=r(184),p=n(d),v=r(186),m=n(v),_=r(187),g=n(_),y=r(144),x=n(y),M=r(185),b=n(M),S=r(191),w=n(S);e.cmd=u,e.Program=s["default"],e.ShaderSource=f["default"],e.ShaderManager=h["default"],e.TextureManager=p["default"],e.WebGlContext=m["default"],e.WebGlRenderer=g["default"],e.WebGlProgram=x["default"],e.WebGlTexture=b["default"],e.WebGlBuffer=w["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.UniformValue=e.BlendMode=void 0;var i=r(141),o=n(i),u=r(142),a=n(u);e.BlendMode=o["default"],e.UniformValue=a["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r,n,i,o){this.depthTest=!!t,this.depthTest?(this.depthMask=e,this.depthFunc=r):(n=e,i=r,o=n),this.blend=!!n,this.blend&&(this.blendFuncSrc=i,this.blendFuncDst=o),(0,u["default"])(this)}Object.defineProperty(e,"__esModule",{value:!0});var o=r(126),u=n(o);e["default"]=i,i.prototype.activate=function(t){this.depthTest?(t.enable(t.DEPTH_TEST),t.depthMask(this.depthMask),t.depthFunc(t[this.depthFunc])):t.disable(t.DEPTH_TEST),this.blend?(t.enable(t.BLEND),t.blendFunc(t[this.blendFuncSrc],t[this.blendFuncDst])):t.disable(t.BLEND)},i.DEFAULT=new i((!0),(!0),"ALWAYS",(!0),"SRC_ALPHA","ONE_MINUS_SRC_ALPHA"),i.ISO3D=new i((!0),(!0),"LEQUAL",(!0),"SRC_ALPHA","ONE_MINUS_SRC_ALPHA")},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){l.addUid(this),l.object.definePropertiesPublicRO(this,{isRestorable:!!t,isUniformValueCmd:!0,restoreCmd:(0,a["default"])({isUniformValueRestoreCmd:!0,uid:this.uid})}),this.value=null,this.prevValue=null,void 0!==e&&this.setValue(e)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(126),a=i(u);e["default"]=o;var s=r(73),l=n(s);o.prototype.getValue=function(t){return"function"==typeof this.value?this.value(t):this.value?this.value:t},o.prototype.setValue=function(t){return this.value=t,this}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function o(t,e,r){a.addUid(this),a.object.definePropertiesPublicRO(this,{name:t,vertexShaderName:e?e:t,fragmentShaderName:r?r:t})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var u=r(73),a=i(u),s=r(144),l=n(s);o.prototype.linkProgram=function(t){var e=t.glx,r=e.gl,n=e.glShader(t.getVertexShader(this.vertexShaderName));if(n){var i=e.glShader(t.getFragmentShader(this.fragmentShaderName));if(i){var o=r.createProgram();if(r.attachShader(o,n),r.attachShader(o,i),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS))throw new Error("Could not link webgl program: "+this.name);return new l["default"](this,o,e)}}}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){this.program=t,this.glProgram=e,this.glx=r,o(this),(0,a["default"])(this)}function o(t){var e=t.glx.gl,r=e.getProgramParameter(t.glProgram,e.ACTIVE_UNIFORMS);t.uniformNames=[],t.uniform={};var n,i;for(n=0;n<r;++n)i=e.getActiveUniform(t.glProgram,n),t.uniform[i.name]=new l["default"](t,i),t.uniformNames.push(i.name);(0,a["default"])(t.uniform);var o=e.getProgramParameter(t.glProgram,e.ACTIVE_ATTRIBUTES);t.attribNames=[],t.attrib={};var u;for(n=0;n<o;++n)u=e.getActiveAttrib(t.glProgram,n),t.attrib[u.name]=new c["default"](t,u),t.attribNames.push(u.name);(0,a["default"])(t.attrib)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(126),a=n(u);e["default"]=i;var s=r(145),l=n(s),f=r(147),c=n(f);i.prototype.use=function(){this.glx.activeProgram!==this&&(this.glx.activeProgram=this,this.glx.gl.useProgram(this.glProgram))}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){h.object.definePropertiesPublicRO(this,{program:t,info:e,location:t.glx.gl.getUniformLocation(t.glProgram,e.name)}),(0,p["default"])(this),u(this),(0,f["default"])(this)}function u(t){t.info.type===t.program.glx.gl.SAMPLER_2D?(t.isSampler2d=!0,t._texUnit=-1,(0,s["default"])(t,{texUnit:{get:function(){return this._texUnit},set:function(t){this._texUnit!==t&&(this._texUnit=t,this.valueChanged=!0)}}})):t.isSampler2d=!1}Object.defineProperty(e,"__esModule",{value:!0});var a=r(95),s=i(a),l=r(129),f=i(l);e["default"]=o;var c=r(73),h=n(c),d=r(146),p=i(d);o.prototype.upload=function(t){if(this.isSampler2d&&(this.texUnit=this.value.upload().bind()),this.valueChanged){switch(this.info.type){case t.FLOAT:t.uniform1f(this.location,this.value);break;case t.FLOAT_VEC2:t.uniform2f(this.location,this.value[0],this.value[1]);break;case t.FLOAT_VEC3:t.uniform3f(this.location,this.value[0],this.value[1],this.value[2]);break;case t.FLOAT_VEC4:t.uniform4f(this.location,this.value[0],this.value[1],this.value[2],this.value[3]);break;case t.FLOAT_MAT4:t.uniformMatrix4fv(this.location,t.FALSE,this.value.mat4);break;case t.SAMPLER_2D:t.uniform1i(this.location,this.texUnit)}this.valueChanged=!1}}},function(t,e){"use strict";function r(t){return t.setValue=function(t,e){var r=null!=t.serial;e&&console.log("setValue(): hasSerial=",r,"valueChanged=",this.valueChanged,"val!==this.value",t!==this.value,"val.serial=",t.serial,"this.valueSerial=",this.valueSerial,"val.serial!==this.valueSerial=",t.serial!==this.valueSerial),this.valueChanged||(this.valueChanged=t!==this.value,!this.valueChanged&&r&&(this.valueChanged=t.serial!==this.valueSerial)),r&&(this.valueSerial=t.serial),this.value=t},t.value=null,t.valueSerial=0,t.valueChanged=!1,t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){l.object.definePropertiesPublicRO(this,{program:t,info:e,location:t.glx.gl.getAttribLocation(t.glProgram,e.name)}),t.glx.gl.enableVertexAttribArray(this.location),(0,c["default"])(this),(0,a["default"])(this)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(129),a=i(u);e["default"]=o;var s=r(73),l=n(s),f=r(146),c=i(f);o.prototype.upload=function(){if(this.valueChanged){var t=this.value;t.buffer.bindBuffer().vertexAttribPointer(this.location,t.size,t.stride,t.offset),this.valueChanged=!1}}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r,n){f.Resource.call(this,t,"source"),this.shaderType=e,this.name=r,this.source=n}function o(t,e){return"string"==typeof e?e:"function"==typeof e?e(t):Array.isArray(e)?l["default"].map(e,o.bind(null,t)).join("\n"):e+""}Object.defineProperty(e,"__esModule",{value:!0});var u=r(104),a=n(u);e["default"]=i;var s=r(149),l=n(s),f=r(151);i.prototype=(0,a["default"])(f.Resource.prototype),i.prototype.constructor=i,i.prototype.compile=function(t){if(this.ready){var e=t.gl,r=e.createShader(e[this.shaderType]);if("string"!=typeof this.source&&(this.source=o({shaderSource:this,glx:t},this.source)),e.shaderSource(r,this.source),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw console.error(e.getShaderInfoLog(r)),console.group("shader-info"),console.debug("shaderSource",this),console.log(this.source),console.groupEnd(),new Error("ShaderSource compile error");return r}},i.VERTEX_SHADER="VERTEX_SHADER",i.FRAGMENT_SHADER="FRAGMENT_SHADER"},function(t,e,r){var n;(function(t,i){(function(){function o(t,e){return t.set(e[0],e[1]),t}function u(t,e){return t.add(e),t}function a(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function s(t,e,r,n){for(var i=-1,o=t?t.length:0;++i<o;){var u=t[i];e(n,u,r(u),t)}return n}function l(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function f(t,e){for(var r=t?t.length:0;r--&&e(t[r],r,t)!==!1;);return t}function c(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(!e(t[r],r,t))return!1;return!0}function h(t,e){for(var r=-1,n=t?t.length:0,i=0,o=[];++r<n;){var u=t[r];e(u,r,t)&&(o[i++]=u)}return o}function d(t,e){var r=t?t.length:0;return!!r&&w(t,e,0)>-1}function p(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function v(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function m(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function _(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function g(t,e,r,n){var i=t?t.length:0;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function y(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function x(t){return t.split("")}function M(t){return t.match(je)||[]}function b(t,e,r){var n;return r(t,function(t,r,i){if(e(t,r,i))return n=r,!1}),n}function S(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function w(t,e,r){if(e!==e)return S(t,P,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function F(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function P(t){return t!==t}function D(t,e){var r=t?t.length:0;return r?R(t,e)/r:Rt}function I(t){return function(e){return null==e?it:e[t]}}function O(t){return function(e){return null==t?it:t[e]}}function A(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}function E(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function R(t,e){for(var r,n=-1,i=t.length;++n<i;){var o=e(t[n]);o!==it&&(r=r===it?o:r+o)}return r}function j(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function T(t,e){return v(e,function(e){return[e,t[e]]})}function C(t){return function(e){return t(e)}}function z(t,e){return v(e,function(e){return t[e]})}function N(t,e){return t.has(e)}function k(t,e){for(var r=-1,n=t.length;++r<n&&w(e,t[r],0)>-1;);return r}function U(t,e){for(var r=t.length;r--&&w(e,t[r],0)>-1;);return r}function B(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&n++;return n}function L(t){return"\\"+Wr[t]}function W(t,e){return null==t?it:t[e]}function V(t){return jr.test(t)}function G(t){return Tr.test(t)}function Y(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function q(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}function H(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function X(t,e){return function(r){return t(e(r))}}function Z(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var u=t[r];u!==e&&u!==lt||(t[r]=lt,o[i++]=r)}return o}function $(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function Q(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function K(t){return V(t)?tt(t):un(t)}function J(t){return V(t)?et(t):x(t)}function tt(t){for(var e=Er.lastIndex=0;Er.test(t);)e++;return e}function et(t){return t.match(Er)||[]}function rt(t){return t.match(Rr)||[]}function nt(t){function e(t){if(Na(t)&&!Vc(t)&&!(t instanceof i)){if(t instanceof n)return t;if(Zl.call(t,"__wrapped__"))return jo(t)}return new n(t)}function r(){}function n(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function x(){var t=new i(this.__wrapped__);return t.__actions__=wi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=wi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=wi(this.__views__),t}function O(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function tt(){var t=this.__wrapped__.value(),e=this.__dir__,r=Vc(t),n=e<0,i=r?t.length:0,o=ao(0,i,this.__views__),u=o.start,a=o.end,s=a-u,l=n?a:u-1,f=this.__iteratees__,c=f.length,h=0,d=bf(s,this.__takeCount__);if(!r||i<ut||i==s&&d==s)return oi(t,this.__actions__);var p=[];t:for(;s--&&h<d;){l+=e;for(var v=-1,m=t[l];++v<c;){var _=f[v],g=_.iteratee,y=_.type,x=g(m);if(y==Dt)m=x;else if(!x){if(y==Pt)continue t;break t}}p[h++]=m}return p}function et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function je(){this.__data__=Ef?Ef(null):{}}function qe(t){return this.has(t)&&delete this.__data__[t]}function He(t){var e=this.__data__;if(Ef){var r=e[t];return r===st?it:r}return Zl.call(e,t)?e[t]:it}function Xe(t){var e=this.__data__;return Ef?e[t]!==it:Zl.call(e,t)}function Ze(t,e){var r=this.__data__;return r[t]=Ef&&e===it?st:e,this}function $e(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Qe(){this.__data__=[]}function Ke(t){var e=this.__data__,r=Mr(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():lf.call(e,r,1),!0}function Je(t){var e=this.__data__,r=Mr(e,t);return r<0?it:e[r][1]}function tr(t){return Mr(this.__data__,t)>-1;
}function er(t,e){var r=this.__data__,n=Mr(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function rr(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function nr(){this.__data__={hash:new et,map:new(Df||$e),string:new et}}function ir(t){return io(this,t)["delete"](t)}function or(t){return io(this,t).get(t)}function ur(t){return io(this,t).has(t)}function ar(t,e){return io(this,t).set(t,e),this}function sr(t){var e=-1,r=t?t.length:0;for(this.__data__=new rr;++e<r;)this.add(t[e])}function lr(t){return this.__data__.set(t,st),this}function fr(t){return this.__data__.has(t)}function cr(t){this.__data__=new $e(t)}function hr(){this.__data__=new $e}function dr(t){return this.__data__["delete"](t)}function pr(t){return this.__data__.get(t)}function vr(t){return this.__data__.has(t)}function mr(t,e){var r=this.__data__;if(r instanceof $e){var n=r.__data__;if(!Df||n.length<ut-1)return n.push([t,e]),this;r=this.__data__=new rr(n)}return r.set(t,e),this}function _r(t,e){var r=Vc(t)||Sa(t)?j(t.length,Ll):[],n=r.length,i=!!n;for(var o in t)!e&&!Zl.call(t,o)||i&&("length"==o||mo(o,n))||r.push(o);return r}function gr(t,e,r,n){return t===it||ba(t,Yl[r])&&!Zl.call(n,r)?e:t}function yr(t,e,r){(r===it||ba(t[e],r))&&("number"!=typeof e||r!==it||e in t)||(t[e]=r)}function xr(t,e,r){var n=t[e];Zl.call(t,e)&&ba(n,r)&&(r!==it||e in t)||(t[e]=r)}function Mr(t,e){for(var r=t.length;r--;)if(ba(t[r][0],e))return r;return-1}function br(t,e,r,n){return Gf(t,function(t,i,o){e(n,t,r(t),o)}),n}function Sr(t,e){return t&&Fi(e,gs(e),t)}function wr(t,e){for(var r=-1,n=null==t,i=e.length,o=Tl(i);++r<i;)o[r]=n?it:vs(t,e[r]);return o}function Fr(t,e,r){return t===t&&(r!==it&&(t=t<=r?t:r),e!==it&&(t=t>=e?t:e)),t}function Pr(t,e,r,n,i,o,u){var a;if(n&&(a=o?n(t,i,o,u):n(t)),a!==it)return a;if(!za(t))return t;var s=Vc(t);if(s){if(a=fo(t),!e)return wi(t,a)}else{var f=tc(t),c=f==Wt||f==Vt;if(Yc(t))return hi(t,e);if(f==qt||f==Nt||c&&!o){if(Y(t))return o?t:{};if(a=co(c?{}:t),!e)return Pi(t,Sr(a,t))}else{if(!kr[f])return o?t:{};a=ho(t,f,Pr,e)}}u||(u=new cr);var h=u.get(t);if(h)return h;if(u.set(t,a),!s)var d=r?Ji(t):gs(t);return l(d||t,function(i,o){d&&(o=i,i=t[o]),xr(a,o,Pr(i,e,r,n,o,t,u))}),a}function Dr(t){var e=gs(t);return function(r){return Ir(r,t,e)}}function Ir(t,e,r){var n=r.length;if(null==t)return!n;for(t=Ul(t);n--;){var i=r[n],o=e[i],u=t[i];if(u===it&&!(i in t)||!o(u))return!1}return!0}function Er(t){return za(t)?af(t):{}}function Rr(t,e,r){if("function"!=typeof t)throw new Wl(at);return nc(function(){t.apply(it,r)},e)}function jr(t,e,r,n){var i=-1,o=d,u=!0,a=t.length,s=[],l=e.length;if(!a)return s;r&&(e=v(e,C(r))),n?(o=p,u=!1):e.length>=ut&&(o=N,u=!1,e=new sr(e));t:for(;++i<a;){var f=t[i],c=r?r(f):f;if(f=n||0!==f?f:0,u&&c===c){for(var h=l;h--;)if(e[h]===c)continue t;s.push(f)}else o(e,c,n)||s.push(f)}return s}function Tr(t,e){var r=!0;return Gf(t,function(t,n,i){return r=!!e(t,n,i)}),r}function Ur(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],u=e(o);if(null!=u&&(a===it?u===u&&!Xa(u):r(u,a)))var a=u,s=o}return s}function Br(t,e,r,n){var i=t.length;for(r=ts(r),r<0&&(r=-r>i?0:i+r),n=n===it||n>i?i:ts(n),n<0&&(n+=i),n=r>n?0:es(n);r<n;)t[r++]=e;return t}function Lr(t,e){var r=[];return Gf(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function Wr(t,e,r,n,i){var o=-1,u=t.length;for(r||(r=vo),i||(i=[]);++o<u;){var a=t[o];e>0&&r(a)?e>1?Wr(a,e-1,r,n,i):m(i,a):n||(i[i.length]=a)}return i}function Yr(t,e){return t&&qf(t,e,gs)}function qr(t,e){return t&&Hf(t,e,gs)}function Xr(t,e){return h(e,function(e){return ja(t[e])})}function Zr(t,e){e=go(e,t)?[e]:fi(e);for(var r=0,n=e.length;null!=t&&r<n;)t=t[Ao(e[r++])];return r&&r==n?t:it}function Qr(t,e,r){var n=e(t);return Vc(t)?n:m(n,r(t))}function Kr(t){return Kl.call(t)}function un(t,e){return t>e}function cn(t,e){return null!=t&&Zl.call(t,e)}function hn(t,e){return null!=t&&e in Ul(t)}function dn(t,e,r){return t>=bf(e,r)&&t<Mf(e,r)}function pn(t,e,r){for(var n=r?p:d,i=t[0].length,o=t.length,u=o,a=Tl(o),s=1/0,l=[];u--;){var f=t[u];u&&e&&(f=v(f,C(e))),s=bf(f.length,s),a[u]=!r&&(e||i>=120&&f.length>=120)?new sr(u&&f):it}f=t[0];var c=-1,h=a[0];t:for(;++c<i&&l.length<s;){var m=f[c],_=e?e(m):m;if(m=r||0!==m?m:0,!(h?N(h,_):n(l,_,r))){for(u=o;--u;){var g=a[u];if(!(g?N(g,_):n(t[u],_,r)))continue t}h&&h.push(_),l.push(m)}}return l}function vn(t,e,r,n){return Yr(t,function(t,i,o){e(n,r(t),i,o)}),n}function mn(t,e,r){go(e,t)||(e=fi(e),t=Io(t,e),e=Ko(e));var n=null==t?t:t[Ao(e)];return null==n?it:a(n,t,r)}function _n(t){return Na(t)&&Kl.call(t)==te}function gn(t){return Na(t)&&Kl.call(t)==Bt}function yn(t,e,r,n,i){return t===e||(null==t||null==e||!za(t)&&!Na(e)?t!==t&&e!==e:xn(t,e,yn,r,n,i))}function xn(t,e,r,n,i,o){var u=Vc(t),a=Vc(e),s=kt,l=kt;u||(s=tc(t),s=s==Nt?qt:s),a||(l=tc(e),l=l==Nt?qt:l);var f=s==qt&&!Y(t),c=l==qt&&!Y(e),h=s==l;if(h&&!f)return o||(o=new cr),u||$c(t)?$i(t,e,r,n,i,o):Qi(t,e,s,r,n,i,o);if(!(i&Mt)){var d=f&&Zl.call(t,"__wrapped__"),p=c&&Zl.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,m=p?e.value():e;return o||(o=new cr),r(v,m,n,i,o)}}return!!h&&(o||(o=new cr),Ki(t,e,r,n,i,o))}function Mn(t){return Na(t)&&tc(t)==Gt}function bn(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Ul(t);i--;){var a=r[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=r[i];var s=a[0],l=t[s],f=a[1];if(u&&a[2]){if(l===it&&!(s in t))return!1}else{var c=new cr;if(n)var h=n(l,f,s,t,e,c);if(!(h===it?yn(f,l,n,xt|Mt,c):h))return!1}}return!0}function Sn(t){if(!za(t)||Mo(t))return!1;var e=ja(t)||Y(t)?tf:Be;return e.test(Eo(t))}function wn(t){return za(t)&&Kl.call(t)==Xt}function Fn(t){return Na(t)&&tc(t)==Zt}function Pn(t){return Na(t)&&Ca(t.length)&&!!Nr[Kl.call(t)]}function Dn(t){return"function"==typeof t?t:null==t?sl:"object"==typeof t?Vc(t)?jn(t[0],t[1]):Rn(t):ml(t)}function In(t){if(!bo(t))return xf(t);var e=[];for(var r in Ul(t))Zl.call(t,r)&&"constructor"!=r&&e.push(r);return e}function On(t){if(!za(t))return Do(t);var e=bo(t),r=[];for(var n in t)("constructor"!=n||!e&&Zl.call(t,n))&&r.push(n);return r}function An(t,e){return t<e}function En(t,e){var r=-1,n=wa(t)?Tl(t.length):[];return Gf(t,function(t,i,o){n[++r]=e(t,i,o)}),n}function Rn(t){var e=oo(t);return 1==e.length&&e[0][2]?wo(e[0][0],e[0][1]):function(r){return r===t||bn(r,t,e)}}function jn(t,e){return go(t)&&So(e)?wo(Ao(t),e):function(r){var n=vs(r,t);return n===it&&n===e?_s(r,t):yn(e,n,it,xt|Mt)}}function Tn(t,e,r,n,i){if(t!==e){if(!Vc(e)&&!$c(e))var o=On(e);l(o||e,function(u,a){if(o&&(a=u,u=e[a]),za(u))i||(i=new cr),Cn(t,e,a,r,Tn,n,i);else{var s=n?n(t[a],u,a+"",t,e,i):it;s===it&&(s=u),yr(t,a,s)}})}}function Cn(t,e,r,n,i,o,u){var a=t[r],s=e[r],l=u.get(s);if(l)return void yr(t,r,l);var f=o?o(a,s,r+"",t,e,u):it,c=f===it;c&&(f=s,Vc(s)||$c(s)?Vc(a)?f=a:Fa(a)?f=wi(a):(c=!1,f=Pr(s,!0)):Ya(s)||Sa(s)?Sa(a)?f=ns(a):!za(a)||n&&ja(a)?(c=!1,f=Pr(s,!0)):f=a:c=!1),c&&(u.set(s,f),i(f,s,n,o,u),u["delete"](s)),yr(t,r,f)}function zn(t,e){var r=t.length;if(r)return e+=e<0?r:0,mo(e,r)?t[e]:it}function Nn(t,e,r){var n=-1;e=v(e.length?e:[sl],C(no()));var i=En(t,function(t,r,i){var o=v(e,function(e){return e(t)});return{criteria:o,index:++n,value:t}});return E(i,function(t,e){return Mi(t,e,r)})}function kn(t,e){return t=Ul(t),Un(t,e,function(e,r){return r in t})}function Un(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var u=e[n],a=t[u];r(a,u)&&(o[u]=a)}return o}function Bn(t){return function(e){return Zr(e,t)}}function Ln(t,e,r,n){var i=n?F:w,o=-1,u=e.length,a=t;for(t===e&&(e=wi(e)),r&&(a=v(t,C(r)));++o<u;)for(var s=0,l=e[o],f=r?r(l):l;(s=i(a,f,s,n))>-1;)a!==t&&lf.call(a,s,1),lf.call(t,s,1);return t}function Wn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;if(mo(i))lf.call(t,i,1);else if(go(i,t))delete t[Ao(i)];else{var u=fi(i),a=Io(t,u);null!=a&&delete a[Ao(Ko(u))]}}}return t}function Vn(t,e){return t+vf(wf()*(e-t+1))}function Gn(t,e,r,n){for(var i=-1,o=Mf(pf((e-t)/(r||1)),0),u=Tl(o);o--;)u[n?o:++i]=t,t+=r;return u}function Yn(t,e){var r="";if(!t||e<1||e>At)return r;do e%2&&(r+=t),e=vf(e/2),e&&(t+=t);while(e);return r}function qn(t,e){return e=Mf(e===it?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=Mf(r.length-e,0),o=Tl(i);++n<i;)o[n]=r[e+n];n=-1;for(var u=Tl(e+1);++n<e;)u[n]=r[n];return u[e]=o,a(t,this,u)}}function Hn(t,e,r,n){if(!za(t))return t;e=go(e,t)?[e]:fi(e);for(var i=-1,o=e.length,u=o-1,a=t;null!=a&&++i<o;){var s=Ao(e[i]),l=r;if(i!=u){var f=a[s];l=n?n(f,s,a):it,l===it&&(l=za(f)?f:mo(e[i+1])?[]:{})}xr(a,s,l),a=a[s]}return t}function Xn(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Tl(i);++n<i;)o[n]=t[n+e];return o}function Zn(t,e){var r;return Gf(t,function(t,n,i){return r=e(t,n,i),!r}),!!r}function $n(t,e,r){var n=0,i=t?t.length:n;if("number"==typeof e&&e===e&&i<=Ct){for(;n<i;){var o=n+i>>>1,u=t[o];null!==u&&!Xa(u)&&(r?u<=e:u<e)?n=o+1:i=o}return i}return Qn(t,e,sl,r)}function Qn(t,e,r,n){e=r(e);for(var i=0,o=t?t.length:0,u=e!==e,a=null===e,s=Xa(e),l=e===it;i<o;){var f=vf((i+o)/2),c=r(t[f]),h=c!==it,d=null===c,p=c===c,v=Xa(c);if(u)var m=n||p;else m=l?p&&(n||h):a?p&&h&&(n||!d):s?p&&h&&!d&&(n||!v):!d&&!v&&(n?c<=e:c<e);m?i=f+1:o=f}return bf(o,Tt)}function Kn(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var u=t[r],a=e?e(u):u;if(!r||!ba(a,s)){var s=a;o[i++]=0===u?0:u}}return o}function Jn(t){return"number"==typeof t?t:Xa(t)?Rt:+t}function ti(t){if("string"==typeof t)return t;if(Xa(t))return Vf?Vf.call(t):"";var e=t+"";return"0"==e&&1/t==-Ot?"-0":e}function ei(t,e,r){var n=-1,i=d,o=t.length,u=!0,a=[],s=a;if(r)u=!1,i=p;else if(o>=ut){var l=e?null:$f(t);if(l)return $(l);u=!1,i=N,s=new sr}else s=e?[]:a;t:for(;++n<o;){var f=t[n],c=e?e(f):f;if(f=r||0!==f?f:0,u&&c===c){for(var h=s.length;h--;)if(s[h]===c)continue t;e&&s.push(c),a.push(f)}else i(s,c,r)||(s!==a&&s.push(c),a.push(f))}return a}function ri(t,e){e=go(e,t)?[e]:fi(e),t=Io(t,e);var r=Ao(Ko(e));return!(null!=t&&Zl.call(t,r))||delete t[r]}function ni(t,e,r,n){return Hn(t,e,r(Zr(t,e)),n)}function ii(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Xn(t,n?0:o,n?o+1:i):Xn(t,n?o+1:0,n?i:o)}function oi(t,e){var r=t;return r instanceof i&&(r=r.value()),_(e,function(t,e){return e.func.apply(e.thisArg,m([t],e.args))},r)}function ui(t,e,r){for(var n=-1,i=t.length;++n<i;)var o=o?m(jr(o,t[n],e,r),jr(t[n],o,e,r)):t[n];return o&&o.length?ei(o,e,r):[]}function ai(t,e,r){for(var n=-1,i=t.length,o=e.length,u={};++n<i;){var a=n<o?e[n]:it;r(u,t[n],a)}return u}function si(t){return Fa(t)?t:[]}function li(t){return"function"==typeof t?t:sl}function fi(t){return Vc(t)?t:oc(t)}function ci(t,e,r){var n=t.length;return r=r===it?n:r,!e&&r>=n?t:Xn(t,e,r)}function hi(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function di(t){var e=new t.constructor(t.byteLength);return new nf(e).set(new nf(t)),e}function pi(t,e){var r=e?di(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function vi(t,e,r){var n=e?r(H(t),!0):H(t);return _(n,o,new t.constructor)}function mi(t){var e=new t.constructor(t.source,ze.exec(t));return e.lastIndex=t.lastIndex,e}function _i(t,e,r){var n=e?r($(t),!0):$(t);return _(n,u,new t.constructor)}function gi(t){return Wf?Ul(Wf.call(t)):{}}function yi(t,e){var r=e?di(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function xi(t,e){if(t!==e){var r=t!==it,n=null===t,i=t===t,o=Xa(t),u=e!==it,a=null===e,s=e===e,l=Xa(e);if(!a&&!l&&!o&&t>e||o&&u&&s&&!a&&!l||n&&u&&s||!r&&s||!i)return 1;if(!n&&!o&&!l&&t<e||l&&r&&i&&!n&&!o||a&&r&&i||!u&&i||!s)return-1}return 0}function Mi(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,u=i.length,a=r.length;++n<u;){var s=xi(i[n],o[n]);if(s){if(n>=a)return s;var l=r[n];return s*("desc"==l?-1:1)}}return t.index-e.index}function bi(t,e,r,n){for(var i=-1,o=t.length,u=r.length,a=-1,s=e.length,l=Mf(o-u,0),f=Tl(s+l),c=!n;++a<s;)f[a]=e[a];for(;++i<u;)(c||i<o)&&(f[r[i]]=t[i]);for(;l--;)f[a++]=t[i++];return f}function Si(t,e,r,n){for(var i=-1,o=t.length,u=-1,a=r.length,s=-1,l=e.length,f=Mf(o-a,0),c=Tl(f+l),h=!n;++i<f;)c[i]=t[i];for(var d=i;++s<l;)c[d+s]=e[s];for(;++u<a;)(h||i<o)&&(c[d+r[u]]=t[i++]);return c}function wi(t,e){var r=-1,n=t.length;for(e||(e=Tl(n));++r<n;)e[r]=t[r];return e}function Fi(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var u=e[i],a=n?n(r[u],t[u],u,r,t):it;xr(r,u,a===it?t[u]:a)}return r}function Pi(t,e){return Fi(t,Kf(t),e)}function Di(t,e){return function(r,n){var i=Vc(r)?s:br,o=e?e():{};return i(r,t,no(n,2),o)}}function Ii(t){return qn(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:it,u=i>2?r[2]:it;for(o=t.length>3&&"function"==typeof o?(i--,o):it,u&&_o(r[0],r[1],u)&&(o=i<3?it:o,i=1),e=Ul(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}function Oi(t,e){return function(r,n){if(null==r)return r;if(!wa(r))return t(r,n);for(var i=r.length,o=e?i:-1,u=Ul(r);(e?o--:++o<i)&&n(u[o],o,u)!==!1;);return r}}function Ai(t){return function(e,r,n){for(var i=-1,o=Ul(e),u=n(e),a=u.length;a--;){var s=u[t?a:++i];if(r(o[s],s,o)===!1)break}return e}}function Ei(t,e,r){function n(){var e=this&&this!==Hr&&this instanceof n?o:t;return e.apply(i?r:this,arguments)}var i=e&ft,o=Ti(t);return n}function Ri(t){return function(e){e=os(e);var r=V(e)?J(e):it,n=r?r[0]:e.charAt(0),i=r?ci(r,1).join(""):e.slice(1);return n[t]()+i}}function ji(t){return function(e){return _(nl(Ns(e).replace(Or,"")),t,"")}}function Ti(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Er(t.prototype),n=t.apply(r,e);return za(n)?n:r}}function Ci(t,e,r){function n(){for(var o=arguments.length,u=Tl(o),s=o,l=ro(n);s--;)u[s]=arguments[s];var f=o<3&&u[0]!==l&&u[o-1]!==l?[]:Z(u,l);if(o-=f.length,o<r)return qi(t,e,ki,n.placeholder,it,u,f,it,it,r-o);var c=this&&this!==Hr&&this instanceof n?i:t;return a(c,this,u)}var i=Ti(t);return n}function zi(t){return function(e,r,n){var i=Ul(e);if(!wa(e)){var o=no(r,3);e=gs(e),r=function(t){return o(i[t],t,i)}}var u=t(e,r,n);return u>-1?i[o?e[u]:u]:it}}function Ni(t){return qn(function(e){e=Wr(e,1);var r=e.length,i=r,o=n.prototype.thru;for(t&&e.reverse();i--;){var u=e[i];if("function"!=typeof u)throw new Wl(at);if(o&&!a&&"wrapper"==eo(u))var a=new n([],(!0))}for(i=a?i:r;++i<r;){u=e[i];var s=eo(u),l="wrapper"==s?Qf(u):it;a=l&&xo(l[0])&&l[1]==(_t|dt|vt|gt)&&!l[4].length&&1==l[9]?a[eo(l[0])].apply(a,l[3]):1==u.length&&xo(u)?a[s]():a.thru(u)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&Vc(n)&&n.length>=ut)return a.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}})}function ki(t,e,r,n,i,o,u,a,s,l){function f(){for(var _=arguments.length,g=Tl(_),y=_;y--;)g[y]=arguments[y];if(p)var x=ro(f),M=B(g,x);if(n&&(g=bi(g,n,i,p)),o&&(g=Si(g,o,u,p)),_-=M,p&&_<l){var b=Z(g,x);return qi(t,e,ki,f.placeholder,r,g,b,a,s,l-_)}var S=h?r:this,w=d?S[t]:t;return _=g.length,a?g=Oo(g,a):v&&_>1&&g.reverse(),c&&s<_&&(g.length=s),this&&this!==Hr&&this instanceof f&&(w=m||Ti(w)),w.apply(S,g)}var c=e&_t,h=e&ft,d=e&ct,p=e&(dt|pt),v=e&yt,m=d?it:Ti(t);return f}function Ui(t,e){return function(r,n){return vn(r,t,e(n),{})}}function Bi(t,e){return function(r,n){var i;if(r===it&&n===it)return e;if(r!==it&&(i=r),n!==it){if(i===it)return n;"string"==typeof r||"string"==typeof n?(r=ti(r),n=ti(n)):(r=Jn(r),n=Jn(n)),i=t(r,n)}return i}}function Li(t){return qn(function(e){return e=1==e.length&&Vc(e[0])?v(e[0],C(no())):v(Wr(e,1),C(no())),qn(function(r){var n=this;return t(e,function(t){return a(t,n,r)})})})}function Wi(t,e){e=e===it?" ":ti(e);var r=e.length;if(r<2)return r?Yn(e,t):e;var n=Yn(e,pf(t/K(e)));return V(e)?ci(J(n),0,t).join(""):n.slice(0,t)}function Vi(t,e,r,n){function i(){for(var e=-1,s=arguments.length,l=-1,f=n.length,c=Tl(f+s),h=this&&this!==Hr&&this instanceof i?u:t;++l<f;)c[l]=n[l];for(;s--;)c[l++]=arguments[++e];return a(h,o?r:this,c)}var o=e&ft,u=Ti(t);return i}function Gi(t){return function(e,r,n){return n&&"number"!=typeof n&&_o(e,r,n)&&(r=n=it),e=Ja(e),r===it?(r=e,e=0):r=Ja(r),n=n===it?e<r?1:-1:Ja(n),Gn(e,r,n,t)}}function Yi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=rs(e),r=rs(r)),t(e,r)}}function qi(t,e,r,n,i,o,u,a,s,l){var f=e&dt,c=f?u:it,h=f?it:u,d=f?o:it,p=f?it:o;e|=f?vt:mt,e&=~(f?mt:vt),e&ht||(e&=~(ft|ct));var v=[t,e,i,d,c,p,h,a,s,l],m=r.apply(it,v);return xo(t)&&rc(m,v),m.placeholder=n,ic(m,t,e)}function Hi(t){var e=kl[t];return function(t,r){if(t=rs(t),r=bf(ts(r),292)){var n=(os(t)+"e").split("e"),i=e(n[0]+"e"+(+n[1]+r));return n=(os(i)+"e").split("e"),+(n[0]+"e"+(+n[1]-r))}return e(t)}}function Xi(t){return function(e){var r=tc(e);return r==Gt?H(e):r==Zt?Q(e):T(e,t(e))}}function Zi(t,e,r,n,i,o,u,a){var s=e&ct;if(!s&&"function"!=typeof t)throw new Wl(at);var l=n?n.length:0;if(l||(e&=~(vt|mt),n=i=it),u=u===it?u:Mf(ts(u),0),a=a===it?a:ts(a),l-=i?i.length:0,e&mt){var f=n,c=i;n=i=it}var h=s?it:Qf(t),d=[t,e,r,n,i,f,c,o,u,a];if(h&&Fo(d,h),t=d[0],e=d[1],r=d[2],n=d[3],i=d[4],a=d[9]=null==d[9]?s?0:t.length:Mf(d[9]-l,0),!a&&e&(dt|pt)&&(e&=~(dt|pt)),e&&e!=ft)p=e==dt||e==pt?Ci(t,e,a):e!=vt&&e!=(ft|vt)||i.length?ki.apply(it,d):Vi(t,e,r,n);else var p=Ei(t,e,r);var v=h?Xf:rc;return ic(v(p,d),t,e)}function $i(t,e,r,n,i,o){var u=i&Mt,a=t.length,s=e.length;if(a!=s&&!(u&&s>a))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var f=-1,c=!0,h=i&xt?new sr:it;for(o.set(t,e),o.set(e,t);++f<a;){var d=t[f],p=e[f];if(n)var v=u?n(p,d,f,e,t,o):n(d,p,f,t,e,o);if(v!==it){if(v)continue;c=!1;break}if(h){if(!y(e,function(t,e){if(!h.has(e)&&(d===t||r(d,t,n,i,o)))return h.add(e)})){c=!1;break}}else if(d!==p&&!r(d,p,n,i,o)){c=!1;break}}return o["delete"](t),o["delete"](e),c}function Qi(t,e,r,n,i,o,u){switch(r){case ee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case te:return!(t.byteLength!=e.byteLength||!n(new nf(t),new nf(e)));case Ut:case Bt:case Yt:return ba(+t,+e);case Lt:return t.name==e.name&&t.message==e.message;case Xt:case $t:return t==e+"";case Gt:var a=H;case Zt:var s=o&Mt;if(a||(a=$),t.size!=e.size&&!s)return!1;var l=u.get(t);if(l)return l==e;o|=xt,u.set(t,e);var f=$i(a(t),a(e),n,i,o,u);return u["delete"](t),f;case Qt:if(Wf)return Wf.call(t)==Wf.call(e)}return!1}function Ki(t,e,r,n,i,o){var u=i&Mt,a=gs(t),s=a.length,l=gs(e),f=l.length;if(s!=f&&!u)return!1;for(var c=s;c--;){var h=a[c];if(!(u?h in e:Zl.call(e,h)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var v=u;++c<s;){h=a[c];var m=t[h],_=e[h];if(n)var g=u?n(_,m,h,e,t,o):n(m,_,h,t,e,o);if(!(g===it?m===_||r(m,_,n,i,o):g)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var y=t.constructor,x=e.constructor;y!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(p=!1)}return o["delete"](t),o["delete"](e),p}function Ji(t){return Qr(t,gs,Kf)}function to(t){return Qr(t,ys,Jf)}function eo(t){for(var e=t.name+"",r=Cf[e],n=Zl.call(Cf,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function ro(t){var r=Zl.call(e,"placeholder")?e:t;return r.placeholder}function no(){var t=e.iteratee||ll;return t=t===ll?Dn:t,arguments.length?t(arguments[0],arguments[1]):t}function io(t,e){var r=t.__data__;return yo(e)?r["string"==typeof e?"string":"hash"]:r.map}function oo(t){for(var e=gs(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,So(i)]}return e}function uo(t,e){var r=W(t,e);return Sn(r)?r:it}function ao(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=bf(e,t+u);break;case"takeRight":t=Mf(t,e-u)}}return{start:t,end:e}}function so(t){var e=t.match(Ee);return e?e[1].split(Re):[]}function lo(t,e,r){e=go(e,t)?[e]:fi(e);for(var n,i=-1,o=e.length;++i<o;){var u=Ao(e[i]);if(!(n=null!=t&&r(t,u)))break;t=t[u]}if(n)return n;var o=t?t.length:0;return!!o&&Ca(o)&&mo(u,o)&&(Vc(t)||Sa(t))}function fo(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&Zl.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function co(t){return"function"!=typeof t.constructor||bo(t)?{}:Er(of(t))}function ho(t,e,r,n){var i=t.constructor;switch(e){case te:return di(t);case Ut:case Bt:return new i((+t));case ee:return pi(t,n);case re:case ne:case ie:case oe:case ue:case ae:case se:case le:case fe:return yi(t,n);case Gt:return vi(t,n,r);case Yt:case $t:return new i(t);case Xt:return mi(t);case Zt:return _i(t,n,r);case Qt:return gi(t)}}function po(t,e){var r=e.length,n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Ae,"{\n/* [wrapped with "+e+"] */\n")}function vo(t){return Vc(t)||Sa(t)||!!(ff&&t&&t[ff])}function mo(t,e){return e=null==e?At:e,!!e&&("number"==typeof t||We.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,r){if(!za(r))return!1;var n=typeof e;return!!("number"==n?wa(r)&&mo(e,r.length):"string"==n&&e in r)&&ba(r[e],t)}function go(t,e){if(Vc(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Xa(t))||(be.test(t)||!Me.test(t)||null!=e&&t in Ul(e))}function yo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function xo(t){var r=eo(t),n=e[r];if("function"!=typeof n||!(r in i.prototype))return!1;if(t===n)return!0;var o=Qf(n);return!!o&&t===o[0]}function Mo(t){return!!Hl&&Hl in t}function bo(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||Yl;return t===r}function So(t){return t===t&&!za(t)}function wo(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==it||t in Ul(r)))}}function Fo(t,e){var r=t[1],n=e[1],i=r|n,o=i<(ft|ct|_t),u=n==_t&&r==dt||n==_t&&r==gt&&t[7].length<=e[8]||n==(_t|gt)&&e[7].length<=e[8]&&r==dt;if(!o&&!u)return t;n&ft&&(t[2]=e[2],i|=r&ft?0:ht);var a=e[3];if(a){var s=t[3];t[3]=s?bi(s,a,e[4]):a,t[4]=s?Z(t[3],lt):e[4]}return a=e[5],a&&(s=t[5],t[5]=s?Si(s,a,e[6]):a,t[6]=s?Z(t[5],lt):e[6]),a=e[7],a&&(t[7]=a),n&_t&&(t[8]=null==t[8]?e[8]:bf(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Po(t,e,r,n,i,o){return za(t)&&za(e)&&(o.set(e,t),Tn(t,e,it,Po,o),o["delete"](e)),t}function Do(t){var e=[];if(null!=t)for(var r in Ul(t))e.push(r);return e}function Io(t,e){return 1==e.length?t:Zr(t,Xn(e,0,-1))}function Oo(t,e){for(var r=t.length,n=bf(e.length,r),i=wi(t);n--;){var o=e[n];t[n]=mo(o,r)?i[o]:it}return t}function Ao(t){if("string"==typeof t||Xa(t))return t;var e=t+"";return"0"==e&&1/t==-Ot?"-0":e}function Eo(t){if(null!=t){try{return Xl.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ro(t,e){return l(zt,function(r){var n="_."+r[0];e&r[1]&&!d(t,n)&&t.push(n)}),t.sort()}function jo(t){if(t instanceof i)return t.clone();var e=new n(t.__wrapped__,t.__chain__);return e.__actions__=wi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function To(t,e,r){e=(r?_o(t,e,r):e===it)?1:Mf(ts(e),0);var n=t?t.length:0;if(!n||e<1)return[];for(var i=0,o=0,u=Tl(pf(n/e));i<n;)u[o++]=Xn(t,i,i+=e);return u}function Co(t){for(var e=-1,r=t?t.length:0,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i}function zo(){for(var t=arguments.length,e=Tl(t?t-1:0),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return t?m(Vc(r)?wi(r):[r],Wr(e,1)):[]}function No(t,e,r){var n=t?t.length:0;return n?(e=r||e===it?1:ts(e),Xn(t,e<0?0:e,n)):[]}function ko(t,e,r){var n=t?t.length:0;return n?(e=r||e===it?1:ts(e),e=n-e,Xn(t,0,e<0?0:e)):[]}function Uo(t,e){return t&&t.length?ii(t,no(e,3),!0,!0):[]}function Bo(t,e){return t&&t.length?ii(t,no(e,3),!0):[]}function Lo(t,e,r,n){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&_o(t,e,r)&&(r=0,n=i),Br(t,e,r,n)):[]}function Wo(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=null==r?0:ts(r);return i<0&&(i=Mf(n+i,0)),S(t,no(e,3),i)}function Vo(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=n-1;return r!==it&&(i=ts(r),i=r<0?Mf(n+i,0):bf(i,n-1)),S(t,no(e,3),i,!0)}function Go(t){var e=t?t.length:0;return e?Wr(t,1):[]}function Yo(t){var e=t?t.length:0;return e?Wr(t,Ot):[]}function qo(t,e){var r=t?t.length:0;return r?(e=e===it?1:ts(e),Wr(t,e)):[]}function Ho(t){for(var e=-1,r=t?t.length:0,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function Xo(t){return t&&t.length?t[0]:it}function Zo(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=null==r?0:ts(r);return i<0&&(i=Mf(n+i,0)),w(t,e,i)}function $o(t){var e=t?t.length:0;return e?Xn(t,0,-1):[]}function Qo(t,e){return t?yf.call(t,e):""}function Ko(t){var e=t?t.length:0;return e?t[e-1]:it}function Jo(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=n;if(r!==it&&(i=ts(r),i=(i<0?Mf(n+i,0):bf(i,n-1))+1),e!==e)return S(t,P,i-1,!0);for(;i--;)if(t[i]===e)return i;return-1}function tu(t,e){return t&&t.length?zn(t,ts(e)):it}function eu(t,e){return t&&t.length&&e&&e.length?Ln(t,e):t}function ru(t,e,r){return t&&t.length&&e&&e.length?Ln(t,e,no(r,2)):t}function nu(t,e,r){return t&&t.length&&e&&e.length?Ln(t,e,it,r):t}function iu(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=no(e,3);++n<o;){var u=t[n];e(u,n,t)&&(r.push(u),i.push(n))}return Wn(t,i),r}function ou(t){return t?Ff.call(t):t}function uu(t,e,r){var n=t?t.length:0;return n?(r&&"number"!=typeof r&&_o(t,e,r)?(e=0,r=n):(e=null==e?0:ts(e),r=r===it?n:ts(r)),Xn(t,e,r)):[]}function au(t,e){return $n(t,e)}function su(t,e,r){return Qn(t,e,no(r,2))}function lu(t,e){var r=t?t.length:0;if(r){var n=$n(t,e);if(n<r&&ba(t[n],e))return n}return-1}function fu(t,e){return $n(t,e,!0)}function cu(t,e,r){return Qn(t,e,no(r,2),!0)}function hu(t,e){var r=t?t.length:0;if(r){var n=$n(t,e,!0)-1;if(ba(t[n],e))return n}return-1}function du(t){return t&&t.length?Kn(t):[]}function pu(t,e){return t&&t.length?Kn(t,no(e,2)):[]}function vu(t){var e=t?t.length:0;return e?Xn(t,1,e):[]}function mu(t,e,r){return t&&t.length?(e=r||e===it?1:ts(e),Xn(t,0,e<0?0:e)):[]}function _u(t,e,r){var n=t?t.length:0;return n?(e=r||e===it?1:ts(e),e=n-e,Xn(t,e<0?0:e,n)):[]}function gu(t,e){return t&&t.length?ii(t,no(e,3),!1,!0):[]}function yu(t,e){return t&&t.length?ii(t,no(e,3)):[]}function xu(t){return t&&t.length?ei(t):[]}function Mu(t,e){return t&&t.length?ei(t,no(e,2)):[]}function bu(t,e){return t&&t.length?ei(t,it,e):[]}function Su(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Fa(t))return e=Mf(t.length,e),!0}),j(e,function(e){return v(t,I(e))})}function wu(t,e){if(!t||!t.length)return[];var r=Su(t);return null==e?r:v(r,function(t){return a(e,it,t)})}function Fu(t,e){return ai(t||[],e||[],xr)}function Pu(t,e){return ai(t||[],e||[],Hn)}function Du(t){var r=e(t);return r.__chain__=!0,r}function Iu(t,e){return e(t),t}function Ou(t,e){return e(t)}function Au(){return Du(this)}function Eu(){return new n(this.value(),this.__chain__)}function Ru(){this.__values__===it&&(this.__values__=Ka(this.value()));var t=this.__index__>=this.__values__.length,e=t?it:this.__values__[this.__index__++];return{done:t,value:e}}function ju(){return this}function Tu(t){for(var e,n=this;n instanceof r;){var i=jo(n);i.__index__=0,i.__values__=it,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function Cu(){var t=this.__wrapped__;if(t instanceof i){var e=t;return this.__actions__.length&&(e=new i(this)),e=e.reverse(),e.__actions__.push({func:Ou,args:[ou],thisArg:it}),new n(e,this.__chain__)}return this.thru(ou)}function zu(){return oi(this.__wrapped__,this.__actions__)}function Nu(t,e,r){var n=Vc(t)?c:Tr;return r&&_o(t,e,r)&&(e=it),n(t,no(e,3))}function ku(t,e){var r=Vc(t)?h:Lr;return r(t,no(e,3))}function Uu(t,e){return Wr(Yu(t,e),1)}function Bu(t,e){return Wr(Yu(t,e),Ot)}function Lu(t,e,r){return r=r===it?1:ts(r),Wr(Yu(t,e),r)}function Wu(t,e){var r=Vc(t)?l:Gf;return r(t,no(e,3))}function Vu(t,e){var r=Vc(t)?f:Yf;return r(t,no(e,3))}function Gu(t,e,r,n){t=wa(t)?t:Es(t),r=r&&!n?ts(r):0;var i=t.length;return r<0&&(r=Mf(i+r,0)),Ha(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&w(t,e,r)>-1}function Yu(t,e){var r=Vc(t)?v:En;return r(t,no(e,3))}function qu(t,e,r,n){return null==t?[]:(Vc(e)||(e=null==e?[]:[e]),r=n?it:r,Vc(r)||(r=null==r?[]:[r]),Nn(t,e,r))}function Hu(t,e,r){var n=Vc(t)?_:A,i=arguments.length<3;return n(t,no(e,4),r,i,Gf)}function Xu(t,e,r){var n=Vc(t)?g:A,i=arguments.length<3;return n(t,no(e,4),r,i,Yf)}function Zu(t,e){var r=Vc(t)?h:Lr;return r(t,la(no(e,3)))}function $u(t){var e=wa(t)?t:Es(t),r=e.length;return r>0?e[Vn(0,r-1)]:it}function Qu(t,e,r){var n=-1,i=Ka(t),o=i.length,u=o-1;for(e=(r?_o(t,e,r):e===it)?1:Fr(ts(e),0,o);++n<e;){var a=Vn(n,u),s=i[a];i[a]=i[n],i[n]=s}return i.length=e,i}function Ku(t){return Qu(t,jt)}function Ju(t){if(null==t)return 0;if(wa(t))return Ha(t)?K(t):t.length;var e=tc(t);return e==Gt||e==Zt?t.size:In(t).length}function ta(t,e,r){var n=Vc(t)?y:Zn;return r&&_o(t,e,r)&&(e=it),n(t,no(e,3))}function ea(t,e){if("function"!=typeof e)throw new Wl(at);return t=ts(t),function(){if(--t<1)return e.apply(this,arguments)}}function ra(t,e,r){return e=r?it:e,e=t&&null==e?t.length:e,Zi(t,_t,it,it,it,it,e)}function na(t,e){var r;if("function"!=typeof e)throw new Wl(at);return t=ts(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=it),r}}function ia(t,e,r){e=r?it:e;var n=Zi(t,dt,it,it,it,it,it,e);return n.placeholder=ia.placeholder,n}function oa(t,e,r){e=r?it:e;var n=Zi(t,pt,it,it,it,it,it,e);return n.placeholder=oa.placeholder,n}function ua(t,e,r){function n(e){var r=h,n=d;return h=d=it,g=e,v=t.apply(n,r)}function i(t){return g=t,m=nc(a,e),y?n(t):v}function o(t){var r=t-_,n=t-g,i=e-r;return x?bf(i,p-n):i}function u(t){var r=t-_,n=t-g;return _===it||r>=e||r<0||x&&n>=p}function a(){var t=Rc();return u(t)?s(t):void(m=nc(a,o(t)))}function s(t){return m=it,M&&h?n(t):(h=d=it,v)}function l(){m!==it&&Zf(m),g=0,h=_=d=m=it}function f(){return m===it?v:s(Rc())}function c(){var t=Rc(),r=u(t);if(h=arguments,d=this,_=t,r){if(m===it)return i(_);if(x)return m=nc(a,e),n(_)}return m===it&&(m=nc(a,e)),v}var h,d,p,v,m,_,g=0,y=!1,x=!1,M=!0;if("function"!=typeof t)throw new Wl(at);return e=rs(e)||0,za(r)&&(y=!!r.leading,x="maxWait"in r,p=x?Mf(rs(r.maxWait)||0,e):p,M="trailing"in r?!!r.trailing:M),c.cancel=l,c.flush=f,c}function aa(t){return Zi(t,yt)}function sa(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Wl(at);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var u=t.apply(this,n);return r.cache=o.set(i,u),u};return r.cache=new(sa.Cache||rr),r}function la(t){if("function"!=typeof t)throw new Wl(at);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function fa(t){return na(2,t)}function ca(t,e){if("function"!=typeof t)throw new Wl(at);return e=e===it?e:ts(e),qn(t,e)}function ha(t,e){if("function"!=typeof t)throw new Wl(at);return e=e===it?0:Mf(ts(e),0),qn(function(r){var n=r[e],i=ci(r,0,e);return n&&m(i,n),a(t,this,i)})}function da(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Wl(at);return za(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ua(t,e,{leading:n,maxWait:e,trailing:i})}function pa(t){return ra(t,1)}function va(t,e){return e=null==e?sl:e,kc(e,t)}function ma(){if(!arguments.length)return[];var t=arguments[0];return Vc(t)?t:[t]}function _a(t){return Pr(t,!1,!0)}function ga(t,e){return Pr(t,!1,!0,e)}function ya(t){return Pr(t,!0,!0)}function xa(t,e){return Pr(t,!0,!0,e)}function Ma(t,e){return null==e||Ir(t,e,gs(e))}function ba(t,e){return t===e||t!==t&&e!==e}function Sa(t){return Fa(t)&&Zl.call(t,"callee")&&(!sf.call(t,"callee")||Kl.call(t)==Nt)}function wa(t){return null!=t&&Ca(t.length)&&!ja(t)}function Fa(t){return Na(t)&&wa(t)}function Pa(t){return t===!0||t===!1||Na(t)&&Kl.call(t)==Ut}function Da(t){return!!t&&1===t.nodeType&&Na(t)&&!Ya(t)}function Ia(t){if(wa(t)&&(Vc(t)||"string"==typeof t||"function"==typeof t.splice||Yc(t)||Sa(t)))return!t.length;
var e=tc(t);if(e==Gt||e==Zt)return!t.size;if(Tf||bo(t))return!xf(t).length;for(var r in t)if(Zl.call(t,r))return!1;return!0}function Oa(t,e){return yn(t,e)}function Aa(t,e,r){r="function"==typeof r?r:it;var n=r?r(t,e):it;return n===it?yn(t,e,r):!!n}function Ea(t){return!!Na(t)&&(Kl.call(t)==Lt||"string"==typeof t.message&&"string"==typeof t.name)}function Ra(t){return"number"==typeof t&&gf(t)}function ja(t){var e=za(t)?Kl.call(t):"";return e==Wt||e==Vt}function Ta(t){return"number"==typeof t&&t==ts(t)}function Ca(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=At}function za(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Na(t){return!!t&&"object"==typeof t}function ka(t,e){return t===e||bn(t,e,oo(e))}function Ua(t,e,r){return r="function"==typeof r?r:it,bn(t,e,oo(e),r)}function Ba(t){return Ga(t)&&t!=+t}function La(t){if(ec(t))throw new zl("This method is not supported with core-js. Try https://github.com/es-shims.");return Sn(t)}function Wa(t){return null===t}function Va(t){return null==t}function Ga(t){return"number"==typeof t||Na(t)&&Kl.call(t)==Yt}function Ya(t){if(!Na(t)||Kl.call(t)!=qt||Y(t))return!1;var e=of(t);if(null===e)return!0;var r=Zl.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Xl.call(r)==Ql}function qa(t){return Ta(t)&&t>=-At&&t<=At}function Ha(t){return"string"==typeof t||!Vc(t)&&Na(t)&&Kl.call(t)==$t}function Xa(t){return"symbol"==typeof t||Na(t)&&Kl.call(t)==Qt}function Za(t){return t===it}function $a(t){return Na(t)&&tc(t)==Kt}function Qa(t){return Na(t)&&Kl.call(t)==Jt}function Ka(t){if(!t)return[];if(wa(t))return Ha(t)?J(t):wi(t);if(uf&&t[uf])return q(t[uf]());var e=tc(t),r=e==Gt?H:e==Zt?$:Es;return r(t)}function Ja(t){if(!t)return 0===t?t:0;if(t=rs(t),t===Ot||t===-Ot){var e=t<0?-1:1;return e*Et}return t===t?t:0}function ts(t){var e=Ja(t),r=e%1;return e===e?r?e-r:e:0}function es(t){return t?Fr(ts(t),0,jt):0}function rs(t){if("number"==typeof t)return t;if(Xa(t))return Rt;if(za(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=za(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(De,"");var r=Ue.test(t);return r||Le.test(t)?Gr(t.slice(2),r?2:8):ke.test(t)?Rt:+t}function ns(t){return Fi(t,ys(t))}function is(t){return Fr(ts(t),-At,At)}function os(t){return null==t?"":ti(t)}function us(t,e){var r=Er(t);return e?Sr(r,e):r}function as(t,e){return b(t,no(e,3),Yr)}function ss(t,e){return b(t,no(e,3),qr)}function ls(t,e){return null==t?t:qf(t,no(e,3),ys)}function fs(t,e){return null==t?t:Hf(t,no(e,3),ys)}function cs(t,e){return t&&Yr(t,no(e,3))}function hs(t,e){return t&&qr(t,no(e,3))}function ds(t){return null==t?[]:Xr(t,gs(t))}function ps(t){return null==t?[]:Xr(t,ys(t))}function vs(t,e,r){var n=null==t?it:Zr(t,e);return n===it?r:n}function ms(t,e){return null!=t&&lo(t,e,cn)}function _s(t,e){return null!=t&&lo(t,e,hn)}function gs(t){return wa(t)?_r(t):In(t)}function ys(t){return wa(t)?_r(t,!0):On(t)}function xs(t,e){var r={};return e=no(e,3),Yr(t,function(t,n,i){r[e(t,n,i)]=t}),r}function Ms(t,e){var r={};return e=no(e,3),Yr(t,function(t,n,i){r[n]=e(t,n,i)}),r}function bs(t,e){return Ss(t,la(no(e)))}function Ss(t,e){return null==t?{}:Un(t,to(t),no(e))}function ws(t,e,r){e=go(e,t)?[e]:fi(e);var n=-1,i=e.length;for(i||(t=it,i=1);++n<i;){var o=null==t?it:t[Ao(e[n])];o===it&&(n=i,o=r),t=ja(o)?o.call(t):o}return t}function Fs(t,e,r){return null==t?t:Hn(t,e,r)}function Ps(t,e,r,n){return n="function"==typeof n?n:it,null==t?t:Hn(t,e,r,n)}function Ds(t,e,r){var n=Vc(t)||$c(t);if(e=no(e,4),null==r)if(n||za(t)){var i=t.constructor;r=n?Vc(t)?new i:[]:ja(i)?Er(of(t)):{}}else r={};return(n?l:Yr)(t,function(t,n,i){return e(r,t,n,i)}),r}function Is(t,e){return null==t||ri(t,e)}function Os(t,e,r){return null==t?t:ni(t,e,li(r))}function As(t,e,r,n){return n="function"==typeof n?n:it,null==t?t:ni(t,e,li(r),n)}function Es(t){return t?z(t,gs(t)):[]}function Rs(t){return null==t?[]:z(t,ys(t))}function js(t,e,r){return r===it&&(r=e,e=it),r!==it&&(r=rs(r),r=r===r?r:0),e!==it&&(e=rs(e),e=e===e?e:0),Fr(rs(t),e,r)}function Ts(t,e,r){return e=Ja(e),r===it?(r=e,e=0):r=Ja(r),t=rs(t),dn(t,e,r)}function Cs(t,e,r){if(r&&"boolean"!=typeof r&&_o(t,e,r)&&(e=r=it),r===it&&("boolean"==typeof e?(r=e,e=it):"boolean"==typeof t&&(r=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Ja(t),e===it?(e=t,t=0):e=Ja(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=wf();return bf(t+i*(e-t+Vr("1e-"+((i+"").length-1))),e)}return Vn(t,e)}function zs(t){return bh(os(t).toLowerCase())}function Ns(t){return t=os(t),t&&t.replace(Ve,an).replace(Ar,"")}function ks(t,e,r){t=os(t),e=ti(e);var n=t.length;r=r===it?n:Fr(ts(r),0,n);var i=r;return r-=e.length,r>=0&&t.slice(r,i)==e}function Us(t){return t=os(t),t&&_e.test(t)?t.replace(ve,sn):t}function Bs(t){return t=os(t),t&&Pe.test(t)?t.replace(Fe,"\\$&"):t}function Ls(t,e,r){t=os(t),e=ts(e);var n=e?K(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Wi(vf(i),r)+t+Wi(pf(i),r)}function Ws(t,e,r){t=os(t),e=ts(e);var n=e?K(t):0;return e&&n<e?t+Wi(e-n,r):t}function Vs(t,e,r){t=os(t),e=ts(e);var n=e?K(t):0;return e&&n<e?Wi(e-n,r)+t:t}function Gs(t,e,r){return r||null==e?e=0:e&&(e=+e),t=os(t).replace(De,""),Sf(t,e||(Ne.test(t)?16:10))}function Ys(t,e,r){return e=(r?_o(t,e,r):e===it)?1:ts(e),Yn(os(t),e)}function qs(){var t=arguments,e=os(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function Hs(t,e,r){return r&&"number"!=typeof r&&_o(t,e,r)&&(e=r=it),(r=r===it?jt:r>>>0)?(t=os(t),t&&("string"==typeof e||null!=e&&!Xc(e))&&(e=ti(e),!e&&V(t))?ci(J(t),0,r):t.split(e,r)):[]}function Xs(t,e,r){return t=os(t),r=Fr(ts(r),0,t.length),e=ti(e),t.slice(r,r+e.length)==e}function Zs(t,r,n){var i=e.templateSettings;n&&_o(t,r,n)&&(r=it),t=os(t),r=eh({},r,i,gr);var o,u,a=eh({},r.imports,i.imports,gr),s=gs(a),l=z(a,s),f=0,c=r.interpolate||Ge,h="__p += '",d=Bl((r.escape||Ge).source+"|"+c.source+"|"+(c===xe?Ce:Ge).source+"|"+(r.evaluate||Ge).source+"|$","g"),p="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++zr+"]")+"\n";t.replace(d,function(e,r,n,i,a,s){return n||(n=i),h+=t.slice(f,s).replace(Ye,L),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),a&&(u=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=s+e.length,e}),h+="';\n";var v=r.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(ce,""):h).replace(he,"$1").replace(de,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Sh(function(){return Nl(s,p+"return "+h).apply(it,l)});if(m.source=h,Ea(m))throw m;return m}function $s(t){return os(t).toLowerCase()}function Qs(t){return os(t).toUpperCase()}function Ks(t,e,r){if(t=os(t),t&&(r||e===it))return t.replace(De,"");if(!t||!(e=ti(e)))return t;var n=J(t),i=J(e),o=k(n,i),u=U(n,i)+1;return ci(n,o,u).join("")}function Js(t,e,r){if(t=os(t),t&&(r||e===it))return t.replace(Oe,"");if(!t||!(e=ti(e)))return t;var n=J(t),i=U(n,J(e))+1;return ci(n,0,i).join("")}function tl(t,e,r){if(t=os(t),t&&(r||e===it))return t.replace(Ie,"");if(!t||!(e=ti(e)))return t;var n=J(t),i=k(n,J(e));return ci(n,i).join("")}function el(t,e){var r=bt,n=St;if(za(e)){var i="separator"in e?e.separator:i;r="length"in e?ts(e.length):r,n="omission"in e?ti(e.omission):n}t=os(t);var o=t.length;if(V(t)){var u=J(t);o=u.length}if(r>=o)return t;var a=r-K(n);if(a<1)return n;var s=u?ci(u,0,a).join(""):t.slice(0,a);if(i===it)return s+n;if(u&&(a+=s.length-a),Xc(i)){if(t.slice(a).search(i)){var l,f=s;for(i.global||(i=Bl(i.source,os(ze.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var c=l.index;s=s.slice(0,c===it?a:c)}}else if(t.indexOf(ti(i),a)!=a){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+n}function rl(t){return t=os(t),t&&me.test(t)?t.replace(pe,ln):t}function nl(t,e,r){return t=os(t),e=r?it:e,e===it?G(t)?rt(t):M(t):t.match(e)||[]}function il(t){var e=t?t.length:0,r=no();return t=e?v(t,function(t){if("function"!=typeof t[1])throw new Wl(at);return[r(t[0]),t[1]]}):[],qn(function(r){for(var n=-1;++n<e;){var i=t[n];if(a(i[0],this,r))return a(i[1],this,r)}})}function ol(t){return Dr(Pr(t,!0))}function ul(t){return function(){return t}}function al(t,e){return null==t||t!==t?e:t}function sl(t){return t}function ll(t){return Dn("function"==typeof t?t:Pr(t,!0))}function fl(t){return Rn(Pr(t,!0))}function cl(t,e){return jn(t,Pr(e,!0))}function hl(t,e,r){var n=gs(e),i=Xr(e,n);null!=r||za(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=Xr(e,gs(e)));var o=!(za(r)&&"chain"in r&&!r.chain),u=ja(t);return l(i,function(r){var n=e[r];t[r]=n,u&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=wi(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,m([this.value()],arguments))})}),t}function dl(){return Hr._===this&&(Hr._=Jl),this}function pl(){}function vl(t){return t=ts(t),qn(function(e){return zn(e,t)})}function ml(t){return go(t)?I(Ao(t)):Bn(t)}function _l(t){return function(e){return null==t?it:Zr(t,e)}}function gl(){return[]}function yl(){return!1}function xl(){return{}}function Ml(){return""}function bl(){return!0}function Sl(t,e){if(t=ts(t),t<1||t>At)return[];var r=jt,n=bf(t,jt);e=no(e),t-=jt;for(var i=j(n,e);++r<t;)e(r);return i}function wl(t){return Vc(t)?v(t,Ao):Xa(t)?[t]:wi(oc(t))}function Fl(t){var e=++$l;return os(t)+e}function Pl(t){return t&&t.length?Ur(t,sl,un):it}function Dl(t,e){return t&&t.length?Ur(t,no(e,2),un):it}function Il(t){return D(t,sl)}function Ol(t,e){return D(t,no(e,2))}function Al(t){return t&&t.length?Ur(t,sl,An):it}function El(t,e){return t&&t.length?Ur(t,no(e,2),An):it}function Rl(t){return t&&t.length?R(t,sl):0}function jl(t,e){return t&&t.length?R(t,no(e,2)):0}t=t?fn.defaults(Hr.Object(),t,fn.pick(Hr,Cr)):Hr;var Tl=t.Array,Cl=t.Date,zl=t.Error,Nl=t.Function,kl=t.Math,Ul=t.Object,Bl=t.RegExp,Ll=t.String,Wl=t.TypeError,Vl=Tl.prototype,Gl=Nl.prototype,Yl=Ul.prototype,ql=t["__core-js_shared__"],Hl=function(){var t=/[^.]+$/.exec(ql&&ql.keys&&ql.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Xl=Gl.toString,Zl=Yl.hasOwnProperty,$l=0,Ql=Xl.call(Ul),Kl=Yl.toString,Jl=Hr._,tf=Bl("^"+Xl.call(Zl).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ef=$r?t.Buffer:it,rf=t.Symbol,nf=t.Uint8Array,of=X(Ul.getPrototypeOf,Ul),uf=rf?rf.iterator:it,af=Ul.create,sf=Yl.propertyIsEnumerable,lf=Vl.splice,ff=rf?rf.isConcatSpreadable:it,cf=t.clearTimeout!==Hr.clearTimeout&&t.clearTimeout,hf=Cl&&Cl.now!==Hr.Date.now&&Cl.now,df=t.setTimeout!==Hr.setTimeout&&t.setTimeout,pf=kl.ceil,vf=kl.floor,mf=Ul.getOwnPropertySymbols,_f=ef?ef.isBuffer:it,gf=t.isFinite,yf=Vl.join,xf=X(Ul.keys,Ul),Mf=kl.max,bf=kl.min,Sf=t.parseInt,wf=kl.random,Ff=Vl.reverse,Pf=uo(t,"DataView"),Df=uo(t,"Map"),If=uo(t,"Promise"),Of=uo(t,"Set"),Af=uo(t,"WeakMap"),Ef=uo(Ul,"create"),Rf=function(){var t=uo(Ul,"defineProperty"),e=uo.name;return e&&e.length>2?t:it}(),jf=Af&&new Af,Tf=!sf.call({valueOf:1},"valueOf"),Cf={},zf=Eo(Pf),Nf=Eo(Df),kf=Eo(If),Uf=Eo(Of),Bf=Eo(Af),Lf=rf?rf.prototype:it,Wf=Lf?Lf.valueOf:it,Vf=Lf?Lf.toString:it;e.templateSettings={escape:ge,evaluate:ye,interpolate:xe,variable:"",imports:{_:e}},e.prototype=r.prototype,e.prototype.constructor=e,n.prototype=Er(r.prototype),n.prototype.constructor=n,i.prototype=Er(r.prototype),i.prototype.constructor=i,et.prototype.clear=je,et.prototype["delete"]=qe,et.prototype.get=He,et.prototype.has=Xe,et.prototype.set=Ze,$e.prototype.clear=Qe,$e.prototype["delete"]=Ke,$e.prototype.get=Je,$e.prototype.has=tr,$e.prototype.set=er,rr.prototype.clear=nr,rr.prototype["delete"]=ir,rr.prototype.get=or,rr.prototype.has=ur,rr.prototype.set=ar,sr.prototype.add=sr.prototype.push=lr,sr.prototype.has=fr,cr.prototype.clear=hr,cr.prototype["delete"]=dr,cr.prototype.get=pr,cr.prototype.has=vr,cr.prototype.set=mr;var Gf=Oi(Yr),Yf=Oi(qr,!0),qf=Ai(),Hf=Ai(!0),Xf=jf?function(t,e){return jf.set(t,e),t}:sl,Zf=cf||function(t){return Hr.clearTimeout(t)},$f=Of&&1/$(new Of([,-0]))[1]==Ot?function(t){return new Of(t)}:pl,Qf=jf?function(t){return jf.get(t)}:pl,Kf=mf?X(mf,Ul):gl,Jf=mf?function(t){for(var e=[];t;)m(e,Kf(t)),t=of(t);return e}:gl,tc=Kr;(Pf&&tc(new Pf(new ArrayBuffer(1)))!=ee||Df&&tc(new Df)!=Gt||If&&tc(If.resolve())!=Ht||Of&&tc(new Of)!=Zt||Af&&tc(new Af)!=Kt)&&(tc=function(t){var e=Kl.call(t),r=e==qt?t.constructor:it,n=r?Eo(r):it;if(n)switch(n){case zf:return ee;case Nf:return Gt;case kf:return Ht;case Uf:return Zt;case Bf:return Kt}return e});var ec=ql?ja:yl,rc=function(){var t=0,e=0;return function(r,n){var i=Rc(),o=Ft-(i-e);if(e=i,o>0){if(++t>=wt)return r}else t=0;return Xf(r,n)}}(),nc=df||function(t,e){return Hr.setTimeout(t,e)},ic=Rf?function(t,e,r){var n=e+"";return Rf(t,"toString",{configurable:!0,enumerable:!1,value:ul(po(n,Ro(so(n),r)))})}:sl,oc=sa(function(t){t=os(t);var e=[];return Se.test(t)&&e.push(""),t.replace(we,function(t,r,n,i){e.push(n?i.replace(Te,"$1"):r||t)}),e}),uc=qn(function(t,e){return Fa(t)?jr(t,Wr(e,1,Fa,!0)):[]}),ac=qn(function(t,e){var r=Ko(e);return Fa(r)&&(r=it),Fa(t)?jr(t,Wr(e,1,Fa,!0),no(r,2)):[]}),sc=qn(function(t,e){var r=Ko(e);return Fa(r)&&(r=it),Fa(t)?jr(t,Wr(e,1,Fa,!0),it,r):[]}),lc=qn(function(t){var e=v(t,si);return e.length&&e[0]===t[0]?pn(e):[]}),fc=qn(function(t){var e=Ko(t),r=v(t,si);return e===Ko(r)?e=it:r.pop(),r.length&&r[0]===t[0]?pn(r,no(e,2)):[]}),cc=qn(function(t){var e=Ko(t),r=v(t,si);return e===Ko(r)?e=it:r.pop(),r.length&&r[0]===t[0]?pn(r,it,e):[]}),hc=qn(eu),dc=qn(function(t,e){e=Wr(e,1);var r=t?t.length:0,n=wr(t,e);return Wn(t,v(e,function(t){return mo(t,r)?+t:t}).sort(xi)),n}),pc=qn(function(t){return ei(Wr(t,1,Fa,!0))}),vc=qn(function(t){var e=Ko(t);return Fa(e)&&(e=it),ei(Wr(t,1,Fa,!0),no(e,2))}),mc=qn(function(t){var e=Ko(t);return Fa(e)&&(e=it),ei(Wr(t,1,Fa,!0),it,e)}),_c=qn(function(t,e){return Fa(t)?jr(t,e):[]}),gc=qn(function(t){return ui(h(t,Fa))}),yc=qn(function(t){var e=Ko(t);return Fa(e)&&(e=it),ui(h(t,Fa),no(e,2))}),xc=qn(function(t){var e=Ko(t);return Fa(e)&&(e=it),ui(h(t,Fa),it,e)}),Mc=qn(Su),bc=qn(function(t){var e=t.length,r=e>1?t[e-1]:it;return r="function"==typeof r?(t.pop(),r):it,wu(t,r)}),Sc=qn(function(t){t=Wr(t,1);var e=t.length,r=e?t[0]:0,o=this.__wrapped__,u=function(e){return wr(e,t)};return!(e>1||this.__actions__.length)&&o instanceof i&&mo(r)?(o=o.slice(r,+r+(e?1:0)),o.__actions__.push({func:Ou,args:[u],thisArg:it}),new n(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(u)}),wc=Di(function(t,e,r){Zl.call(t,r)?++t[r]:t[r]=1}),Fc=zi(Wo),Pc=zi(Vo),Dc=Di(function(t,e,r){Zl.call(t,r)?t[r].push(e):t[r]=[e]}),Ic=qn(function(t,e,r){var n=-1,i="function"==typeof e,o=go(e),u=wa(t)?Tl(t.length):[];return Gf(t,function(t){var s=i?e:o&&null!=t?t[e]:it;u[++n]=s?a(s,t,r):mn(t,e,r)}),u}),Oc=Di(function(t,e,r){t[r]=e}),Ac=Di(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),Ec=qn(function(t,e){if(null==t)return[];var r=e.length;return r>1&&_o(t,e[0],e[1])?e=[]:r>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),Nn(t,Wr(e,1),[])}),Rc=hf||function(){return Hr.Date.now()},jc=qn(function(t,e,r){var n=ft;if(r.length){var i=Z(r,ro(jc));n|=vt}return Zi(t,n,e,r,i)}),Tc=qn(function(t,e,r){var n=ft|ct;if(r.length){var i=Z(r,ro(Tc));n|=vt}return Zi(e,n,t,r,i)}),Cc=qn(function(t,e){return Rr(t,1,e)}),zc=qn(function(t,e,r){return Rr(t,rs(e)||0,r)});sa.Cache=rr;var Nc=qn(function(t,e){e=1==e.length&&Vc(e[0])?v(e[0],C(no())):v(Wr(e,1),C(no()));var r=e.length;return qn(function(n){for(var i=-1,o=bf(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return a(t,this,n)})}),kc=qn(function(t,e){var r=Z(e,ro(kc));return Zi(t,vt,it,e,r)}),Uc=qn(function(t,e){var r=Z(e,ro(Uc));return Zi(t,mt,it,e,r)}),Bc=qn(function(t,e){return Zi(t,gt,it,it,it,Wr(e,1))}),Lc=Yi(un),Wc=Yi(function(t,e){return t>=e}),Vc=Tl.isArray,Gc=Jr?C(Jr):_n,Yc=_f||yl,qc=tn?C(tn):gn,Hc=en?C(en):Mn,Xc=rn?C(rn):wn,Zc=nn?C(nn):Fn,$c=on?C(on):Pn,Qc=Yi(An),Kc=Yi(function(t,e){return t<=e}),Jc=Ii(function(t,e){if(Tf||bo(e)||wa(e))return void Fi(e,gs(e),t);for(var r in e)Zl.call(e,r)&&xr(t,r,e[r])}),th=Ii(function(t,e){Fi(e,ys(e),t)}),eh=Ii(function(t,e,r,n){Fi(e,ys(e),t,n)}),rh=Ii(function(t,e,r,n){Fi(e,gs(e),t,n)}),nh=qn(function(t,e){return wr(t,Wr(e,1))}),ih=qn(function(t){return t.push(it,gr),a(eh,it,t)}),oh=qn(function(t){return t.push(it,Po),a(fh,it,t)}),uh=Ui(function(t,e,r){t[e]=r},ul(sl)),ah=Ui(function(t,e,r){Zl.call(t,e)?t[e].push(r):t[e]=[r]},no),sh=qn(mn),lh=Ii(function(t,e,r){Tn(t,e,r)}),fh=Ii(function(t,e,r,n){Tn(t,e,r,n)}),ch=qn(function(t,e){return null==t?{}:(e=v(Wr(e,1),Ao),kn(t,jr(to(t),e)))}),hh=qn(function(t,e){return null==t?{}:kn(t,v(Wr(e,1),Ao))}),dh=Xi(gs),ph=Xi(ys),vh=ji(function(t,e,r){return e=e.toLowerCase(),t+(r?zs(e):e)}),mh=ji(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),_h=ji(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),gh=Ri("toLowerCase"),yh=ji(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),xh=ji(function(t,e,r){return t+(r?" ":"")+bh(e)}),Mh=ji(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),bh=Ri("toUpperCase"),Sh=qn(function(t,e){try{return a(t,it,e)}catch(r){return Ea(r)?r:new zl(r)}}),wh=qn(function(t,e){return l(Wr(e,1),function(e){e=Ao(e),t[e]=jc(t[e],t)}),t}),Fh=Ni(),Ph=Ni(!0),Dh=qn(function(t,e){return function(r){return mn(r,t,e)}}),Ih=qn(function(t,e){return function(r){return mn(t,r,e)}}),Oh=Li(v),Ah=Li(c),Eh=Li(y),Rh=Gi(),jh=Gi(!0),Th=Bi(function(t,e){return t+e},0),Ch=Hi("ceil"),zh=Bi(function(t,e){return t/e},1),Nh=Hi("floor"),kh=Bi(function(t,e){return t*e},1),Uh=Hi("round"),Bh=Bi(function(t,e){return t-e},0);return e.after=ea,e.ary=ra,e.assign=Jc,e.assignIn=th,e.assignInWith=eh,e.assignWith=rh,e.at=nh,e.before=na,e.bind=jc,e.bindAll=wh,e.bindKey=Tc,e.castArray=ma,e.chain=Du,e.chunk=To,e.compact=Co,e.concat=zo,e.cond=il,e.conforms=ol,e.constant=ul,e.countBy=wc,e.create=us,e.curry=ia,e.curryRight=oa,e.debounce=ua,e.defaults=ih,e.defaultsDeep=oh,e.defer=Cc,e.delay=zc,e.difference=uc,e.differenceBy=ac,e.differenceWith=sc,e.drop=No,e.dropRight=ko,e.dropRightWhile=Uo,e.dropWhile=Bo,e.fill=Lo,e.filter=ku,e.flatMap=Uu,e.flatMapDeep=Bu,e.flatMapDepth=Lu,e.flatten=Go,e.flattenDeep=Yo,e.flattenDepth=qo,e.flip=aa,e.flow=Fh,e.flowRight=Ph,e.fromPairs=Ho,e.functions=ds,e.functionsIn=ps,e.groupBy=Dc,e.initial=$o,e.intersection=lc,e.intersectionBy=fc,e.intersectionWith=cc,e.invert=uh,e.invertBy=ah,e.invokeMap=Ic,e.iteratee=ll,e.keyBy=Oc,e.keys=gs,e.keysIn=ys,e.map=Yu,e.mapKeys=xs,e.mapValues=Ms,e.matches=fl,e.matchesProperty=cl,e.memoize=sa,e.merge=lh,e.mergeWith=fh,e.method=Dh,e.methodOf=Ih,e.mixin=hl,e.negate=la,e.nthArg=vl,e.omit=ch,e.omitBy=bs,e.once=fa,e.orderBy=qu,e.over=Oh,e.overArgs=Nc,e.overEvery=Ah,e.overSome=Eh,e.partial=kc,e.partialRight=Uc,e.partition=Ac,e.pick=hh,e.pickBy=Ss,e.property=ml,e.propertyOf=_l,e.pull=hc,e.pullAll=eu,e.pullAllBy=ru,e.pullAllWith=nu,e.pullAt=dc,e.range=Rh,e.rangeRight=jh,e.rearg=Bc,e.reject=Zu,e.remove=iu,e.rest=ca,e.reverse=ou,e.sampleSize=Qu,e.set=Fs,e.setWith=Ps,e.shuffle=Ku,e.slice=uu,e.sortBy=Ec,e.sortedUniq=du,e.sortedUniqBy=pu,e.split=Hs,e.spread=ha,e.tail=vu,e.take=mu,e.takeRight=_u,e.takeRightWhile=gu,e.takeWhile=yu,e.tap=Iu,e.throttle=da,e.thru=Ou,e.toArray=Ka,e.toPairs=dh,e.toPairsIn=ph,e.toPath=wl,e.toPlainObject=ns,e.transform=Ds,e.unary=pa,e.union=pc,e.unionBy=vc,e.unionWith=mc,e.uniq=xu,e.uniqBy=Mu,e.uniqWith=bu,e.unset=Is,e.unzip=Su,e.unzipWith=wu,e.update=Os,e.updateWith=As,e.values=Es,e.valuesIn=Rs,e.without=_c,e.words=nl,e.wrap=va,e.xor=gc,e.xorBy=yc,e.xorWith=xc,e.zip=Mc,e.zipObject=Fu,e.zipObjectDeep=Pu,e.zipWith=bc,e.entries=dh,e.entriesIn=ph,e.extend=th,e.extendWith=eh,hl(e,e),e.add=Th,e.attempt=Sh,e.camelCase=vh,e.capitalize=zs,e.ceil=Ch,e.clamp=js,e.clone=_a,e.cloneDeep=ya,e.cloneDeepWith=xa,e.cloneWith=ga,e.conformsTo=Ma,e.deburr=Ns,e.defaultTo=al,e.divide=zh,e.endsWith=ks,e.eq=ba,e.escape=Us,e.escapeRegExp=Bs,e.every=Nu,e.find=Fc,e.findIndex=Wo,e.findKey=as,e.findLast=Pc,e.findLastIndex=Vo,e.findLastKey=ss,e.floor=Nh,e.forEach=Wu,e.forEachRight=Vu,e.forIn=ls,e.forInRight=fs,e.forOwn=cs,e.forOwnRight=hs,e.get=vs,e.gt=Lc,e.gte=Wc,e.has=ms,e.hasIn=_s,e.head=Xo,e.identity=sl,e.includes=Gu,e.indexOf=Zo,e.inRange=Ts,e.invoke=sh,e.isArguments=Sa,e.isArray=Vc,e.isArrayBuffer=Gc,e.isArrayLike=wa,e.isArrayLikeObject=Fa,e.isBoolean=Pa,e.isBuffer=Yc,e.isDate=qc,e.isElement=Da,e.isEmpty=Ia,e.isEqual=Oa,e.isEqualWith=Aa,e.isError=Ea,e.isFinite=Ra,e.isFunction=ja,e.isInteger=Ta,e.isLength=Ca,e.isMap=Hc,e.isMatch=ka,e.isMatchWith=Ua,e.isNaN=Ba,e.isNative=La,e.isNil=Va,e.isNull=Wa,e.isNumber=Ga,e.isObject=za,e.isObjectLike=Na,e.isPlainObject=Ya,e.isRegExp=Xc,e.isSafeInteger=qa,e.isSet=Zc,e.isString=Ha,e.isSymbol=Xa,e.isTypedArray=$c,e.isUndefined=Za,e.isWeakMap=$a,e.isWeakSet=Qa,e.join=Qo,e.kebabCase=mh,e.last=Ko,e.lastIndexOf=Jo,e.lowerCase=_h,e.lowerFirst=gh,e.lt=Qc,e.lte=Kc,e.max=Pl,e.maxBy=Dl,e.mean=Il,e.meanBy=Ol,e.min=Al,e.minBy=El,e.stubArray=gl,e.stubFalse=yl,e.stubObject=xl,e.stubString=Ml,e.stubTrue=bl,e.multiply=kh,e.nth=tu,e.noConflict=dl,e.noop=pl,e.now=Rc,e.pad=Ls,e.padEnd=Ws,e.padStart=Vs,e.parseInt=Gs,e.random=Cs,e.reduce=Hu,e.reduceRight=Xu,e.repeat=Ys,e.replace=qs,e.result=ws,e.round=Uh,e.runInContext=nt,e.sample=$u,e.size=Ju,e.snakeCase=yh,e.some=ta,e.sortedIndex=au,e.sortedIndexBy=su,e.sortedIndexOf=lu,e.sortedLastIndex=fu,e.sortedLastIndexBy=cu,e.sortedLastIndexOf=hu,e.startCase=xh,e.startsWith=Xs,e.subtract=Bh,e.sum=Rl,e.sumBy=jl,e.template=Zs,e.times=Sl,e.toFinite=Ja,e.toInteger=ts,e.toLength=es,e.toLower=$s,e.toNumber=rs,e.toSafeInteger=is,e.toString=os,e.toUpper=Qs,e.trim=Ks,e.trimEnd=Js,e.trimStart=tl,e.truncate=el,e.unescape=rl,e.uniqueId=Fl,e.upperCase=Mh,e.upperFirst=bh,e.each=Wu,e.eachRight=Vu,e.first=Xo,hl(e,function(){var t={};return Yr(e,function(r,n){Zl.call(e.prototype,n)||(t[n]=r)}),t}(),{chain:!1}),e.VERSION=ot,l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),l(["drop","take"],function(t,e){i.prototype[t]=function(r){var n=this.__filtered__;if(n&&!e)return new i(this);r=r===it?1:Mf(ts(r),0);var o=this.clone();return n?o.__takeCount__=bf(r,o.__takeCount__):o.__views__.push({size:bf(r,jt),type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),l(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==Pt||r==It;i.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:no(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),l(["head","last"],function(t,e){var r="take"+(e?"Right":"");i.prototype[t]=function(){return this[r](1).value()[0]}}),l(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[r](1)}}),i.prototype.compact=function(){return this.filter(sl)},i.prototype.find=function(t){return this.filter(t).head()},i.prototype.findLast=function(t){return this.reverse().find(t)},i.prototype.invokeMap=qn(function(t,e){return"function"==typeof t?new i(this):this.map(function(r){return mn(r,t,e)})}),i.prototype.reject=function(t){return this.filter(la(no(t)))},i.prototype.slice=function(t,e){t=ts(t);var r=this;return r.__filtered__&&(t>0||e<0)?new i(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==it&&(e=ts(e),r=e<0?r.dropRight(-e):r.take(e-t)),r)},i.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},i.prototype.toArray=function(){return this.take(jt)},Yr(i.prototype,function(t,r){var o=/^(?:filter|find|map|reject)|While$/.test(r),u=/^(?:head|last)$/.test(r),a=e[u?"take"+("last"==r?"Right":""):r],s=u||/^find/.test(r);a&&(e.prototype[r]=function(){var r=this.__wrapped__,l=u?[1]:arguments,f=r instanceof i,c=l[0],h=f||Vc(r),d=function(t){var r=a.apply(e,m([t],l));return u&&p?r[0]:r};h&&o&&"function"==typeof c&&1!=c.length&&(f=h=!1);var p=this.__chain__,v=!!this.__actions__.length,_=s&&!p,g=f&&!v;if(!s&&h){r=g?r:new i(this);var y=t.apply(r,l);return y.__actions__.push({func:Ou,args:[d],thisArg:it}),new n(y,p)}return _&&g?t.apply(this,l):(y=this.thru(d),_?u?y.value()[0]:y.value():y)})}),l(["pop","push","shift","sort","splice","unshift"],function(t){var r=Vl[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return r.apply(Vc(e)?e:[],t)}return this[n](function(e){return r.apply(Vc(e)?e:[],t)})}}),Yr(i.prototype,function(t,r){var n=e[r];if(n){var i=n.name+"",o=Cf[i]||(Cf[i]=[]);o.push({name:r,func:n})}}),Cf[ki(it,ct).name]=[{name:"wrapper",func:it}],i.prototype.clone=x,i.prototype.reverse=O,i.prototype.value=tt,e.prototype.at=Sc,e.prototype.chain=Au,e.prototype.commit=Eu,e.prototype.next=Ru,e.prototype.plant=Tu,e.prototype.reverse=Cu,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=zu,e.prototype.first=e.prototype.head,uf&&(e.prototype[uf]=ju),e}var it,ot="4.15.0",ut=200,at="Expected a function",st="__lodash_hash_undefined__",lt="__lodash_placeholder__",ft=1,ct=2,ht=4,dt=8,pt=16,vt=32,mt=64,_t=128,gt=256,yt=512,xt=1,Mt=2,bt=30,St="...",wt=150,Ft=16,Pt=1,Dt=2,It=3,Ot=1/0,At=9007199254740991,Et=1.7976931348623157e308,Rt=NaN,jt=4294967295,Tt=jt-1,Ct=jt>>>1,zt=[["ary",_t],["bind",ft],["bindKey",ct],["curry",dt],["curryRight",pt],["flip",yt],["partial",vt],["partialRight",mt],["rearg",gt]],Nt="[object Arguments]",kt="[object Array]",Ut="[object Boolean]",Bt="[object Date]",Lt="[object Error]",Wt="[object Function]",Vt="[object GeneratorFunction]",Gt="[object Map]",Yt="[object Number]",qt="[object Object]",Ht="[object Promise]",Xt="[object RegExp]",Zt="[object Set]",$t="[object String]",Qt="[object Symbol]",Kt="[object WeakMap]",Jt="[object WeakSet]",te="[object ArrayBuffer]",ee="[object DataView]",re="[object Float32Array]",ne="[object Float64Array]",ie="[object Int8Array]",oe="[object Int16Array]",ue="[object Int32Array]",ae="[object Uint8Array]",se="[object Uint8ClampedArray]",le="[object Uint16Array]",fe="[object Uint32Array]",ce=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,de=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pe=/&(?:amp|lt|gt|quot|#39|#96);/g,ve=/[&<>"'`]/g,me=RegExp(pe.source),_e=RegExp(ve.source),ge=/<%-([\s\S]+?)%>/g,ye=/<%([\s\S]+?)%>/g,xe=/<%=([\s\S]+?)%>/g,Me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,be=/^\w*$/,Se=/^\./,we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,Pe=RegExp(Fe.source),De=/^\s+|\s+$/g,Ie=/^\s+/,Oe=/\s+$/,Ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ee=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Te=/\\(\\)?/g,Ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,Ne=/^0x/i,ke=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,Be=/^\[object .+?Constructor\]$/,Le=/^0o[0-7]+$/i,We=/^(?:0|[1-9]\d*)$/,Ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ge=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,qe="\\ud800-\\udfff",He="\\u0300-\\u036f\\ufe20-\\ufe23",Xe="\\u20d0-\\u20f0",Ze="\\u2700-\\u27bf",$e="a-z\\xdf-\\xf6\\xf8-\\xff",Qe="\\xac\\xb1\\xd7\\xf7",Ke="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Je="\\u2000-\\u206f",tr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",er="A-Z\\xc0-\\xd6\\xd8-\\xde",rr="\\ufe0e\\ufe0f",nr=Qe+Ke+Je+tr,ir="['’]",or="["+qe+"]",ur="["+nr+"]",ar="["+He+Xe+"]",sr="\\d+",lr="["+Ze+"]",fr="["+$e+"]",cr="[^"+qe+nr+sr+Ze+$e+er+"]",hr="\\ud83c[\\udffb-\\udfff]",dr="(?:"+ar+"|"+hr+")",pr="[^"+qe+"]",vr="(?:\\ud83c[\\udde6-\\uddff]){2}",mr="[\\ud800-\\udbff][\\udc00-\\udfff]",_r="["+er+"]",gr="\\u200d",yr="(?:"+fr+"|"+cr+")",xr="(?:"+_r+"|"+cr+")",Mr="(?:"+ir+"(?:d|ll|m|re|s|t|ve))?",br="(?:"+ir+"(?:D|LL|M|RE|S|T|VE))?",Sr=dr+"?",wr="["+rr+"]?",Fr="(?:"+gr+"(?:"+[pr,vr,mr].join("|")+")"+wr+Sr+")*",Pr=wr+Sr+Fr,Dr="(?:"+[lr,vr,mr].join("|")+")"+Pr,Ir="(?:"+[pr+ar+"?",ar,vr,mr,or].join("|")+")",Or=RegExp(ir,"g"),Ar=RegExp(ar,"g"),Er=RegExp(hr+"(?="+hr+")|"+Ir+Pr,"g"),Rr=RegExp([_r+"?"+fr+"+"+Mr+"(?="+[ur,_r,"$"].join("|")+")",xr+"+"+br+"(?="+[ur,_r+yr,"$"].join("|")+")",_r+"?"+yr+"+"+Mr,_r+"+"+br,sr,Dr].join("|"),"g"),jr=RegExp("["+gr+qe+He+Xe+rr+"]"),Tr=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zr=-1,Nr={};Nr[re]=Nr[ne]=Nr[ie]=Nr[oe]=Nr[ue]=Nr[ae]=Nr[se]=Nr[le]=Nr[fe]=!0,Nr[Nt]=Nr[kt]=Nr[te]=Nr[Ut]=Nr[ee]=Nr[Bt]=Nr[Lt]=Nr[Wt]=Nr[Gt]=Nr[Yt]=Nr[qt]=Nr[Xt]=Nr[Zt]=Nr[$t]=Nr[Kt]=!1;var kr={};kr[Nt]=kr[kt]=kr[te]=kr[ee]=kr[Ut]=kr[Bt]=kr[re]=kr[ne]=kr[ie]=kr[oe]=kr[ue]=kr[Gt]=kr[Yt]=kr[qt]=kr[Xt]=kr[Zt]=kr[$t]=kr[Qt]=kr[ae]=kr[se]=kr[le]=kr[fe]=!0,kr[Lt]=kr[Wt]=kr[Kt]=!1;var Ur={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},Br={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Lr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Wr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vr=parseFloat,Gr=parseInt,Yr="object"==typeof t&&t&&t.Object===Object&&t,qr="object"==typeof self&&self&&self.Object===Object&&self,Hr=Yr||qr||Function("return this")(),Xr="object"==typeof e&&e&&!e.nodeType&&e,Zr=Xr&&"object"==typeof i&&i&&!i.nodeType&&i,$r=Zr&&Zr.exports===Xr,Qr=$r&&Yr.process,Kr=function(){try{return Qr&&Qr.binding("util")}catch(t){}}(),Jr=Kr&&Kr.isArrayBuffer,tn=Kr&&Kr.isDate,en=Kr&&Kr.isMap,rn=Kr&&Kr.isRegExp,nn=Kr&&Kr.isSet,on=Kr&&Kr.isTypedArray,un=I("length"),an=O(Ur),sn=O(Br),ln=O(Lr),fn=nt();Hr._=fn,n=function(){return fn}.call(e,r,e,i),!(n!==it&&(i.exports=n))}).call(this)}).call(e,function(){return this}(),r(150)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.VertexObjectPool=e.VertexObjectDescriptor=e.VertexObject=e.VertexIndexArray=e.VertexArray=e.TextureAtlas=e.Texture=e.Resource=e.PowerOfTwoImage=e.Viewport=e.AABB2=void 0;var i=r(152),o=n(i),u=r(153),a=n(u),s=r(163),l=n(s),f=r(164),c=n(f),h=r(165),d=n(h),p=r(166),v=n(p),m=r(178),_=n(m),g=r(179),y=n(g),x=r(180),M=n(x),b=r(181),S=n(b),w=r(182),F=n(w);
e.AABB2=o["default"],e.Viewport=a["default"],e.PowerOfTwoImage=l["default"],e.Resource=c["default"],e.Texture=d["default"],e.TextureAtlas=v["default"],e.VertexArray=_["default"],e.VertexIndexArray=y["default"],e.VertexObject=M["default"],e.VertexObjectDescriptor=S["default"],e.VertexObjectPool=F["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(129),o=n(i),u=r(101),a=n(u),s=r(102),l=n(s),f=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];(0,a["default"])(this,t),e<r?(this.min_x=e,this.max_x=r):(this.min_x=r,this.max_x=e),n<i?(this.min_y=n,this.max_y=i):(this.min_y=i,this.max_y=n),(0,o["default"])(this)}return(0,l["default"])(t,[{key:"addPoint",value:function(t,e){t<this.min_x?this.min_x=t:t>this.max_x&&(this.max_x=t),e<this.min_y?this.min_y=e:e>this.max_y&&(this.max_y=e)}},{key:"isInside",value:function(t,e){return t>=this.min_x&&t<=this.max_x&&e>=this.min_y&&e<=this.max_y}},{key:"isIntersection",value:function(t){return!(t.max_x<this.min_x||t.min_x>this.max_x||t.max_y<this.min_y||t.min_y>this.max_y)}},{key:"width",get:function(){return this.max_x-this.min_x+1}},{key:"height",get:function(){return this.max_y-this.min_y+1}},{key:"center_x",get:function(){return(this.max_x-this.min_x)/2}},{key:"center_y",get:function(){return(this.max_y-this.min_y)/2}}]),t}();e["default"]=f},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(154),o=n(i),u=r(101),a=n(u),s=r(102),l=n(s),f=r(157),c=n(f),h=r(158),d=n(h),p=r(152),v=n(p),m=function(t){function e(t,r,n,i){(0,a["default"])(this,e);var u=parseInt(t,10),s=parseInt(r,10);return(0,c["default"])(this,(0,o["default"])(e).call(this,u,u+parseInt(n,10)-1,s,s+parseInt(i,10)-1))}return(0,d["default"])(e,t),(0,l["default"])(e,[{key:"x",get:function(){return this.min_x},set:function(t){var e=this.width;this.min_x=t,this.max_x=t+e-1}},{key:"y",get:function(){return this.min_y},set:function(t){var e=this.height;this.min_y=t,this.max_y=t+e-1}},{key:"width",get:function(){return this.max_x-this.min_x+1},set:function(t){this.max_x=this.min_x+t-1}},{key:"height",get:function(){return this.max_y-this.min_y+1},set:function(t){this.max_y=this.min_y+t-1}}]),e}(v["default"]);e["default"]=m},function(t,e,r){t.exports={"default":r(155),__esModule:!0}},function(t,e,r){r(156),t.exports=r(16).Object.getPrototypeOf},function(t,e,r){var n=r(51),i=r(50);r(111)("getPrototypeOf",function(){return function(t){return i(n(t))}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=r(5),o=n(i);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,o["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=r(159),o=n(i),u=r(104),a=n(u),s=r(5),l=n(s);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,l["default"])(e)));t.prototype=(0,a["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o["default"]?(0,o["default"])(t,e):t.__proto__=e)}},function(t,e,r){t.exports={"default":r(160),__esModule:!0}},function(t,e,r){r(161),t.exports=r(16).Object.setPrototypeOf},function(t,e,r){var n=r(14);n(n.S,"Object",{setPrototypeOf:r(162).set})},function(t,e,r){var n=r(22),i=r(21),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r(17)(Function.call,r(69).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){t._domElement=e,t.image=e?u(e):null,t.ready=!!e}function u(t){if(m.isPowerOfTwo(t.width)&&m.isPowerOfTwo(t.height))return t;var e=m.findNextPowerOfTwo(t.width),r=m.findNextPowerOfTwo(t.height),n=document.createElement("canvas");return n.width=e,n.height=r,n.getContext("2d").drawImage(t,0,0),n}Object.defineProperty(e,"__esModule",{value:!0});var a=r(129),s=i(a),l=r(101),f=i(l),c=r(102),h=i(c),d=r(73),p=n(d),v=r(137),m=n(v),_=function(){function t(e,r){(0,f["default"])(this,t),p.object.definePropertyPublicRO(this,"app",e),p.addUid(this),p.makeReadyPromise(this),this.url=null,this.domElement=r,this.image=null,(0,s["default"])(this)}return(0,h["default"])(t,[{key:"load",value:function(t){var e=document.createElement("img");return this.domElement=e,this.url=this.app.getAssetUrl(t),e.src=this.url,this}},{key:"domElement",get:function(){return this._domElement},set:function(t){if(t instanceof HTMLCanvasElement)o(this,t);else if(t instanceof HTMLImageElement)if(0===t.width&&0===t.height){this._domElement=t,this.ready=!1;var e=this;t.onload=function(){e.image=u(t),e.ready=!0}}else o(this,t);else o(this,null)}},{key:"width",get:function(){return this.image?this.image.width:0}},{key:"height",get:function(){return this.image?this.image.height:0}}]),t}();e["default"]=_},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(75),u=i(o),a=r(101),s=i(a),l=r(102),f=i(l),c=r(3),h=i(c),d=r(73),p=n(d),v=function(){function t(e,r){(0,s["default"])(this,t),(0,h["default"])(this),p.object.definePropertyPublicRO(this,"app",e),p.addUid(this),p.makeReadyPromise(this),this.ready=!1,this.url=null,this._data=null,r&&(0,u["default"])(this,r,{get:function(){return this.data},set:function(t){this.data=t},enumerable:!0})}return(0,f["default"])(t,[{key:"load",value:function(t){var e=this;this.url=this.app.getAssetUrl(t);var r=new XMLHttpRequest;return r.open("GET",this.url,!0),r.onreadystatechange=function(){4===r.readyState&&r.status>=200&&r.status<300&&(e.data=r.responseText)},r.send(),this}},{key:"data",get:function(){return this._data},set:function(t){if(t){var e=this.emitReduce("incomingData",t);e&&(this._data=e,this.emit("data",e))}else this._data=t;this.ready=!!this._data}}]),t}();e["default"]=v},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(101),o=n(i),u=r(102),a=n(u),s=function(){function t(e,r,n,i,u){(0,o["default"])(this,t),this._parent=e,this._image=null,this._width=i,this._height=u,this.x=null!=r?r:0,this.y=null!=n?n:0}return(0,a["default"])(t,[{key:"setTexCoords",value:function(t){var e=this.min_s,r=this.min_t,n=this.max_s,i=this.max_t;t.setTexCoords(e,r,n,r,n,i,e,i)}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t}},{key:"root",get:function(){return this._parent?this._parent:this}},{key:"image",get:function(){return this._image?this._image:this._parent?this._parent.image:null},set:function(t){this._image=t}},{key:"root_width",get:function(){var t=this.root;return this===t?null!=this._width?this._width:this._image?this._image.width:0:t.root_width}},{key:"root_height",get:function(){var t=this.root;return this===t?null!=this._height?this._height:this._image?this._image.height:0:t.root_height}},{key:"width",get:function(){return null!=this._width?this._width:this.root_width},set:function(t){this._width=t}},{key:"height",get:function(){return null!=this._height?this._height:this.root_height},set:function(t){this._height=t}},{key:"min_s",get:function(){for(var t=this.x,e=this;null!=(e=e.parent);)t+=e.x;return t/this.root_width}},{key:"min_t",get:function(){for(var t=this.y,e=this;null!=(e=e.parent);)t+=e.y;return t/this.root_height}},{key:"max_s",get:function(){for(var t=this.x+this.width,e=this;null!=(e=e.parent);)t+=e.x;return t/this.root_width}},{key:"max_t",get:function(){for(var t=this.y+this.height,e=this;null!=(e=e.parent);)t+=e.y;return t/this.root_height}}],[{key:"fromCanvas",value:function(e){var r=new t;return r.image=e,r}}]),t}();e["default"]=s},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){return"string"==typeof t?JSON.parse(t):t}function o(t,e){return void 0!==t.imageUrl?t.imageUrl:t.app.joinAssetUrl(t.url,e)}function u(t){this.texture=new w["default"],this.texture.width=t.meta.size.w,this.texture.height=t.meta.size.h,this.texture.image=new P["default"](this.app).load(o(this,t.meta.image)),this.frameNames=[],this.frames=new s["default"];var e,r;for(e in t.frames)t.frames.hasOwnProperty(e)&&(this.frameNames.push(e),r=t.frames[e].frame,this.frames.set(e,new w["default"](this.texture,r.x,r.y,r.w,r.h)))}Object.defineProperty(e,"__esModule",{value:!0});var a=r(167),s=n(a),l=r(129),f=n(l),c=r(154),h=n(c),d=r(101),p=n(d),v=r(102),m=n(v),_=r(157),g=n(_),y=r(158),x=n(y),M=r(164),b=n(M),S=r(165),w=n(S),F=r(163),P=n(F),D=function(t){function e(t,r,n){(0,p["default"])(this,e);var o=(0,g["default"])(this,(0,h["default"])(e).call(this,t,"conf"));return o.on("incomingData",i),o.on("data",u),o.conf=n,o.texture=null,o.frames=null,o.frameNames=null,o.imageUrl=r,(0,f["default"])(o),o}return(0,x["default"])(e,t),(0,m["default"])(e,[{key:"getTexture",value:function(t){if(this.frames)return this.frames.get(t)}},{key:"getRandomTexture",value:function(){if(this.frames)return this.frames.get(this.frameNames[parseInt(this.frameNames.length*Math.random(),10)])}}]),e}(b["default"]);e["default"]=D},function(t,e,r){t.exports={"default":r(168),__esModule:!0}},function(t,e,r){r(70),r(8),r(52),r(169),r(175),t.exports=r(16).Map},function(t,e,r){"use strict";var n=r(170);t.exports=r(171)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(this,t);return e&&e.v},set:function(t,e){return n.def(this,0===t?0:t,e)}},n,!0)},function(t,e,r){"use strict";var n=r(20).f,i=r(33),o=r(92),u=r(17),a=r(83),s=r(11),l=r(84),f=r(12),c=r(55),h=r(93),d=r(24),p=r(60).fastKey,v=d?"_s":"size",m=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,f){var c=t(function(t,n){a(t,c,e,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=n&&l(n,r,t[f],t)});return o(c.prototype,{clear:function(){for(var t=this,e=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete e[r.i];t._f=t._l=void 0,t[v]=0},"delete":function(t){var e=this,r=m(e,t);if(r){var n=r.n,i=r.p;delete e._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),e._f==r&&(e._f=n),e._l==r&&(e._l=i),e[v]--}return!!r},forEach:function(t){a(this,c,"forEach");for(var e,r=u(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!m(this,t)}}),d&&n(c.prototype,"size",{get:function(){return s(this[v])}}),c},def:function(t,e,r){var n,i,o=m(t,e);return o?o.v=r:(t._l=o={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,r){f(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?c(0,r.k):"values"==e?c(0,r.v):c(0,[r.k,r.v]):(t._t=void 0,c(1))},r?"entries":"values",!r,!0),h(e)}}},function(t,e,r){"use strict";var n=r(15),i=r(14),o=r(60),u=r(25),a=r(19),s=r(92),l=r(84),f=r(83),c=r(22),h=r(48),d=r(20).f,p=r(172)(0),v=r(24);t.exports=function(t,e,r,m,_,g){var y=n[t],x=y,M=_?"set":"add",b=x&&x.prototype,S={};return v&&"function"==typeof x&&(g||b.forEach&&!u(function(){(new x).entries().next()}))?(x=e(function(e,r){f(e,x,t,"_c"),e._c=new y,void 0!=r&&l(r,_,e[M],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in b&&(!g||"clear"!=t)&&a(x.prototype,t,function(r,n){if(f(this,x,t),!e&&g&&!c(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,n);return e?this:i})}),"size"in b&&d(x.prototype,"size",{get:function(){return this._c.size}})):(x=m.getConstructor(e,t,_,M),s(x.prototype,r),o.NEED=!0),h(x,t),S[t]=x,i(i.G+i.W+i.F,S),g||m.setStrong(x,t,_),x}},function(t,e,r){var n=r(17),i=r(38),o=r(51),u=r(41),a=r(173);t.exports=function(t,e){var r=1==t,s=2==t,l=3==t,f=4==t,c=6==t,h=5==t||c,d=e||a;return function(e,a,p){for(var v,m,_=o(e),g=i(_),y=n(a,p,3),x=u(g.length),M=0,b=r?d(e,x):s?d(e,0):void 0;x>M;M++)if((h||M in g)&&(v=g[M],m=y(v,M,_),t))if(r)b[M]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return M;case 2:b.push(v)}else if(f)return!1;return c?-1:l||f?f:b}}},function(t,e,r){var n=r(174);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){var n=r(22),i=r(66),o=r(49)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,r){var n=r(14);n(n.P+n.R,"Map",{toJSON:r(176)("Map")})},function(t,e,r){var n=r(82),i=r(177);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,r){var n=r(84);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(101),o=n(i),u=r(102),a=n(u),s=function(){function t(e,r,n){(0,o["default"])(this,t),this.descriptor=e,this.capacity=r,this.vertices=void 0!==n?n:new Float32Array(r*e.vertexCount*e.vertexAttrCount)}return(0,a["default"])(t,[{key:"copy",value:function(t,e){var r=0;void 0===e&&(r=e*this.descriptor.vertexCount*this.descriptor.vertexAttrCount),this.vertices.set(t.vertices,r)}},{key:"subarray",value:function(e,r){void 0===r&&(r=1);var n=this.vertices.subarray(e*this.descriptor.vertexCount*this.descriptor.vertexAttrCount,(e+r)*this.descriptor.vertexCount*this.descriptor.vertexAttrCount);return new t(this.descriptor,r,n)}}]),t}();e["default"]=s},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(101),u=i(o),a=r(102),s=i(a),l=r(73),f=n(l),c=function(){function t(e,r){(0,u["default"])(this,t);var n=e*r;f.object.definePropertiesPublicRO(this,{vertexObjectCount:e,objectIndexCount:r,size:n,indices:new Uint32Array(n)})}return(0,s["default"])(t,null,[{key:"Generate",value:function(e,r,n,i){var o,u,a=new t(e,r.length);for(void 0===i&&(i=4),void 0===n&&(n=0),o=0;o<e;++o)for(u=0;u<r.length;++u)a.indices[o*a.objectIndexCount+u]=r[u]+(o+n)*i;return a}}]),t}();e["default"]=c},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(void 0===this.descriptor){var r=t?t:e?e.descriptor:null;if(!r)throw new Error("VertexObject.descriptor is null!");l.object.definePropertyPrivateRO(this,"descriptor",r);var n=e?e:t.createVertexArray();if(l.object.definePropertyPrivate(this,"vertexArray",n),this.descriptor!==this.vertexArray.descriptor&&(this.descriptor.vertexCount!==this.vertexArray.descriptor.vertexCount||this.descriptor.vertexAttrCount!==this.vertexArray.descriptor.vertexAttrCount))throw new Error("Incompatible vertex object descriptors!")}}Object.defineProperty(e,"__esModule",{value:!0});var u=r(95),a=i(u);e["default"]=o;var s=r(73),l=n(s);(0,a["default"])(o.prototype,{vertices:{get:function(){return this.vertexArray.vertices}}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r,n,i){this.vertexObjectConstructor=o(t),this.vertexObjectConstructor.prototype=(0,g["default"])(x["default"].prototype),this.vertexObjectConstructor.prototype.constructor=this.vertexObjectConstructor,this.vertexCount=parseInt(e,10),this.vertexAttrCount=parseInt(r,10),this.attr={};var a,s,l;if(Array.isArray(n)){for(a=0,l=0;l<n.length;++l){if(s=n[l],void 0===s.size)throw new Error("vertex object attribute descriptor has no size property!");void 0!==s.name&&(this.attr[s.name]=new u(s.name,s.size,a,(!!s.uniform),s.attrNames)),a+=s.size}if(a>this.vertexAttrCount)throw new Error("vertexAttrCount is too small (offset="+a+")")}var f;if(void 0!==i)for(f in i)i.hasOwnProperty(f)&&(s=i[f],"string"==typeof s?(s=this.attr[s],void 0!==s&&(this.attr[f]=s)):this.attr[f]=new u(f,s.size,s.offset,(!!s.uniform),s.attrNames));this.propertiesObject={};for(f in this.attr)this.attr.hasOwnProperty(f)&&(s=this.attr[f],s.defineProperties(f,this.propertiesObject,this));this.vertexObjectPrototype=(0,g["default"])(this.vertexObjectConstructor.prototype,this.propertiesObject),(0,m["default"])(this.attr),(0,m["default"])(this)}function o(t){return"function"==typeof t?t.name?t:function(){return t.call(this)}:function(){}}function u(t,e,r,n,i){this.name=t,this.size=e,this.offset=r,this.uniform=n,this.attrNames=i,(0,m["default"])(this)}function a(t){return function(e){return this.vertexArray.vertices[t+e]}}function s(t,e,r,n){return function(){var i=this.vertexArray.vertices,o=void 0,u=void 0;for(o=0;o<e;++o)for(u=0;u<t;++u)i[o*r+n+u]=arguments[u]}}function l(t){return function(){return this.vertexArray.vertices[t]}}function f(t,e,r,n){return function(){var i=this.vertexArray.vertices,o=void 0,u=void 0;for(o=0;o<e;++o)for(u=0;u<t;++u)i[o*r+n+u]=arguments[o*t+u]}}function c(t,e,r){return function(n){for(var i=this.vertexArray.vertices,o=0;o<t;++o)i[o*e+r]=n}}function h(t){return t[0].toUpperCase()+t.substr(1)}Object.defineProperty(e,"__esModule",{value:!0});var d=r(95),p=n(d),v=r(126),m=n(v),_=r(104),g=n(_);e["default"]=i;var y=r(180),x=n(y),M=r(178),b=n(M);i.prototype.createVertexArray=function(t){return new b["default"](this,void 0===t?1:t)},i.prototype.create=function(t){var e=(0,g["default"])(this.vertexObjectPrototype);return x["default"].call(e,this,t),x["default"]!==this.vertexObjectConstructor&&this.vertexObjectConstructor.call(e),e},i.prototype.hasAttribute=function(t,e){var r=this.attr[t];return r&&r.size===(e||1)},(0,p["default"])(i.prototype,{proto:{get:function(){return this.vertexObjectConstructor.prototype},enumerable:!0}}),u.prototype.getAttrPostfix=function(t,e){if(this.attrNames){var r=this.attrNames[e];if(void 0!==r)return r}return t+"_"+e},u.prototype.defineProperties=function(t,e,r){var n,i;if(1===this.size)if(this.uniform)e[t]={get:l(this.offset),set:c(r.vertexCount,r.vertexAttrCount,this.offset),enumerable:!0};else for(e["set"+h(t)]={value:f(1,r.vertexCount,r.vertexAttrCount,this.offset),enumerable:!0},n=0;n<r.vertexCount;++n)e[t+n]={get:l(this.offset+n*r.vertexAttrCount),set:f(1,1,0,this.offset+n*r.vertexAttrCount),enumerable:!0};else if(this.size>=2)if(this.uniform)for(e["get"+h(t)]={value:a(this.offset),enumerable:!0},e["set"+h(t)]={value:s(this.size,r.vertexCount,r.vertexAttrCount,this.offset),enumerable:!0},n=0;n<this.size;++n)e[this.getAttrPostfix(t,n)]={get:l(this.offset+n),set:c(r.vertexCount,r.vertexAttrCount,this.offset+n),enumerable:!0};else for(e["set"+h(t)]={value:f(this.size,r.vertexCount,r.vertexAttrCount,this.offset),enumerable:!0},n=0;n<r.vertexCount;++n)for(i=0;i<this.size;++i)e[this.getAttrPostfix(t,i)+n]={get:l(this.offset+n*r.vertexAttrCount+i),set:f(1,1,0,this.offset+n*r.vertexAttrCount+i),enumerable:!0}}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,r){f.object.definePropertiesPublicRO(this,{descriptor:t,capacity:e,vertexArray:null!=r?r:t.createVertexArray(e),ZERO:t.create(),NEW:t.create()}),u(this)}function u(t){t.availableVOs=[];var e,r,n;for(n=0;n<t.capacity;n++)e=t.vertexArray.subarray(n),r=t.descriptor.create(e),r.destroy=t.free.bind(t,r),t.availableVOs.push(r);t.usedVOs=[]}Object.defineProperty(e,"__esModule",{value:!0});var a=r(95),s=i(a);e["default"]=o;var l=r(73),f=n(l);(0,s["default"])(o.prototype,{usedCount:{get:function(){return this.usedVOs.length},enumerable:!0},availableCount:{get:function(){return this.availableVOs.length},enumerable:!0}}),o.prototype.alloc=function(){var t=this.availableVOs.shift();if(void 0===t)throw new Error("VertexObjectPool capacity(="+this.capacity+") reached!");return this.usedVOs.push(t),t.vertexArray.copy(this.NEW.vertexArray),t},o.prototype.free=function(t){var e=this.usedVOs.indexOf(t);if(e!==-1){var r=this.usedVOs.length-1;if(e!==r){var n=this.usedVOs[r];t.vertexArray.copy(n.vertexArray);var i=n.vertexArray;n.vertexArray=t.vertexArray,t.vertexArray=i,this.usedVOs.splice(e,1,n)}this.usedVOs.pop(),this.availableVOs.unshift(t),t.vertexArray.copy(this.ZERO.vertexArray)}}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){l.object.definePropertiesPrivateRO(this,{app:t,vertexShaders:new a["default"],fragmentShaders:new a["default"],programs:new a["default"]})}Object.defineProperty(e,"__esModule",{value:!0});var u=r(167),a=i(u);e["default"]=o;var s=r(73),l=n(s),f=r(148),c=i(f),h=r(143),d=i(h);o.prototype.addProgram=function(t,e,r){return this.programs.set(t,new d["default"](t,e,r)),this},o.prototype.getProgram=function(t){return this.programs.get(t)},o.prototype.addShader=function(t){return t.shaderType===c["default"].VERTEX_SHADER?this.vertexShaders.set(t.name,t):t.shaderType===c["default"].FRAGMENT_SHADER&&this.fragmentShaders.set(t.name,t),this},o.prototype.defineVertexShader=function(t,e){return this.addShader(new c["default"](this.app,c["default"].VERTEX_SHADER,t,e))},o.prototype.defineFragmentShader=function(t,e){return this.addShader(new c["default"](this.app,c["default"].FRAGMENT_SHADER,t,e))},o.prototype.loadVertexShader=function(t,e){var r=new c["default"](this.app,c["default"].VERTEX_SHADER,t).load(e);return this.addShader(r),r.promise},o.prototype.loadFragmentShader=function(t,e){var r=new c["default"](this.app,c["default"].FRAGMENT_SHADER,t).load(e);return this.addShader(r),r},o.prototype.getVertexShader=function(t){return this.vertexShaders.get(t)},o.prototype.getFragmentShader=function(t){return this.fragmentShaders.get(t)}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){l.object.definePropertyPublicRO(this,"app",t),l.object.definePropertiesPrivateRO(this,{_textureCache:new a["default"],_boundTextures:[]});for(var e=0;e<t.glx.MAX_TEXTURE_IMAGE_UNITS;e++)this._boundTextures[e]=null;this._lastBoundTexUnit=0}Object.defineProperty(e,"__esModule",{value:!0});var u=r(167),a=i(u);e["default"]=o;var s=r(73),l=n(s),f=r(185),c=i(f);o.prototype.bindWebGlTexture=function(t){var e=this._boundTextures.indexOf(t);if(e<0){for(var r=0;r<this._boundTextures.length;r++)if(!this._boundTextures[r]){e=r,this._boundTextures[r]=t;break}var n=this.app.glx;if(e<0){e=this._lastBoundTexUnit;var i=this._boundTextures[e];i&&(i.texUnit=-1),this._lastBoundTexUnit=(this._lastBoundTexUnit+1)%n.MAX_TEXTURE_IMAGE_UNITS}n.activeTexture(e),n.bindTexture2d(t.glId),t.texUnit=e}return e},o.prototype.findOrCreateWebGlTexture=function(t){var e=t.texture?t.texture:t,r=e.image.domElement?e.image.domElement:e.image,n=e.image.uid?e.image.uid:r,i=this._textureCache.get(n);return i||(i=new c["default"](this.app.glx),i.image=r,this._textureCache.set(n,i)),i}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){this.glx=t,this.width=0,this.height=0,this.isFlipY=e===!0,this.isRepeatable=r===!0,this.image=null,o(this),(0,c["default"])(this)}function o(t){t.glId=0,t.needsInit=!0,t.needsConf=!0,t.needsUpload=!0,t.texUnit=-1}function u(t){t.needsInit&&(t.glId=t.glx.gl.createTexture(),t.needsInit=!1)}function a(t){if(t.glId||u(t),t.needsConf&&t.canConf){t.bind();var e=t.glx.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.isFlipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var r=t.isRepeatable?e.REPEAT:e.CLAMP_TO_EDGE;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,null),t.needsConf=!1}}Object.defineProperty(e,"__esModule",{value:!0});var s=r(95),l=n(s),f=r(129),c=n(f);e["default"]=i,(0,l["default"])(i.prototype,{isRepeatable:{get:function(){return this._isRepeatable},set:function(t){var e=!!t;this._isRepeatable!==e&&(this._isRepeatable=e,this.needsConf=!0)}},width:{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.needsConf=!0)}},height:{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.needsConf=!0)}},image:{get:function(){return this._image},set:function(t){this._image!==t&&(this._image=t,this.needsUpload=!0,t?(this.width=t.width,this.height=t.height):(this.width=0,this.height=0))}},canConf:{get:function(){return this.width>0&&this.height>0}},canUpload:{get:function(){return this.image&&this.width>0&&this.height>0}}}),i.prototype.bind=function(){return this.glId||u(this),this.glx.app.textureManager.bindWebGlTexture(this)},i.prototype.upload=function(){if(a(this),this.needsUpload&&this.canUpload){this.bind();var t=this.glx.gl;t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.image),this.needsUpload=!1}return this},i.prototype.destroy=function(){o(this)}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(!t)throw new Error("[new Picimo.render.WebGlContext] gl is undefined!");d.object.definePropertyPublicRO(this,"gl",t),d.object.definePropertiesPrivateRO(this,{_boundBuffers:new c["default"],_shaders:new c["default"],_programs:new c["default"]}),a(this),u(this),this.app=null,this.activeProgram=null,this.activeTexture(0),this._boundTextures=[];for(var e=0;e<this.MAX_TEXTURE_IMAGE_UNITS;e++)this._boundTextures[e]={TEXTURE_2D:null};(0,l["default"])(this)}function u(t){var e=t.gl;d.object.definePropertiesPublicRO(t,{MAX_TEXTURE_SIZE:e.getParameter(e.MAX_TEXTURE_SIZE),MAX_TEXTURE_IMAGE_UNITS:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)})}function a(t){t.OES_element_index_uint=t.gl.getExtension("OES_element_index_uint"),t.OES_element_index_uint||console.error("WebGL don't support the OES_element_index_uint extension!")}Object.defineProperty(e,"__esModule",{value:!0});var s=r(129),l=i(s),f=r(167),c=i(f);e["default"]=o;var h=r(73),d=n(h);o.prototype.activeTexture=function(t){var e=this.gl,r=e.TEXTURE0+t;this.activeTexUnit!==r&&(this.activeTexUnit=r,e.activeTexture(this.activeTexUnit))},o.prototype.bindTexture2d=function(t){var e=this.gl,r=this._boundTextures[this.activeTexUnit-e.TEXTURE0];r.TEXTURE_2D!==t&&(r.TEXTURE_2D=t,e.bindTexture(e.TEXTURE_2D,t))},o.prototype.bindBuffer=function(t,e){this._boundBuffers.get(t)!==e&&(this._boundBuffers.set(t,e),this.gl.bindBuffer(t,e))},o.prototype.bindArrayBuffer=function(t){this.bindBuffer(this.gl.ARRAY_BUFFER,t)},o.prototype.bindElementArrayBuffer=function(t){this.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t)},o.prototype.glShader=function(t){if(void 0!==t){var e=this._shaders.get(t.uid);return void 0===e&&(e=t.compile(this),void 0!==e&&this._shaders.set(t.uid,e)),e}},o.prototype.glProgram=function(t){if(void 0!==t){var e=this._programs.get(t.uid);return void 0===e&&(e=t.linkProgram(this.app),void 0!==e&&this._programs.set(t.uid,e)),e}}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){y.object.definePropertyPublicRO(this,"app",t),u(this),a(this)}function u(t){t.cmdQueue=new y.Queue,t._renderCmd=null,t.uniforms=new v["default"],t.attributes=new v["default"],t.program=null,t.currentProgram=null,t.currentPipeline=null,t.defaultBlendMode=x.BlendMode.DEFAULT,t.currentBlendMode=null,t.renderToTexture=null,t.debugOutFrame=!1}function a(t){t.pipeline=new v["default"],t.pipelines=[]}function s(t){var e=t.app.gl,r=t.app.backgroundColor;e.clearColor(r.getRed(),r.getGreen(),r.getBlue(),r.getAlpha()),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function l(t){t.cmdQueue.clear(),t.currentPipeline=null,t.renderToTexture=null,t.currentProgram=null,t.debugOutFrame=120===t.app.frameNo}function f(t){d(t,"finish"),t.debugOutFrame&&(console.groupCollapsed("Picimo.render.WebGlRenderer Command Queue ("+t.cmdQueue.length+")"),h(t)),c(t),t.debugOutFrame&&(console.debug("WebGlRenderer",t),console.groupEnd())}function c(t){var e=t._renderCmd;e||(e=t._renderCmd=b["default"].bind(t,t)),t.cmdQueue.forEach(e)}function h(t){t.cmdQueue.forEach(function(t){"id"in t?console.debug("cmd{"+t.id+"}",t):console.debug("cmd",t)})}function d(t,e){var r,n,i;for(r=t.pipelines.length;r--;)n=t.pipelines[r],i=n[e],i&&i.call(n)}Object.defineProperty(e,"__esModule",{value:!0});var p=r(167),v=i(p);e["default"]=o;var m=r(149),_=i(m),g=r(73),y=n(g),x=r(140),M=r(188),b=i(M);o.prototype.filterPipelineByInstanceof=function(t){return _["default"].filter(this.pipelines,function(e){return e instanceof t})},o.prototype.onInitGl=function(){},o.prototype.onResize=function(){var t=this.app;t.gl.viewport(0,0,t.width,t.height)},o.prototype.onStartFrame=function(){l(this),d(this,"reset"),s(this),this.activateBlendMode(this.defaultBlendMode)},o.prototype.activateBlendMode=function(t){this.currentBlendMode!==t&&(this.currentBlendMode=t,t&&t.activate(this.app.gl))},o.prototype.onEndFrame=function(){f(this)},o.prototype.addPipeline=function(t,e){return t&&!e&&(e=t,t="pipe_"+this.pipelines.length),this.pipeline[t]=e,this.pipelines.push(e),e},o.prototype.activatePipeline=function(t){return t!==this.currentPipeline&&(this.flush(),this.currentPipeline=t),this},o.prototype.addRenderCommand=function(t,e){void 0!==e&&this.activatePipeline(e),t.renderToTexture&&this.flush(),this.cmdQueue.push(t)},o.prototype.flush=function(){this.currentPipeline&&this.currentPipeline.flush&&this.currentPipeline.flush()},o.prototype.dumpCommandQueue=function(){this.debugOutFrame=!0}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var r;void 0!==e.blendMode&&(e.blendMode===!1?r=t.defaultBlendMode:null!=e.blendMode&&(r=e.blendMode),t.activateBlendMode(r)),void 0!==e.renderToTexture&&(e.renderToTexture!==!1?(t.renderToTexture=e.renderToTexture,t.renderToTexture.activate()):(t.renderToTexture.deactivate(),t.renderToTexture=null));var n,i;if(e.uniforms)for(n in e.uniforms)e.uniforms.hasOwnProperty(n)&&(i=t.uniforms.get(n),i||(i=new l["default"],
t.uniforms.set(n,i)),i.exec(e.uniforms[n]));if(e.attributes)for(n in e.attributes)e.attributes.hasOwnProperty(n)&&t.attributes.set(n,e.attributes[n]);var u;if(e.program&&"string"==typeof e.program){if(u=t.app.getProgram(e.program),!u)return void o("unknown program:",e.program);t.program=t.app.glx.glProgram(u)}e.drawElements&&(0,a["default"])(t,e.drawElements)}function o(){console.warn.apply(console,["[Picimo.render.WebGlRenderer#renderCommand]"].concat(Array.prototype.slice.apply(arguments)))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var u=r(189),a=n(u),s=r(190),l=n(s)},function(t,e){"use strict";function r(t,e){var r,n,i,o,u,a,s=t.app.gl,l=t.program,f=!1;t.currentProgram&&t.currentProgram===l||(t.currentProgram=l,l.use(),f=!0);var c;for(i=0,o=l.uniformNames.length;i<o;i++){u=l.uniformNames[i],a=t.program.uniform[u],c=t.uniforms.get(u),null!=c&&(c=c.value),t.debugOutFrame&&(console.groupCollapsed("%cuniform","font-weight:bold;color:#26f",u),console.debug("value",c),console.debug("program->uniform",a),console.debug("renderer->uniformStack",t.uniforms.get(u)));try{a.setValue(c,t.debugOutFrame)}catch(h){t.debugOutFrame&&(console.error("uniform.setValue panic!",h),console.debug("name",u,"value",c),console.debug(".. program->uniform",a),console.debug(".. renderer->uniformStack",t.uniforms.get(u)))}t.debugOutFrame&&(f&&console.log("programChanged",f),console.groupEnd(u)),f&&(a.valueChanged=!0);try{a.upload(s)}catch(d){t.debugOutFrame&&console.error("[draw_elements] uniform upload panic:",u,a)}}for(i=0,o=l.attribNames.length;i<o;i++)u=l.attribNames[i],r=t.program.attrib[u],r.setValue(t.attributes.get(u)),f&&(r.valueChanged=!0),r.upload(s);n=e.elementType||s.TRIANGLES,e.buffer.bindBuffer().drawElements(n,e.count,e.offset)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(101),o=n(i),u=r(102),a=n(u),s=function(){function t(){(0,o["default"])(this,t),this.value=null,this.commands=[]}return(0,a["default"])(t,[{key:"exec",value:function(t){var e;if(null!=t){if(t.isUniformValueCmd)e=t.getValue(this.value),t.isRestorable&&(t.prevValue=this.value,this.commands.push(t));else if(t.isUniformValueRestoreCmd){for(var r=0;r<this.commands.length;r++)if(this.commands[r].uid===t.uid){e=this.commands[r].prevValue,this.commands.splice(r,this.commands.length-r);break}void 0===e&&(e=this.value)}else e=t;this.value=e}}}]),t}();e["default"]=s},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var r=t.gl;l.object.definePropertiesPrivateRO(this,{glx:t,glBuffer:r.createBuffer(),drawType:e.drawType||r.DYNAMIC_DRAW,bufferType:e.bufferType||r.ARRAY_BUFFER,itemType:e.itemType||(this.bufferType===r.ARRAY_BUFFER?r.FLOAT:r.UNSIGNED_SHORT),arrType:e.arrType||(this.itemType===r.FLOAT?Float32Array:Uint16Array),itemSize:e.itemSize}),this.numItems=e.numItems||0,this.dataArray=e.dataArray,(0,a["default"])(this)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(129),a=i(u);e["default"]=o;var s=r(73),l=n(s);o.prototype.bindBuffer=function(){return this.glx.bindBuffer(this.bufferType,this.glBuffer),this},o.prototype.bufferData=function(t){return this.numItems=t.length/this.itemSize|0,this.dataArray=t instanceof this.arrType?t:new this.arrType(t),this.bindBuffer(),this.glx.gl.bufferData(this.bufferType,this.dataArray,this.drawType),this},o.prototype.bufferSubData=function(t,e,r){return this.bindBuffer(),t||(t=this.dataArray),"number"==typeof e&&(void 0===r&&(r=0),t=new this.arrType(t.buffer,r*this.arrType.BYTES_PER_ELEMENT,e)),this.glx.gl.bufferSubData(this.bufferType,0,t),this},o.prototype.vertexAttribPointer=function(t,e,r,n,i){var o=this.glx.gl;return o.vertexAttribPointer(t,e||this.itemSize,this.itemType,i?o.TRUE:o.FALSE,(r||0)*this.arrType.BYTES_PER_ELEMENT,(n||0)*this.arrType.BYTES_PER_ELEMENT),this},o.prototype.drawElements=function(t,e,r){var n=this.glx.gl;n.drawElements(t||n.TRIANGLES,(e||this.numItems)*this.itemSize,this.itemType,(r||0)*this.arrType.BYTES_PER_ELEMENT)},o.prototype.destroy=function(){this.glx&&(this.glBuffer&&(this.glx.gl.deleteBuffer(this.glBuffer),this.glBuffer=null),this.glx=null)},o.fromVertexArray=function(t,e,r){var n={drawType:r&&r.drawType?r.drawType:t.gl.DYNAMIC_DRAW,bufferType:t.gl.ARRAY_BUFFER,itemType:t.gl.FLOAT,arrType:Float32Array,itemSize:e.vertexAttrCount},i=new o(t,n);return r&&r.vertexArray&&i.bufferData(r.vertexArray.vertices),i},o.fromVertexIndexArray=function(t,e){var r={drawType:t.gl.STATIC_DRAW,bufferType:t.gl.ELEMENT_ARRAY_BUFFER,itemType:t.gl.UNSIGNED_SHORT,arrType:Uint16Array,itemSize:e.objectIndexCount,numItems:e.vertexObjectCount},n=new o(t,r);return n.bufferData(e.indices),n}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){t.transform=new g.Matrix4,t.viewMatrixUniform=new y.cmd.UniformValue((!0),u.bind(null,t,new g.Matrix4)),t.hasOwnProjection&&t.on("init",p["default"].PRIO_A,function(){this.projectionNeedsUpdate=!0,f(this)})}function u(t,e,r){return!r||t.hasOwnProjection?t.computeViewMatrix(e):e.multiply(r,t.transform),e}function a(t){m.object.definePropertiesPublicRO(t,{projection:null,hasOwnProjection:!1,projectionNeedsUpdate:!1}),(0,h["default"])(t,{width:{get:function(){var t=this.scene;return t?t.width:this.app.width},enumerable:!0},height:{get:function(){var t=this.scene;return t?t.height:this.app.height},enumerable:!0},pixelRatio:{get:function(){var t=this.scene;return t?t.pixelRatio:this.app.devicePixelRatio},enumerable:!0},devicePixelRatio:{get:function(){var t=this.scene;return t?t.devicePixelRatio:this.app.devicePixelRatio},enumerable:!0}})}function s(t){t.rootRenderCmd={uniforms:{iGlobalTime:0,iFrameNo:0,iResolution:[0,0]}},t.on("frame",x.onRootFrame)}function l(t,e){m.object.definePropertiesPublicRO(t,{projection:new g.Matrix4,hasOwnProjection:!0}),t.projectionNeedsUpdate=!0,t._desiredPixelRatio=e.pixelRatio?parseFloat(e.pixelRatio):t.isRootNode?1:0,t._desiredWidth=e.width?parseFloat(e.width):0,t._desiredHeight=e.height?parseFloat(e.height):0,(0,h["default"])(t,{width:{get:function(){return this._computedWidth?this._computedWidth:this._desiredWidth},set:function(t){var e=parseFloat(t);this._desiredWidth!==e&&(this._desiredWidth=e,e&&(this._desiredPixelRatio=0),this.projectionNeedsUpdate=!0)},enumerable:!0},height:{get:function(){return this._computedHeight?this._computedHeight:this._desiredHeight},set:function(t){var e=parseFloat(t);this._desiredHeight!==e&&(this._desiredHeight=e,e&&(this._desiredPixelRatio=0),this.projectionNeedsUpdate=!0)},enumerable:!0},pixelRatio:{get:function(){if(this._computedPixelRatio)return this._computedPixelRatio;if(this._desiredPixelRatio)return this._desiredPixelRatio;var t=this.scene;return t?t.pixelRatio:0},set:function(t){var e=parseFloat(t);this._desiredPixelRatio!==e&&(this._desiredPixelRatio=e,e&&(this._computedPixelRatio=0,this._desiredWidth=0,this._desiredHeight=0),this.projectionNeedsUpdate=!0)},enumerable:!0},sizeFit:{get:function(){return this._sizeFit},set:function(t){var e="cover"===t?"cover":"contain";this._sizeFit!==e&&(this._sizeFit=e,this.projectionNeedsUpdate=!0)},enumerable:!0}}),f(t)}function f(t){if(t.hasOwnProjection&&t.projectionNeedsUpdate){var e;if(t._desiredWidth||t._desiredHeight){var r=t.app.height/t.app.width,n=t._desiredHeight/t._desiredWidth,i=t._desiredWidth&&t._desiredHeight&&"cover"===t.sizeFit;!t._desiredWidth&&t._desiredHeight||r<n?(t._computedWidth=t._desiredHeight/t.app.height*t.app.width,t._computedHeight=t._desiredHeight,i&&(e=t._desiredWidth/t._computedWidth,t._computedWidth*=e,t._computedHeight*=e)):t._desiredWidth&&!t._desiredHeight||r>n?(t._computedWidth=t._desiredWidth,t._computedHeight=t._desiredWidth/t.app.width*t.app.height,i&&(e=t._desiredHeight/t._computedHeight,t._computedWidth*=e,t._computedHeight*=e)):(t._computedWidth=t._desiredWidth,t._computedHeight=t._desiredHeight),t._computedPixelRatio=t.app.width/t._computedWidth/t.app.devicePixelRatio}else if(t._desiredPixelRatio){var o=t.scene,u=o?o:t.app,a=o?o.pixelRatio:t.app.devicePixelRatio;e=t._desiredPixelRatio*a,t._computedWidth=u.width/e,t._computedHeight=u.height/e}t.devicePixelRatio=t.app.width/t._computedWidth,t.projectionNeedsUpdate=!1,t.projection.ortho(t.width,t.height),t.emit("projectionUpdated",t.projection)}}Object.defineProperty(e,"__esModule",{value:!0});var c=r(95),h=i(c);e.initTransform=o,e.initWithoutProjection=a,e.initRootScene=s,e.initProjection=l,e.updateProjection=f;var d=r(3),p=i(d),v=r(73),m=n(v),_=r(137),g=n(_),y=r(139),x=r(193)},function(t,e,r){"use strict";function n(){this.hasOwnProjection&&(a(this),(0,l.updateProjection)(this)),u(this),o(this)}function i(){this.app.renderer.addRenderCommand(this.renderPostCmd,null)}function o(t){var e=t.renderCmd;e.uniforms.renderPrio=t.renderPrio,t.app.renderer.addRenderCommand(e,null)}function u(t){var e=t.width,r=t.height,n=t.pixelRatio,i=t.renderCmd.uniforms;e===t.prevWidth&&r===t.prevHeight&&n===t.prevPixelRatio||(t.prevWidth=e,t.prevHeight=r,t.prevPixelRatio=n,i.sceneInfo[0]=t.width,i.sceneInfo[1]=t.height,i.sceneInfo[2]=t.pixelRatio,t.emit("resize",e,r,n))}function a(t){var e=t.scene||t.app;e.width===t.parentResolution.width&&e.height===t.parentResolution.height&&e.pixelRatio===t.parentResolution.pixelRatio&&e.devicePixelRatio===t.parentResolution.devicePixelRatio||(t.parentResolution.width=t.parentResolution.width,t.parentResolution.height=t.parentResolution.height,t.parentResolution.pixelRatio=t.parentResolution.pixelRatio,t.parentResolution.devicePixelRatio=t.parentResolution.devicePixelRatio,t.projectionNeedsUpdate=!0)}function s(){var t=this,e=t.rootRenderCmd.uniforms,r=t.app;e.iGlobalTime=r.now,e.iFrameNo=r.frameNo,e.iResolution[0]=r.width,e.iResolution[1]=r.height,r.renderer.addRenderCommand(t.rootRenderCmd)}Object.defineProperty(e,"__esModule",{value:!0}),e.onFrame=n,e.onFrameEnd=i,e.onRootFrame=s;var l=r(192)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){return e.appendChild(t),r&&t.connect(r),t}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),u=n(o),a=r(195),s=n(a);e["default"]=function(t){t.prototype.appendSpriteGroup=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return e.parentNode=this,e.textureAtlas=t,i(new f["default"](this.app,e),this,r)},t.prototype.appendPicture=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return e.parentNode=this,e.texture=this.app.loadTexture(t),i(new h["default"](this.app,e),this,r)},t.prototype.appendCanvas=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];e.parentNode=this;var n=(0,s["default"])({},e);return"number"==typeof t||Array.isArray(t)?n.canvasSize=t:"object"===("undefined"==typeof t?"undefined":(0,u["default"])(t))&&(n.canvas=t),i(new p["default"](this.app,n),this,r)},t.prototype.appendScene=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return e.parentNode=this,i(new t(this.app,e),this,r)}};var l=r(200),f=n(l),c=r(204),h=n(c),d=r(209),p=n(d)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=r(196),o=n(i);e["default"]=o["default"]||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}},function(t,e,r){t.exports={"default":r(197),__esModule:!0}},function(t,e,r){r(198),t.exports=r(16).Object.assign},function(t,e,r){var n=r(14);n(n.S+n.F,"Object",{assign:r(199)})},function(t,e,r){"use strict";var n=r(35),i=r(64),o=r(65),u=r(51),a=r(38),s=Object.assign;t.exports=!s||r(25)(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=s({},t)[r]||Object.keys(s({},e)).join("")!=n})?function(t,e){for(var r=u(t),s=arguments.length,l=1,f=i.f,c=o.f;s>l;)for(var h,d=a(arguments[l++]),p=f?n(d).concat(f(d)):n(d),v=p.length,m=0;v>m;)c.call(d,h=p[m++])&&(r[h]=d[h]);return r}:s},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){void 0===e&&(e={}),g["default"].call(this,t,e),s(this,e.textureAtlas),this.program=e.program||"picimo.sprite",this.spriteDescriptor=t.spriteFactory.getDescriptor(e.sprites||"default"),this.pipeline=null,this.defaultSpriteWidth=e.defaultWidth||0,this.defaultSpriteHeight=e.defaultHeight||e.defaultWidth,u(this,this.spriteDescriptor,e.capacity||1e3),this.on("initGl",l.bind(this,this)),this.on("renderFrame",f.bind(this,this))}function u(t,e,r){t.pool=new x.VertexObjectPool(e,r);var n=t.pool.NEW;e.hasAttribute("scale",1)?n.scale=1:e.hasAttribute("scale",2)&&n.setScale(1,1),e.hasAttribute("opacity")&&(n.opacity=1),a(t)}function a(t){t.hasDefaultSpriteSize&&t.pool.NEW.setSize(t.defaultSpriteWidth,t.defaultSpriteHeight)}function s(t,e){t.textureAtlas=null,t.readyFunc=!1,p["default"].resolve(e).then(function(e){return t.textureAtlas=e,e.promise}).then(function(t){return t.texture.image.promise}).then(function(){t.readyFunc=!0})}function l(t){t.pipeline=new M.SpriteGroupPipeline(t.app,t.program,t.pool,t.textureAtlas),t.pipeline.onInitGl(),t.app.renderer.addPipeline(t.pipeline)}function f(t){t.pipeline.render()}Object.defineProperty(e,"__esModule",{value:!0});var c=r(95),h=i(c),d=r(79),p=i(d),v=r(104),m=i(v);e["default"]=o;var _=r(124),g=i(_),y=r(151),x=n(y),M=r(201);o.prototype=(0,m["default"])(g["default"].prototype),o.prototype.constructor=o,o.prototype.createSprite=function(t,e,r){var n=this.pool.alloc(),i="string"==typeof t?this.textureAtlas.getTexture(t):null==t?this.textureAtlas.getRandomTexture():t;if(i.setTexCoords(n),void 0===e){if(this.hasDefaultSpriteSize||!i)return n;e=i.width,r=i.height}else void 0===r&&(r=e);return n.setSize(e,r),n},o.prototype.createSprites=function(t){var e=t.length;if(!e||e%3)console.error("SpriteGroup.createSprites(): wrong array size: ",e,t);else for(var r=0;r<e;)this.createSprite(t[r]).setTranslate(t[r+1],t[r+2]),r+=3},o.prototype.setDefaultSpriteSize=function(t,e){this.defaultSpriteWidth=t||0,this.defaultSpriteHeight=e||t,a(this)},(0,h["default"])(o.prototype,{textureAtlas:{get:function(){return this._textureAtlas},set:function(t){if(this._textureAtlas=t,t instanceof x.TextureAtlas)this.ready=!0;else if(this.ready=!1,t&&t.then){var e=this;t.then(function(t){e.textureAtlas=t})}}},hasDefaultSpriteSize:{get:function(){return this.defaultSpriteWidth>0&&this.defaultSpriteHeight>0}}})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteGroupPipeline=e.PicturePipeline=void 0;var i=r(202),o=n(i),u=r(203),a=n(u);e.PicturePipeline=o["default"],e.SpriteGroupPipeline=a["default"]},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){t.webGlBuffer||(t.webGlBuffer=_["default"].fromVertexArray(t.app.glx,t.pool.descriptor,{drawType:t.app.gl.DYNAMIC_DRAW,vertexArray:t.pool.vertexArray}),t.indexArray=v.VertexIndexArray.Generate(t.pool.capacity,[0,1,2,0,2,3]),t.webGlIndexBuffer=_["default"].fromVertexIndexArray(t.app.glx,t.indexArray))}function u(t){t.renderCmd||(t.renderCmd=new p.ObjectPool(function(){var e,r={program:t.program,uniforms:{tex:t.webGlTexture},attributes:{},drawElements:{buffer:t.webGlIndexBuffer,elementType:t.app.gl.TRIANGLES,count:0,offset:0}},n=t.pool.descriptor.attr;for(e in n)n.hasOwnProperty(e)&&(r.attributes[e]={offset:n[e].offset,size:n[e].size,stride:t.pool.descriptor.vertexAttrCount,buffer:t.webGlBuffer});return(0,s["default"])(r),r}))}Object.defineProperty(e,"__esModule",{value:!0});var a=r(129),s=i(a),l=r(101),f=i(l),c=r(102),h=i(c),d=r(73),p=n(d),v=r(151),m=r(191),_=i(m),g=function(){function t(e,r,n,i){(0,f["default"])(this,t),this.indexArray=null,this.webGlBuffer=null,this.webGlIndexBuffer=null,this.renderCmd=null,p.object.definePropertiesPrivateRO(this,{app:e,pool:r,texture:n,program:i}),this.reset(),(0,s["default"])(this)}return(0,h["default"])(t,[{key:"onInitGl",value:function(){o(this),u(this)}},{key:"reset",value:function(){this.currentSpriteCount=0,this.currentSpriteOffset=0,this.totalSpritesCount=0,this.renderCmd&&this.renderCmd.releaseAll()}},{key:"flush",value:function(){if(this.currentSpriteCount){var t=this.renderCmd.create();t.drawElements.count=this.currentSpriteCount,t.drawElements.offset=this.currentSpriteOffset,this.app.renderer.addRenderCommand(t,this),this.currentSpriteOffset+=this.currentSpriteCount,this.currentSpriteCount=0}}},{key:"render",value:function(t){this.app.renderer.activatePipeline(this),this.pool.vertexArray.copy(t,this.totalSpritesCount),this.currentSpriteCount++,this.totalSpritesCount++}},{key:"finish",value:function(){this.totalSpritesCount&&(this.flush(),this.webGlBuffer.bufferSubData(null,this.totalSpritesCount*this.pool.descriptor.vertexAttrCount*this.pool.descriptor.vertexCount))}},{key:"webGlTexture",get:function(){return this.app.textureManager.findOrCreateWebGlTexture(this.texture)}}]),t}();g.DEFAULT_CAPACITY=100,e["default"]=g},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){t.webGlBuffer||(t.webGlBuffer=_["default"].fromVertexArray(t.app.glx,t.pool.descriptor,{drawType:t.app.gl.DYNAMIC_DRAW,vertexArray:t.pool.vertexArray}),t.indexArray=v.VertexIndexArray.Generate(t.pool.capacity,[0,1,2,0,2,3]),t.webGlIndexBuffer=_["default"].fromVertexIndexArray(t.app.glx,t.indexArray))}function u(t){if(!t.renderCmd){t.renderCmd={program:t.program,uniforms:{tex:t.app.textureManager.findOrCreateWebGlTexture(t.texture)},attributes:{},drawElements:{buffer:t.webGlIndexBuffer,elementType:t.app.gl.TRIANGLES}};var e,r=t.pool.descriptor.attr;for(e in r)r.hasOwnProperty(e)&&(t.renderCmd.attributes[e]={offset:r[e].offset,size:r[e].size,stride:t.pool.descriptor.vertexAttrCount,buffer:t.webGlBuffer});(0,s["default"])(t.renderCmd)}}Object.defineProperty(e,"__esModule",{value:!0});var a=r(129),s=i(a),l=r(101),f=i(l),c=r(102),h=i(c),d=r(73),p=n(d),v=r(151),m=r(191),_=i(m),g=function(){function t(e,r,n,i){(0,f["default"])(this,t),this.indexArray=null,this.webGlBuffer=null,this.webGlIndexBuffer=null,this.renderCmd=null,p.object.definePropertiesPrivateRO(this,{app:e,program:r,pool:n,texture:i}),(0,s["default"])(this)}return(0,h["default"])(t,[{key:"onInitGl",value:function(){o(this),u(this)}},{key:"render",value:function(){this.app.renderer.addRenderCommand(this.renderCmd,this)}},{key:"finish",value:function(){this.webGlBuffer.bufferSubData()}}]),t}();e["default"]=g},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(205),o=n(i);e["default"]=o["default"]},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){t.pipeline||u(t)}function u(t){var e=t.app.renderer.filterPipelineByInstanceof(F.PicturePipeline),r=t.sprite.descriptor,n=t.texture,i=t.program;if(e=b["default"].filter(e,function(t){return t.texture===n}),e=b["default"].filter(e,function(t){return t.program===i}),e=b["default"].filter(e,function(t){return t.pool.descriptor===r}),e=b["default"].filter(e,function(t){return t.pool.availableCount}),!e.length){var o=new D.VertexObjectPool(r,F.PicturePipeline.DEFAULT_CAPACITY),u=new F.PicturePipeline(t.app,o,n,i);e.push(u),u.onInitGl(),t.app.renderer.addPipeline(u)}t.pipeline=e[0],t.pipelineSprite=t.pipeline.pool.alloc()}function a(t){(0,R["default"])(t),t.pipeline.render(t.sprite)}function s(t,e){t.texture=null,t.readyFunc=!1,f["default"].resolve(e.promise||e).then(function(e){return t.texture=e,t.texture.setTexCoords(t.sprite),e.image.promise}).then(function(){t.readyFunc=!0})}Object.defineProperty(e,"__esModule",{value:!0});var l=r(79),f=i(l),c=r(154),h=i(c),d=r(101),p=i(d),v=r(102),m=i(v),_=r(157),g=i(_),y=r(158),x=i(y),M=r(149),b=i(M),S=r(124),w=i(S),F=r(201),P=r(151),D=n(P),I=r(206),O=i(I),A=r(73),E=r(207),R=i(E),j="picimo.sprite",T="simple",C="contain",z=function(t){function e(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,p["default"])(this,e);var n=(0,g["default"])(this,(0,h["default"])(e).call(this,t,r));return s(n,r.texture),n.program=r.program||j,n.sprite=t.spriteFactory.createSprite(r.spriteType||T),n.sprite.scale=(0,A.asNumber)(r.scale,1),n.sprite.opacity=(0,A.asNumber)(r.opacity,1),n.posX=r.posX,n.posY=r.posY,n.pipeline=null,n.pipelineSprite=null,n.verticesNeedsUpdate=!0,r.displayPosition?n.displayPosition=r.displayPosition:n.sceneFit=r.sceneFit||C,n.on("initGl",o.bind(n,n)),n.on("renderFrame",a.bind(n,n)),n.parentNode.on("resize",function(){n.verticesNeedsUpdate=!0}),n}return(0,x["default"])(e,t),(0,m["default"])(e,[{key:"setVertexPositions",value:function(t,e,r,n,i,o,u,a){return this.sprite.setPos2d(t,o,r,a,i,e,u,n),this}},{key:"setPos",value:function(t,e){return this.posX=t,this.posY=e,this}},{key:"scale",get:function(){return this.sprite.scale},set:function(t){this.sprite.scale=(0,A.asNumber)(t,1)}},{key:"opacity",get:function(){return this.sprite.opacity},set:function(t){return this.sprite.opacity=(0,A.asNumber)(t,1)}},{key:"posX",get:function(){return this._posX},set:function(t){this._posX=(0,A.asNumber)(t,0),this.verticesNeedsUpdate=!0}},{key:"posY",get:function(){return this._posY},set:function(t){this._posY=(0,A.asNumber)(t,0),this.verticesNeedsUpdate=!0}},{key:"posZ",get:function(){return this.sprite.posZ},set:function(t){this.sprite.posZ=(0,A.asNumber)(t,0)}},{key:"rotate",get:function(){return this.sprite.rotate},set:function(t){this.sprite.rotate=(0,A.asNumber)(t,0)}},{key:"rotateDegree",get:function(){return 180*this.sprite.rotate/Math.PI},set:function(t){this.sprite.rotate=t*(Math.PI/180)}},{key:"sceneFit",get:function(){return this._sceneFit},set:function(t){this._sceneFit=t,this._displayPosition=null,this.verticesNeedsUpdate=!0}},{key:"displayPosition",get:function(){return this._displayPosition},set:function(t){this._displayPosition=null!=t?new O["default"](this,t):null,this._sceneFit=null,this.verticesNeedsUpdate=!0}}]),e}(w["default"]);e["default"]=z},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(129),o=n(i),u=r(101),a=n(u),s=r(102),l=n(s),f=function(){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,a["default"])(this,t),this.picture=e,this.picture.verticesNeedsUpdate=!0,this._top=r.top,this._bottom=r.bottom,this._left=r.left,this._right=r.right,this._width=r.width,this._height=r.height,this._zoom=r.zoom,this._anchorX=r.anchorX,this._anchorY=r.anchorY,(0,o["default"])(this)}return(0,l["default"])(t,[{key:"top",get:function(){return this._top},set:function(t){this._top!==t&&(this._top=t,this.picture.verticesNeedsUpdate=!0)}},{key:"bottom",get:function(){return this._bottom},set:function(t){this._bottom!==t&&(this._bottom=t,this.picture.verticesNeedsUpdate=!0)}},{key:"left",get:function(){return this._left},set:function(t){this._left!==t&&(this._left=t,this.picture.verticesNeedsUpdate=!0)}},{key:"right",get:function(){return this._right},set:function(t){this._right!==t&&(this._right=t,this.picture.verticesNeedsUpdate=!0)}},{key:"width",get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.picture.verticesNeedsUpdate=!0)}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.picture.verticesNeedsUpdate=!0)}},{key:"zoom",get:function(){return this._zoom},set:function(t){this._zoom!==t&&(this._zoom=t,this.picture.verticesNeedsUpdate=!0)}},{key:"anchorX",get:function(){return this._anchorX},set:function(t){this._anchorX!==t&&(this._anchorX=t,this.picture.verticesNeedsUpdate=!0)}},{key:"anchorY",get:function(){return this._anchorY},set:function(t){this._anchorY!==t&&(this._anchorY=t,this.picture.verticesNeedsUpdate=!0)}}]),t}();e["default"]=f},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){var n=t.parentNode,i=t.texture;t.sprite.tx=e+((0,u["default"])(t.posX,n.width,i.width,i.height,n.width,n.height)||0),t.sprite.ty=r+((0,u["default"])(t.posY,n.height,i.width,i.height,n.width,n.height)||0)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){if(t.verticesNeedsUpdate){t.verticesNeedsUpdate=!1;var e=void 0,r=void 0,n=t.displayPosition;if(n){var o=t.parentNode.width,a=t.parentNode.height,s=t.texture.width,l=t.texture.height,f=(0,u["default"])(n.left,o,s,l,o,a),c=(0,u["default"])(n.right,o,s,l,o,a),h=(0,u["default"])(n.top,a,s,l,o,a),d=(0,u["default"])(n.bottom,a,s,l,o,a),p="number"==typeof f?f:null,v="number"==typeof c?o-c:null,m="number"==typeof h?h:null,_="number"==typeof d?a-d:null,g=void 0;g="number"==typeof p&&"number"==typeof v?v-p:(0,u["default"])(n.width,s,s,l,o,a),"number"==typeof n.zoom&&(g=(null===g?t.texture.width:g)*n.zoom);var y=void 0;y="number"==typeof m&&"number"==typeof _?_-m:(0,u["default"])(n.height,l,s,l,o,a),"number"==typeof n.zoom&&(y=(null===y?t.texture.height:y)*n.zoom),null===p&&"number"==typeof v?p=v-g:null===v&&"number"==typeof p&&(v=p+g),null===m&&"number"==typeof _?m=_-y:null===_&&"number"==typeof m&&(_=m+y),e=.5*o,r=.5*a;var x=n.anchorX||0,M=n.anchorY||0,b=x*(v-p),S=M*(_-m);p-=e-b,v-=e-b,m=a-m-r+S,_=a-_-r+S;var w=p+(v-p)/2,F=m+(_-m)/2;p-=w,v-=w,m-=F,_-=F,i(t,w,F),t.setVertexPositions(p,_,v,_,v,m,p,m)}else{var P=t.parentNode.width,D=t.parentNode.height,I=D/P,O=t.texture.height/t.texture.width;if(1===O)r=e="cover"===t.sceneFit?.5*(I>1?D:P):.5*(I<1?D:P);else{var A=void 0;A="cover"===t.sceneFit?O>I?P/t.texture.width:D/t.texture.height:O<I?P/t.texture.width:D/t.texture.height,e=.5*A*t.texture.width,r=.5*A*t.texture.height}i(t,0,0),t.setVertexPositions(-e,-r,e,-r,e,r,-e,r)}}};var o=r(208),u=n(o)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,r,n,i,o){if("string"==typeof t){var u=t.trim();if(u.endsWith("px"))return parseFloat(u);if(void 0!==e&&u.endsWith("%"))return e*parseFloat(u)/100;if(void 0!==r&&u.endsWith("iw"))return r*parseFloat(u)/100;if(void 0!==n&&u.endsWith("ih"))return n*parseFloat(u)/100;if(void 0!==i&&u.endsWith("sw"))return i*parseFloat(u)/100;if(void 0!==o&&u.endsWith("sh"))return o*parseFloat(u)/100}else if("number"==typeof t)return t;return null!=t?parseFloat(t):null}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.dimension,r=t.ctx;t.clearColor?(r.fillStyle=t.clearColor,r.fillRect(e.x,e.y,e.width,e.height)):r.clearRect(e.x,e.y,e.width,e.height)}function u(t,e,r){(0,d["default"])(t,{canvas:{value:e,enumerable:!0},ctx:{value:e.getContext("2d",{alpha:r}),enumerable:!0}})}function a(t){if("number"==typeof t.canvasSize)return new E.Viewport(0,0,parseInt(t.canvasSize,10),parseInt(t.canvasSize,10));if(Array.isArray(t.canvasSize))return new E.Viewport(0,0,parseInt(t.canvasSize[0],10),parseInt(t.canvasSize[1],10));if("object"===(0,c["default"])(t.canvasSize))return new E.Viewport(parseInt(t.canvasSize.x,10),parseInt(t.canvasSize.y,10),parseInt(t.canvasSize.width,10),parseInt(t.canvasSize.height,10));if(t.canvas)return new E.Viewport(0,0,t.canvas.width,t.canvas.height);throw new Error("Picimo.graph.Canvas panic! couldn't determinate canvas size!")}function s(t){var e=document.createElement("canvas");return e.width=(0,R.findNextPowerOfTwo)(t.x+t.width),e.height=(0,R.findNextPowerOfTwo)(t.y+t.height),e}function l(t,e){var r=E.Texture.fromCanvas(t);return(e.x||e.y||e.width!==r.width||e.height!==r.height)&&(r=new E.Texture(r,e.x,e.y,e.width,e.height)),r}Object.defineProperty(e,"__esModule",{value:!0});var f=r(5),c=i(f),h=r(95),d=i(h),p=r(154),v=i(p),m=r(195),_=i(m),g=r(101),y=i(g),x=r(102),M=i(x),b=r(157),S=i(b),w=r(158),F=i(w),P=r(3),D=i(P),I=r(204),O=i(I),A=r(151),E=n(A),R=r(137),j=r(73),T=function(t){function e(t,r){(0,y["default"])(this,e);var n=a(r),i=void 0;if(r.canvas){if(i=r.canvas,!(0,R.isPowerOfTwo)(i.width)||!(0,R.isPowerOfTwo)(i.height))throw new Error("Picimo.graph.Canvas panic: width and height of predefined canvas needs to be power of two! but is ["+i.width+", "+i.height+"]")}else i=s(n);var o=l(i,n),f=(0,_["default"])({},r,{texture:o}),c=(0,S["default"])(this,(0,v["default"])(e).call(this,t,f));return u(c,o.image,(0,j.asBoolean)(r.alpha,!0)),c.dimension=n,c.clearColor=r.clearColor,c.autoClear=r.autoClear,c.autoUpdate=r.autoUpdate,c}return(0,F["default"])(e,t),(0,M["default"])(e,[{key:"update",value:function(){var t=this.webGlTexture;t&&(t.needsUpload=!0)}},{key:"autoClear",set:function(t){this._autoClear=(0,j.asBoolean)(t,!1),this._autoClear?this._clearCanvas||(this._clearCanvas=this.on("renderFrame",D["default"].PRIO_MAX,o.bind(this,this))):this._clearCanvas&&(this.off(this._clearCanvas),this._clearCanvas=0)},get:function(){return this._autoClear}},{key:"autoUpdate",set:function(t){this._autoUpdate=(0,j.asBoolean)(t,!1),this._autoUpdate?this._updateTexture||(this._updateTexture=this.on("renderFrame",this.update.bind(this))):this._updateTexture&&(this.off(this._updateTexture),this._updateTexture=0)},get:function(){return this._autoUpdate}},{key:"webGlTexture",get:function(){return this.pipeline&&this.pipeline.webGlTexture}},{key:"alpha",get:function(){return this.ctx.getContextAttributes().alpha}}]),e}(O["default"]);e["default"]=T},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MouseController=void 0;var i=r(211),o=n(i);e.MouseController=o["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){return{isDrag:e,translateX:t.movementX*r,translateY:-t.movementY*r}}function o(t){t.picimo.canvas.addEventListener("contextmenu",u,!1),t.picimo.canvas.addEventListener("mousedown",t.mouseDown.bind(t),!1),document.addEventListener("mousemove",t.mouseMove.bind(t),!1),document.addEventListener("mouseup",t.mouseUp.bind(t),!1),document.addEventListener("mousewheel",t.mouseWheel.bind(t),!1)}function u(t){return t.preventDefault(),!1}Object.defineProperty(e,"__esModule",{value:!0});var a=r(101),s=n(a),l=r(102),f=n(l),c=r(3),h=n(c),d=0,p=1,v=2,m=function(){function t(e){(0,s["default"])(this,t),this.picimo=e,this.mouseBtnDown=[!1,!1,!1],this.mouseBtnMove=[!1,!1,!1],this.isDrag=!1,o(this),(0,h["default"])(this)}return(0,f["default"])(t,[{key:"mouseDown",value:function(t){this.mouseBtnDown[t.button]=!0,this.mouseBtnMove[t.button]=!1}},{key:"mouseMove",value:function(t){this.mouseBtnMove[d]=this.mouseBtnDown[d],this.mouseBtnMove[p]=this.mouseBtnDown[p],
this.mouseBtnMove[v]=this.mouseBtnDown[v],this.isDrag=this.isSomeBtnDown;var e=this.picimo.devicePixelRatio,r=i(t,this.isDrag,e);this.emit("mouseMove",r,this),this.mouseBtnDown[d]&&this.emit("mouseDragLeft",r,this),this.mouseBtnDown[p]&&this.emit("mouseDragMiddle",r,this),this.mouseBtnDown[v]&&this.emit("mouseDragRight",r,this)}},{key:"mouseUp",value:function(t){var e=t.button;this.mouseBtnDown[e]=!1,this.isDrag=this.isSomeBtnDown,this.mouseBtnMove[e]?this.mouseBtnMove[e]=!1:(e===d&&this.emit("mouseClickLeft",t,this),e===p&&this.emit("mouseClickMiddle",t,this),e===v&&this.emit("mouseClickRight",t,this))}},{key:"mouseWheel",value:function(t){this.emit("mouseWheel",t.wheelDeltaX,t.wheelDeltaY,this)}},{key:"isBtnLeftDown",get:function(){return this.mouseBtnDown[d]}},{key:"isBtnMiddleDown",get:function(){return this.mouseBtnDown[p]}},{key:"isBtnRightDown",get:function(){return this.mouseBtnDown[v]}},{key:"isSomeBtnDown",get:function(){return this.mouseBtnDown[d]||this.mouseBtnDown[p]||this.mouseBtnDown[v]}}]),t}();e["default"]=m},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){var t,e,r,n,i;this.canvasIsPredefined?(t=this.canvas,e=Math.round(this.canvas.clientWidth*this.devicePixelRatio),r=Math.round(this.canvas.clientHeight*this.devicePixelRatio)):(t=this.canvas.parentNode.parentNode,n=t.clientWidth,i=t.clientHeight,e=Math.round(n*this.devicePixelRatio),r=Math.round(i*this.devicePixelRatio),this.canvas.style.width=n+"px",this.canvas.style.height=i+"px"),this.canvas.width===e&&this.canvas.height===r||(this.canvas.width=e,this.canvas.height=r),this.width===e&&this.height===r||(this.width=e,this.height=r,this.renderer&&this.renderer.onResize(),this.emit("resize"))}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){this.now=window.performance.now()/1e3,++this.frameNo,this.frameTime=null==this.frameLastTime?0:this.frameLastTime-this.now,this.frameLastTime=this.now,this.resize(),this.emit("frameBegin"),this.renderer.onStartFrame(),this.emit("frame"),this.scene&&this.scene.renderFrame(),this.emit("renderFrame"),this.renderer.onEndFrame(),this.emit("frameEnd"),requestAnimationFrame(this.onAnimationFrame)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=void 0;try{e=t.canvas.getContext("webgl",t.glCtxAttrs)||t.canvas.getContext("experimental-webgl",t.glCtxAttrs)}catch(r){console.error(r)}if(!e)throw new Error("Could not initialize the WebGL context!");var i=new n.WebGlContext(e);return i.app=t,i};var n=r(139)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){var e=arguments.length<=1||void 0===arguments[1]?"none":arguments[1];"webkitUserSelect"in t.style&&(t.style.webkitUserSelect=e),"mozUserSelect"in t.style&&(t.style.mozUserSelect=e),"msUserSelect"in t.style&&(t.style.msUserSelect=e),"userSelect"in t.style&&(t.style.userSelect=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,r){if(u.object.definePropertyPublicRO(t,"canvasIsPredefined",void 0!==e),e=t.canvasIsPredefined?e:document.createElement("canvas"),u.object.definePropertyPublicRO(t,"canvas",e),!t.canvasIsPredefined){e.style.boxSizing="border-box;",e.style.margin="0",e.style.padding="0",e.style.border="0",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.bottom="0",e.style.right="0",e.style.touchAction="none",i(e);var n=void 0,o=void 0;o=document.createElement("div"),o.style.position="relative",o.style.boxSizing="border-box;",o.style.margin="0",o.style.padding="0",o.style.border="0",o.style.overflow="hidden",o.style.width="100%",o.style.height="100%",o.style.touchAction="none",i(o),o.appendChild(e),n=r||document.body,n.appendChild(o)}};var o=r(73),u=n(o)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=(0,u.initSprites)();o.object.definePropertyPrivateRO(t,"spriteFactory",e),o.object.definePropertyPublicRO(t,"defineSprite",function(t,r,n){return(0,u.defineSprite)(t,r,n,e)}),o.delegateMethods(e,t,{createSprite:"createSprite",getDescriptor:"getSpriteDescriptor"})};var i=r(73),o=n(i),u=r(217)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.initSprites=e.defineSprite=e.SpriteFactory=void 0;var i=r(218),o=n(i),u=r(219),a=n(u),s=r(220),l=n(s);e.SpriteFactory=o["default"],e.defineSprite=a["default"],e.initSprites=l["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(167),o=n(i),u=r(101),a=n(u),s=r(102),l=n(s),f=r(151),c=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];(0,a["default"])(this,t),this.registry=new o["default"],this.parentFactory=e}return(0,l["default"])(t,[{key:"createDescriptor",value:function(t){if(this.getDescriptor(t))throw new Error("oops.. VertexObjectDescriptor '"+t+"' already exists!");for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=new(Function.prototype.bind.apply(f.VertexObjectDescriptor,[null].concat(r)));return this.registry.set(t,i),i}},{key:"getDescriptor",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"default":arguments[0];if(t instanceof f.VertexObjectDescriptor)return t;var e=this.registry.get(t);return!e&&this.parentFactory?this.parentFactory.getDescriptor(t):e}},{key:"createSprite",value:function(t){var e=this.getDescriptor(t);if(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.create.apply(e,n)}}},{key:"createSubFactory",value:function(){return new t(this)}}]),t}();e["default"]=function(){return new c}()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){var n=arguments.length<=3||void 0===arguments[3]?s["default"]:arguments[3],i=n.createDescriptor(t,e.constructor,e.vertexCount,e.vertexAttrCount,e.attributes,e.aliases);return r&&(0,u["default"])(i.proto,r),i}Object.defineProperty(e,"__esModule",{value:!0});var o=r(195),u=n(o);e["default"]=i;var a=r(218),s=n(a)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){return(0,a["default"])(o["default"]),(0,l["default"])(o["default"]),o["default"].createSubFactory()};var i=r(218),o=n(i),u=r(221),a=n(u),s=r(222),l=n(s)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.getDescriptor("default");return e?e:(e=t.createDescriptor("default",function(){this.setAnchor(0,0),this.setRgb(1,1,1)},4,16,[{name:"xwyh",size:2,attrNames:["xw","yh"]},{name:"size",size:2,attrNames:["width","height"],uniform:!0},{name:"scale",size:2,attrNames:["sx","sy"],uniform:!0},{name:"pos",size:2,attrNames:["x","y"],uniform:!0},{name:"texCoords",size:2,attrNames:["s","t"]},{name:"rotate",size:1,uniform:!0},{name:"texUnit",size:1,uniform:!0},{name:"rgb",size:3,attrNames:["r","g","b"],uniform:!0},{name:"opacity",size:1,uniform:!0}],{rot_texUnit:{size:2,offset:10,uniform:!0},color:{size:4,offset:12,uniform:!0}}),e.proto.setAnchor=function(t,e){this.setXwyh(-.5-t,.5-e,.5-t,.5-e,.5-t,-.5-e,-.5-t,-.5-e)},e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.getDescriptor("simple");return e?e:(e=t.createDescriptor("simple",null,4,12,[{name:"position",size:3,attrNames:["x","y","z"]},{name:"rotate",size:1,uniform:!0},{name:"texCoords",size:2,attrNames:["s","t"]},{name:"translate",size:2,uniform:!0,attrNames:["tx","ty"]},{name:"scale",size:1,uniform:!0},{name:"opacity",size:1,uniform:!0}],{pos2d:{size:2,offset:0},posZ:{size:1,offset:2,uniform:!0},uv:"texCoords"}),r(223)(e.proto),e)}},function(t,e){"use strict";!function(){t.exports=function(t){t.setTexCoordsByViewport=function(t,e,r,n){var i=0===t.x?0:t.x/e,o=(t.x+t.width)/e,u=1-(t.y+t.height)/r,a=0===t.y?1:1-t.y/r;void 0!==n&&(i*=n,o*=n,u*=n,a*=n),this.setTexCoords(i,u,o,u,o,a,i,a)},t.setSize=function(t,e){var r=.5*t,n=.5*(null==e?t:e);this.setPos2d(-r,n,r,n,r,-n,-r,-n)},Object.defineProperty(t,"rotateDegree",{get:function(){return 180*this.rotate/Math.PI},set:function(t){this.rotate=t*(Math.PI/180)},enumerable:!0}),Object.defineProperty(t,"z",{get:function(){return this.z0},set:function(t){this.z0=t,this.z1=t,this.z2=t,this.z3=t},enumerable:!0})}}()},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=new a.ShaderManager(t);o.object.definePropertyPrivateRO(t,"shaderManager",e),o.delegateMethods(e,t,["loadFragmentShader","loadVertexShader","getVertexShader","getFragmentShader","getProgram"]),t.addProgram=function(){return e.addProgram.apply(e,arguments),t},t.defineVertexShader=function(){return e.defineVertexShader.apply(e,arguments),t},t.defineFragmentShader=function(){return e.defineFragmentShader.apply(e,arguments),t};var r="picimo.complexSprite";t.defineVertexShader(r,s.DefaultShader.ComplexSprite.VertexShader),t.defineFragmentShader(r,s.DefaultShader.ComplexSprite.FragmentShader),t.addProgram(r,r,r);var n="picimo.sprite";t.defineVertexShader(n,s.DefaultShader.Sprite.VertexShader),t.defineFragmentShader(n,s.DefaultShader.Sprite.FragmentShader),t.addProgram(n,n,n)};var i=r(73),o=n(i),u=r(139),a=n(u),s=r(225)},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.DefaultShader=void 0;var i=r(226),o=n(i),u=r(230),a=n(u);e.DefaultShader=o,e.utils=a},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=e.ComplexSprite=void 0;var i=r(227),o=n(i),u=r(238),a=n(u);e.ComplexSprite=o,e.Sprite=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FragmentShader=e.VertexShader=void 0;var n=r(228);e.VertexShader=["attribute vec2 xwyh;","attribute vec2 size;","attribute vec2 scale;","attribute vec2 pos;","attribute vec2 rot_texUnit;","attribute vec2 texCoords;","attribute vec4 color;","uniform mat4 viewMatrix;","uniform float renderPrio;","varying vec2 v_texCoords;","varying vec2 v_texUnit;","varying vec4 v_color;",(0,n.rotateZ)(),"void main(void)","{","    mat4 rotationMatrix = rotateZ(rot_texUnit.x);","    vec2 pos2d = xwyh * size * scale;","    gl_Position = viewMatrix * ((rotationMatrix * vec4( pos2d, renderPrio, 1.0 )) + vec4(pos.xy, 0.0, 1.0));","    v_texCoords = texCoords;","    v_texUnit = vec2(rot_texUnit.y, 0);","    v_color = color;","}"],e.FragmentShader=["precision mediump float;","varying vec2 v_texCoords;","varying vec2 v_texUnit;","varying vec4 v_color;","uniform sampler2D tex;","void main(void)","{","    vec4 texColor;","    texColor = texture2D(tex, v_texCoords);","    gl_FragColor = v_color * texColor;","}"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.rotateZ=e.rotate=void 0;var i=r(229),o=n(i),u=r(237),a=n(u);e.rotate=o["default"],e.rotateZ=a["default"]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){var t=arguments.length<=0||void 0===arguments[0]?"rotate":arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?1:arguments[3];return["mat4 "+t+"(float angle) {","float s = sin(angle);","float c = cos(angle);","float oc = 1.0 - c;",(0,n.ret)((0,n.mat4)((0,n.add)((0,n.mul)("oc",e*e),"c"),(0,n.sub)((0,n.mul)("oc",e*r),(0,n.mul)(i,"s")),(0,n.add)((0,n.mul)("oc",i*e),(0,n.mul)(r,"s")),0,(0,n.add)((0,n.mul)("oc",e*r),(0,n.mul)(i,"s")),(0,n.add)((0,n.mul)("oc",r*r),"c"),(0,n.sub)((0,n.mul)("oc",r*i),(0,n.mul)(e,"s")),0,(0,n.sub)((0,n.mul)("oc",i*e),(0,n.mul)(r,"s")),(0,n.add)((0,n.mul)("oc",r*i),(0,n.mul)(e,"s")),(0,n.add)((0,n.mul)("oc",i*i),"c"))),"}"]};var n=r(230)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.asFloat=e.ret=e.sub=e.add=e.mul=e.mat4=void 0;var i=r(231),o=n(i),u=r(233),a=n(u),s=r(234),l=n(s),f=r(235),c=n(f),h=r(236),d=n(h),p=r(232),v=n(p);e.mat4=o["default"],e.mul=a["default"],e.add=l["default"],e.sub=c["default"],e.ret=d["default"],e.asFloat=v["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3],i=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=arguments.length<=5||void 0===arguments[5]?0:arguments[5],a=arguments.length<=6||void 0===arguments[6]?0:arguments[6],s=arguments.length<=7||void 0===arguments[7]?0:arguments[7],l=arguments.length<=8||void 0===arguments[8]?0:arguments[8],f=arguments.length<=9||void 0===arguments[9]?0:arguments[9],c=arguments.length<=10||void 0===arguments[10]?0:arguments[10],h=arguments.length<=11||void 0===arguments[11]?0:arguments[11],d=arguments.length<=12||void 0===arguments[12]?0:arguments[12],p=arguments.length<=13||void 0===arguments[13]?0:arguments[13],v=arguments.length<=14||void 0===arguments[14]?0:arguments[14],m=arguments.length<=15||void 0===arguments[15]?1:arguments[15],_=arguments.length<=16||void 0===arguments[16]?u["default"]:arguments[16],g=_||function(t){return t+""};return"mat4("+g(t)+", "+g(e)+", "+g(r)+", "+g(n)+", "+g(i)+", "+g(o)+", "+g(a)+", "+g(s)+", "+g(l)+", "+g(f)+", "+g(c)+", "+g(h)+", "+g(d)+", "+g(p)+", "+g(v)+", "+g(m)+")"}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(232),u=n(o)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=(t+"").trim();return e.match(/^[0-9]+$/)?e+".0":e}},function(t,e){"use strict";function r(t,e){if(n(t)&&n(e))return t*e;if(n(t))switch(t){case 0:return 0;case 1:return e;default:return t+" * "+e}else{if(!n(e))return t+" * "+e;switch(e){case 0:return 0;case 1:return t;default:return t+" * "+e}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var n=function(t){return"number"==typeof t}},function(t,e){"use strict";function r(t,e){if(n(t)&&n(e))return t+e;if(n(t))switch(t){case 0:return e;default:return t+" + "+e}else{if(!n(e))return t+" + "+e;switch(e){case 0:return t;default:return t+" + "+e}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var n=function(t){return"number"==typeof t}},function(t,e){"use strict";function r(t,e){if(n(t)&&n(e))return t-e;if(n(t))switch(t){case 0:return"-"+e;default:return t+" - "+e}else{if(!n(e))return t+" - "+e;switch(e){case 0:return t;default:return t+" - "+e}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var n=function(t){return"number"==typeof t}},function(t,e){"use strict";function r(t){return"return "+t+";"}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){var t=arguments.length<=0||void 0===arguments[0]?"rotateZ":arguments[0];return(0,o["default"])(t,0,0,1)};var i=r(229),o=n(i)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FragmentShader=e.VertexShader=void 0;var n=r(228);e.VertexShader=["\n    attribute vec2 pos2d;\n    attribute float posZ;\n    attribute vec2 uv;\n    attribute vec2 translate;\n    attribute float rotate;\n    attribute float scale;\n    attribute float opacity;\n\n    uniform mat4 viewMatrix;\n\n    varying vec4 vTextureCoordScaleOpacity;",(0,n.rotate)("rotateZ",0,0,1),"\n    void main(void)\n    {\n        mat4 rotationMatrix = rotateZ(rotate);\n        gl_Position = viewMatrix * ((rotationMatrix * (vec4(scale, scale, scale, 1.0) * vec4(pos2d.xy, posZ, 1.0))) + vec4(translate.xy, 0.0, 0.0));\n        vTextureCoordScaleOpacity = vec4(uv.xy, opacity, 0.0);\n    }\n"],e.FragmentShader=["\n    precision mediump float;\n\n    varying vec4 vTextureCoordScaleOpacity;\n    uniform sampler2D tex;\n\n    void main(void) {\n        gl_FragColor = vTextureCoordScaleOpacity.z * texture2D(tex, vec2(vTextureCoordScaleOpacity.s, vTextureCoordScaleOpacity.t));\n    }\n"]},function(t,e){"use strict";function r(t){return"/"===t[t.length-1]?t:a.exec(t)[1]}function n(t){var e;return e=void 0===this.assetBaseUrl?t:o.test(t)?"/"===t[0]&&"/"===this.assetBaseUrl[this.assetBaseUrl.length-1]?this.assetBaseUrl+t.substr(1):this.assetBaseUrl+t:t}function i(t,e){return u.test(e)?e:this.getAssetUrl(r(t?t:this.assetBaseUrl)+e)}Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlDir=r,e.getAssetUrl=n,e.joinAssetUrl=i;var o=new RegExp("^(https?:)?//","i"),u=new RegExp("^(https?:)?/","i"),a=new RegExp("^(.*/)[^/]+$","i")},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return new a.TextureAtlas(this).load(t).promise}function o(t){var e=new a.PowerOfTwoImage(this).load(t),r=new a.Texture;return r.image=e,e.promise.then(function(){return r})}Object.defineProperty(e,"__esModule",{value:!0}),e.loadTextureAtlas=i,e.loadTexture=o;var u=r(151),a=n(u)}])});