<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Picimo</title> <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lobster|Fira+Mono:400,700|Roboto:400,700" type="text/css"> <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"> <link rel="stylesheet" href="api-docs.css"> </head> <body> <main class="page"> <aside class="topbar"> <div class="topbar__content"> <img class="logo" src="/assets/images/doc/picimo-by-spearwolf-1.png" alt="Picimo by spearwolf"> <span class="package-version">v0.0.7</span> <i class="menu-icon fa fa-bars"></i> </div> </aside> <aside class="sidebar"> <div class="sidebar__content"> <div class="sidebar__column"> <img class="logo" src="/assets/images/doc/picimo-by-spearwolf-1.png" alt="Picimo by spearwolf">  <span class="package-version">v0.0.7</span> <hr> </div> <div class="sidebar__column sidebar__column--left"> <section class="toc-sidebar"> <h2><a href="#Picimo-Concepts">Guide</a></h2> <h2><a href="#Advanced-Topics">Advanced Topics</a></h2> <ol class="toc-sidebar__advanced"> <li><a href="#internal-coding-guidelines" class="toc__topic-link">Internal Coding Guidelines</a></li> <li><a href="#the-rendering-pipeline" class="toc__topic-link">The Rendering Pipeline</a></li> </ol> </section> </div> <div class="sidebar__column sidebar__column--right"> <section class="toc-sidebar"> <h2><a href="#Programming-Interface">Programming Interface</a></h2> <ol class="toc-sidebar__pids"> <li><a href="#picimo-app" class="toc__pid-link">Picimo.App</a></li> <li><a href="#picimo-app-options" class="toc__pid-link">Picimo.App.Options</a></li> <li><a href="#picimo-graph-node" class="toc__pid-link">Picimo.graph.Node</a></li> <li><a href="#picimo-graph-node-options" class="toc__pid-link">Picimo.graph.Node.Options</a></li> <li><a href="#picimo-graph-picture" class="toc__pid-link">Picimo.graph.Picture</a></li> <li><a href="#picimo-graph-picture-options" class="toc__pid-link">Picimo.graph.Picture.Options</a></li> <li><a href="#picimo-graph-picture-display-position" class="toc__pid-link">Picimo.graph.Picture.DisplayPosition</a></li> <li><a href="#picimo-graph-picture-display-size" class="toc__pid-link">Picimo.graph.Picture.DisplaySize</a></li> <li><a href="#picimo-graph-scene" class="toc__pid-link">Picimo.graph.Scene</a></li> <li><a href="#picimo-graph-scene-options" class="toc__pid-link">Picimo.graph.Scene.Options</a></li> </ol> </section> </div> </div> </aside> <section id="start" class="main"> <div class="main__content"> <section class="toc"> <h2>Table of Contents</h2> <ol class="toc-top"> <li> <a href="#Picimo-Concepts">Guide</a> <ol class="toc-sub"> </ol> </li> <li> <a href="#Programming-Interface">Programming Interface</a> <ol class="toc-sub"> <li>The <a href="#picimo-app" class="toc__pid-link">Picimo.App</a> interface</li> <li>The <a href="#picimo-app-options" class="toc__pid-link">Picimo.App.Options</a> dictionary</li> <li>The <a href="#picimo-graph-node" class="toc__pid-link">Picimo.graph.Node</a> interface</li> <li>The <a href="#picimo-graph-node-options" class="toc__pid-link">Picimo.graph.Node.Options</a> dictionary</li> <li>The <a href="#picimo-graph-picture" class="toc__pid-link">Picimo.graph.Picture</a> interface</li> <li>The <a href="#picimo-graph-picture-options" class="toc__pid-link">Picimo.graph.Picture.Options</a> dictionary</li> <li>The <a href="#picimo-graph-picture-display-position" class="toc__pid-link">Picimo.graph.Picture.DisplayPosition</a> dictionary</li> <li>The <a href="#picimo-graph-picture-display-size" class="toc__pid-link">Picimo.graph.Picture.DisplaySize</a> enumeration</li> <li>The <a href="#picimo-graph-scene" class="toc__pid-link">Picimo.graph.Scene</a> interface</li> <li>The <a href="#picimo-graph-scene-options" class="toc__pid-link">Picimo.graph.Scene.Options</a> dictionary</li> </ol> </li> <li> <a href="#Advanced-Topics">Advanced Topics</a> <ol class="toc-sub"> <li><a href="#internal-coding-guidelines" class="toc__topic-link">Internal Coding Guidelines</a></li> <li><a href="#the-rendering-pipeline" class="toc__topic-link">The Rendering Pipeline</a></li> </ol> </li> </ol> </section> <section id="Programming-Interface" class="programming-interface page-break"> <h2>Programming Interface</h2> <section id="picimo-app" class="pid"> <h3 id="picimo-app">The <em>Picimo.App</em> interface</h3> <article class="pid__interface pid-idl__description md"> <p>Der Anfang von allem. Das ist der <strong>Main Controller</strong> deiner App. Der einfachste Weg eine App Instanz zu erzeugen ist mittels</p> <p><code>let app = new Picimo.App(/* options */);</code></p> <p>Das <code>&lt;canvas&gt;</code> Element wird automatisch erzeugt und unterhalb von <em>document.body</em> in das DOM eingefügt. Alternativ ist die Angabe des Container Elements mittels <strong>appendTo</strong> möglich. Will man stattdessen ein vorhandenes <code>&lt;canvas&gt;</code> nutzen, oder einfach selbst erzeugen, übergibt man dieses mit der Option <strong>canvas</strong>, alternativ auch als ersten Parameter bei der Erzeugung der App Instanz:</p> <p><code>let app = new Picimo.App(myCanvas/* , options */);</code></p> <p>Egal, ob man das Canvas Element selbst erzeugt oder übergibt, es wird in jedem Falle die <em>CSS class</em> <strong>.picimo</strong> an das Element gehängt.</p> <p>Die wohl wichtigste Property einer App ist die <em>root</em> scene <code>app.scene</code></p> <p>Die App bietet auch Zugriff auf das <em>Sprite, Texture</em> und <em>Shader</em> Management.</p> </article> <article class="pid__interface pid-idl"> <div class="pid__constructor pid-idl__pre-block"> [Constructor (<ul class="pid-idl__func-args"><li class="pid-idl__func-arg">optional <span class="pid-idl__type-type">HTMLCanvasElement</span><span class="pid-idl__optional">?</span> <span class="pid-idl__args-name">canvas</span>, </li><li class="pid-idl__func-arg">optional <a href="#picimo-app-options" class="pid-idl__type-type pid-idl__type-link">Picimo.App.Options</a><span class="pid-idl__optional">?</span> <span class="pid-idl__args-name">options</span></li></ul>)] </div> <em>interface</em> <strong>Picimo.App</strong> : <span class="pid-idl__type-type">Picimo.events.CustomEvent</span> {<br> <ul class="pid-idl__block"> <li class="pid-interface__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><a href="#picimo-graph-scene" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Scene</a></span> <span class="pid-idl__name">scene;</span> </li> </ul> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">width;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">height;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">now;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">frameNo;</span> </li> </ul> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.utils.Color</span></span> <span class="pid-idl__name">backgroundColor;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span></span> <span class="pid-idl__name">assetBaseUrl;</span> </li> </ul> <p class="pid-idl__comment">// Access to sprite, texture and shader management <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.sprites.SpriteFactory</span></span> <span class="pid-idl__name">sprites;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.render.TextureManager</span></span> <span class="pid-idl__name">texture;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.render.ShaderManager</span></span> <span class="pid-idl__name">shader;</span> </li> </ul> </p><p class="pid-idl__comment">// The rendering context <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">HTMLCanvasElement</span></span> <span class="pid-idl__name">canvas;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">WebGlRenderingContext</span></span> <span class="pid-idl__name">gl;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.render.WebGlContext</span></span> <span class="pid-idl__name">glx;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.render.WebGlRenderer</span></span> <span class="pid-idl__name">renderer;</span> </li> </ul> </p></li> <li class="pid-interface__functions"> <ul class="pid-idl__group"> </ul> <p class="pid-idl__comment">// Texture helpers <ul class="pid-idl__group"> <li class="pid-idl__func"> <span class="pid-idl__type"><span class="pid-idl__type-type">Promise&lt;Picimo.core.TextureAtlas&gt;</span></span> <span class="pid-idl__name">loadTextureAtlas</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">string</span> <span class="pid-idl__args-name">url</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><span class="pid-idl__type-type">Promise&lt;Picimo.core.Texture&gt;</span></span> <span class="pid-idl__name">loadTexture</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">string</span> <span class="pid-idl__args-name">url</span></li></ul>); </span> </li> </ul> </p><p class="pid-idl__comment">// URL helpers <ul class="pid-idl__group"> <li class="pid-idl__func"> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span></span> <span class="pid-idl__name">getAssetUrl</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">string</span> <span class="pid-idl__args-name">url</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span></span> <span class="pid-idl__name">joinAssetUrl</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-2"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">string</span> <span class="pid-idl__args-name">baseUrl</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">string</span> <span class="pid-idl__args-name">url</span></li></ul>); </span> </li> </ul> </p></li> </ul> }<br> </article> <article class="pid__interface pid__attributes page-break-after"> <h4>Attributes</h4> <dl class="pid-attrs"> <dt class="pid-attrs__name pid-attrs__name--readonly">scene</dt> <dd class="pid-attrs__description md md-inline"><p>The <em>root</em> scene of the picimo scene graph.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">width</dt> <dd class="pid-attrs__description md md-inline"><p>The <em>device</em> pixel width.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">height</dt> <dd class="pid-attrs__description md md-inline"><p>The <em>device</em> pixel height.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">now</dt> <dd class="pid-attrs__description md md-inline"><p>The number of seconds from application start.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">frameNo</dt> <dd class="pid-attrs__description md md-inline"><p>The current frame number.</p></dd> <dt class="pid-attrs__name">backgroundColor</dt> <dd class="pid-attrs__description md md-inline"><p>The default background color is <em>black</em> or if you set the <strong>alpha</strong> option then <em>transparent</em> is used.</p></dd> <dt class="pid-attrs__name">assetBaseUrl</dt> <dd class="pid-attrs__description md md-inline"><p>The base url for all assets. <em>Maybe</em> be undefined. The base url can be set via the <strong>assetBaseUrl</strong> <em>option</em> or via the global var <code>PICIMO_ASSET_BASE_URL</code> (will override the option). If unspecified the base url will be calculated from <code>locaation.href</code></p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">canvas</dt> <dd class="pid-attrs__description md md-inline"><p>The <code>&lt;canvas&gt;</code> dom element.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">gl</dt> <dd class="pid-attrs__description md md-inline"><p>The webgl rendering context.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">glx</dt> <dd class="pid-attrs__description md md-inline"><p>A thin wrapper around the WebGlRenderingContext.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">renderer</dt> <dd class="pid-attrs__description md md-inline"><p>The internal rendering context.</p></dd> </dl> </article> <article class="pid__interface pid__events page-break-after"> <h4>Events</h4> <table class="pid-events"> <thead> <tr> <th class="pid-events__title">event name</th> <th class="pid-events__title">parameters</th> <th class="pid-events__title">description</th> </tr> </thead> <tbody> <tr> <td class="pid-events__name"><span>init</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>Will be called right after app creation time.</p></td> </tr> <tr> <td class="pid-events__name"><span>resize</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>Canvas resized.</p></td> </tr> <tr> <td class="pid-events__name"><span>frameBegin</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>The frame begins.</p></td> </tr> <tr> <td class="pid-events__name"><span>frame</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>On frame event. The renderer has been initialized, but this is before the scene graph is rendered.</p></td> </tr> <tr> <td class="pid-events__name"><span>renderFrame</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>On frame event. The renderer has been initialized and the scene graph is executed but the renderer is not yet finished, so this is the last call to create render commands if wanted.</p></td> </tr> <tr> <td class="pid-events__name"><span>frameEnd</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>The frame ends.</p></td> </tr> </tbody> </table> </article> <h3 id="picimo-app-options">The <em>Picimo.App.Options</em> dictionary</h3> <article class="pid__dictionary pid-idl"> <em>dictionary</em> <strong>Picimo.App.Options</strong> {<br> <ul class="pid-idl__block"> <li class="pid-dictionary__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">boolean</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">alpha</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">false</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">boolean</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">antialias</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">false</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">HTMLCanvasElement</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">canvas</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">null</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">HTMLElement</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">appendTo</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">null</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">string</span> or <span class="pid-idl__type-type">Picimo.utils.Color</span>)<span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">bgColor</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">&#x27;#000000&#x27;</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">assetBaseUrl</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">null</span>;</span> </li> </ul> </li> </ul> }<br> </article> <article class="pid__dictionary pid__attributes page-break-after"> <dl class="pid-attrs"> </dl> </article> </section> <section id="picimo-graph-node" class="pid"> <h3 id="picimo-graph-node">The <em>Picimo.graph.Node</em> interface</h3> <article class="pid__interface pid-idl__description md"> <p>The base class for all other picimo scene graph nodes.</p> </article> <article class="pid__interface pid-idl"> <div class="pid__constructor pid-idl__pre-block"> [Constructor (<ul class="pid-idl__func-args"><li class="pid-idl__func-arg"><a href="#picimo-app" class="pid-idl__type-type pid-idl__type-link">Picimo.App</a> <span class="pid-idl__args-name">app</span>, </li><li class="pid-idl__func-arg">optional <a href="#picimo-graph-node-options" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node.Options</a><span class="pid-idl__optional">?</span> <span class="pid-idl__args-name">options</span></li></ul>)] </div> <em>interface</em> <strong>Picimo.graph.Node</strong> {<br> <ul class="pid-idl__block"> <li class="pid-interface__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span></span> <span class="pid-idl__name">name;</span> </li> </ul> <p class="pid-idl__comment">// scene graph <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><a href="#picimo-app" class="pid-idl__type-type pid-idl__type-link">Picimo.App</a></span> <span class="pid-idl__name">app;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a></span> <span class="pid-idl__name">parentNode;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">boolean</span></span> <span class="pid-idl__name">isRootNode;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">renderPrio;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.graph.Node[]</span></span> <span class="pid-idl__name">children;</span> </li> </ul> </p><p class="pid-idl__comment">// state <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.graph.NodeState</span></span> <span class="pid-idl__name">state;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">boolean</span></span> <span class="pid-idl__name">ready;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span></span> <span class="pid-idl__name">readyFunc;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">boolean</span></span> <span class="pid-idl__name">display;</span> </li> </ul> </p></li> <li class="pid-interface__functions"> <ul class="pid-idl__group"> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a></span> <span class="pid-idl__name">appendChild</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a> <span class="pid-idl__args-name">node</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a></span> <span class="pid-idl__name">removeChild</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a> <span class="pid-idl__args-name">node</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a></span> <span class="pid-idl__name">findNode</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">string</span> <span class="pid-idl__args-name">name</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><span class="pid-idl__type-type">void</span></span> <span class="pid-idl__name">renderFrame</span> <span class="pid-idl__args"> (); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><span class="pid-idl__type-type">void</span></span> <span class="pid-idl__name">destroy</span> <span class="pid-idl__args"> (); </span> </li> </ul> </li> </ul> }<br> </article> <article class="pid__interface pid__attributes page-break-after"> <h4>Attributes</h4> <dl class="pid-attrs"> <dt class="pid-attrs__name">name</dt> <dd class="pid-attrs__description md md-inline"><p>The node name is optional. You can search for a node by name with <code>findNode()</code>.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">app</dt> <dd class="pid-attrs__description md md-inline"><p>The picimo app instance.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">parentNode</dt> <dd class="pid-attrs__description md md-inline"><p>The parent node or <code>null</code>.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">isRootNode</dt> <dd class="pid-attrs__description md md-inline"><p>Returns <code>parent == null</code></p></dd> <dt class="pid-attrs__name">renderPrio</dt> <dd class="pid-attrs__description md md-inline"><p>Die render priority bestimmt die Reihenfolge in der die Nodes mittels <code>renderFrame()</code> aufgerufen werden.</p></dd> <dt class="pid-attrs__name">children</dt> <dd class="pid-attrs__description md md-inline"><p>Every node can have children.</p></dd> <dt class="pid-attrs__name">ready</dt> <dd class="pid-attrs__description md md-inline"><p>When set to <code>false</code> this node will be ignored by <em>initialization</em> and <em>rendering</em> process.</p></dd> <dt class="pid-attrs__name">readyFunc</dt> <dd class="pid-attrs__description md md-inline"><p>Accepts a boolean value or a function. When the ready function returns a <em>truthy</em> value then this is node is <em>ready</em>.</p></dd> <dt class="pid-attrs__name">display</dt> <dd class="pid-attrs__description md md-inline"><p>When set to <code>false</code> the node will not be displayed. The <em>frame</em>, <em>renderFrame</em> and <em>frameEnd</em> events will not be called. BUT <code>init</code> and <code>initGl</code> will be called. If you don&#39;t want to initialize the node set the <em>ready</em> attribute to <code>false</code>.</p></dd> </dl> </article> <article class="pid__interface pid__events page-break-after"> <h4>Events</h4> <table class="pid-events"> <thead> <tr> <th class="pid-events__title">event name</th> <th class="pid-events__title">parameters</th> <th class="pid-events__title">description</th> </tr> </thead> <tbody> <tr> <td class="pid-events__name"><span>init</span></td> <td class="pid-events__args pid-idl pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">function</span> <span class="pid-idl__args-name">done</span></li></ul>) </td> <td class="pid-events__description md md-inline"><p>Initialize your node! When your <em>init is <strong>async</strong></em> call <code>done()</code> with your <code>Promise</code> as first argument.</p></td> </tr> <tr> <td class="pid-events__name"><span>initGl</span></td> <td class="pid-events__args pid-idl pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">function</span> <span class="pid-idl__args-name">done</span></li></ul>) </td> <td class="pid-events__description md md-inline"><p>Initialize webgl resources here if needed! When your <em>init is <strong>async</strong></em> call <code>done()</code> with your <code>Promise</code> as first argument.</p></td> </tr> <tr> <td class="pid-events__name"><span>childrenUpdated</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>A child node was added or removed.</p></td> </tr> <tr> <td class="pid-events__name"><span>frame</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>A new frame begins!</p></td> </tr> <tr> <td class="pid-events__name"><span>renderFrame</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>Time to create your render commands here!</p></td> </tr> <tr> <td class="pid-events__name"><span>frameEnd</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>The frame ends. All your children completed the frame.</p></td> </tr> <tr> <td class="pid-events__name"><span>destroyGl</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>Free all your webgl resources!</p></td> </tr> <tr> <td class="pid-events__name"><span>destroy</span></td> <td class="pid-events__args pid-idl pid-idl__args"> - </td> <td class="pid-events__description md md-inline"><p>Destroy or release all additional resources allocated by this node.</p></td> </tr> </tbody> </table> </article> <article class="pid__interface pid-idl__description md page-break-after"> <h4 id="node-states-and-events">Node States and Events</h4> <p><img src="/assets/images/doc/node-events.png" srcset="/assets/images/doc/node-events.png 1x,/assets/images/doc/node-events@2x.png 2x" alt="Node Events and States"></p> </article> <h3 id="picimo-graph-node-options">The <em>Picimo.graph.Node.Options</em> dictionary</h3> <article class="pid__dictionary pid-idl"> <em>dictionary</em> <strong>Picimo.graph.Node.Options</strong> {<br> <ul class="pid-idl__block"> <li class="pid-dictionary__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">renderPrio</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">0</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">display</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">true</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">boolean</span> or <span class="pid-idl__type-type">function</span>)<span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">ready</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">true</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">name;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">parentNode;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onInit;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onInitGl;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onFrame;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onRenderFrame;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onFrameEnd;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onDestroyGl;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onDestroy;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onChildrenUpdated;</span> <span class="pid-idl__default"></span> </li> </ul> </li> </ul> }<br> </article> <article class="pid__dictionary pid__attributes page-break-after"> <dl class="pid-attrs"> <dt class="pid-attrs__name">renderPrio</dt> <dd class="pid-attrs__description md md-inline"><p>The render priority of this node. Defaults to <code>0</code>.</p></dd> <dt class="pid-attrs__name">display</dt> <dd class="pid-attrs__description md md-inline"><p>The initial display state. Defaults to <code>true</code>.</p></dd> <dt class="pid-attrs__name">ready</dt> <dd class="pid-attrs__description md md-inline"><p>The initial ready state. Defaults to <code>true</code>.</p></dd> <dt class="pid-attrs__name">name</dt> <dd class="pid-attrs__description md md-inline"><p>The name of the node.</p></dd> <dt class="pid-attrs__name">parentNode</dt> <dd class="pid-attrs__description md md-inline"><p>When not set then this node will be acting as root node.</p></dd> </dl> </article> </section> <section id="picimo-graph-picture" class="pid"> <h3 id="picimo-graph-picture">The <em>Picimo.graph.Picture</em> interface</h3> <article class="pid__interface pid-idl"> <div class="pid__constructor pid-idl__pre-block"> [Constructor (<ul class="pid-idl__func-args"><li class="pid-idl__func-arg"><a href="#picimo-app" class="pid-idl__type-type pid-idl__type-link">Picimo.App</a> <span class="pid-idl__args-name">app</span>, </li><li class="pid-idl__func-arg">optional <a href="#picimo-graph-picture-options" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture.Options</a><span class="pid-idl__optional">?</span> <span class="pid-idl__args-name">options</span></li></ul>)] </div> <em>interface</em> <strong>Picimo.graph.Picture</strong> : <a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a> {<br> <ul class="pid-idl__block"> <li class="pid-interface__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><a href="#picimo-graph-picture-display-position" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture.DisplayPosition</a></span> <span class="pid-idl__name">displayPosition;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><a href="#picimo-graph-picture-display-size" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture.DisplaySize</a></span> <span class="pid-idl__name">displaySize;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">scaleX;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">scaleY;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">opacity;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">posX;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">posY;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">rotate;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">rotateDegree;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">any</span></span> <span class="pid-idl__name">sprite;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span></span> <span class="pid-idl__name">program;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.core.Texture</span></span> <span class="pid-idl__name">texture;</span> </li> </ul> </li> <li class="pid-interface__functions"> <ul class="pid-idl__group"> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-picture" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture</a></span> <span class="pid-idl__name">setPos</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-2"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">x</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">y</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-picture" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture</a></span> <span class="pid-idl__name">translate</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-2"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">tx</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">ty</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-picture" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture</a></span> <span class="pid-idl__name">setScale</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-2"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">sx</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">sy</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-picture" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture</a></span> <span class="pid-idl__name">setZoom</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-1"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">zoom</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-picture" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture</a></span> <span class="pid-idl__name">setRgb</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-3"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">red</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">green</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">blue</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-picture" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture</a></span> <span class="pid-idl__name">setRgba</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-4"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">red</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">green</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">blue</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">alpha</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><span class="pid-idl__type-type">void</span></span> <span class="pid-idl__name">setVertexPositions</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-8"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">x0</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">y0</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">x1</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">y1</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">x2</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">y2</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">x3</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">y3</span></li></ul>); </span> </li> </ul> </li> </ul> }<br> </article> <article class="pid__interface pid__attributes page-break-after"> <h4>Attributes</h4> <dl class="pid-attrs"> <dt class="pid-attrs__name">scaleX</dt> <dd class="pid-attrs__description md md-inline"><p>horizontal scale <em>(default is 1.0)</em></p></dd> <dt class="pid-attrs__name">scaleY</dt> <dd class="pid-attrs__description md md-inline"><p>vertical scale <em>(default is 1.0)</em></p></dd> <dt class="pid-attrs__name">opacity</dt> <dd class="pid-attrs__description md md-inline"><p>opacity as value <em>[0..1]</em></p></dd> <dt class="pid-attrs__name">posX</dt> <dd class="pid-attrs__description md md-inline"><p>horizontal position</p></dd> <dt class="pid-attrs__name">posY</dt> <dd class="pid-attrs__description md md-inline"><p>vertical position</p></dd> <dt class="pid-attrs__name">rotate</dt> <dd class="pid-attrs__description md md-inline"><p>rotation in radian</p></dd> <dt class="pid-attrs__name">rotateDegree</dt> <dd class="pid-attrs__description md md-inline"><p>rotation in degree</p></dd> <dt class="pid-attrs__name">sprite</dt> <dd class="pid-attrs__description md md-inline"><p>The internal sprite used to render the picture.</p></dd> <dt class="pid-attrs__name">program</dt> <dd class="pid-attrs__description md md-inline"><p>The shader program name.</p></dd> <dt class="pid-attrs__name">texture</dt> <dd class="pid-attrs__description md md-inline"><p>The texture used to render the sprite.</p></dd> </dl> </article> <h3 id="picimo-graph-picture-options">The <em>Picimo.graph.Picture.Options</em> dictionary</h3> <article class="pid__dictionary pid-idl"> <em>dictionary</em> <strong>Picimo.graph.Picture.Options</strong> {<br> <ul class="pid-idl__block"> <li class="pid-dictionary__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">Picimo.core.Texture</span> or <span class="pid-idl__type-type">Promise&lt;Picimo.core.Texture&gt;</span>)</span> <span class="pid-idl__name">texture;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><a href="#picimo-graph-picture-display-size" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture.DisplaySize</a><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">displaySize</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">&#x27;contain&#x27;</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><a href="#picimo-graph-picture-display-position" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture.DisplayPosition</a><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">displayPosition;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">zoom</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">1</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">posX</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">0</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">posY</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">0</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">opacity</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">1</span>;</span> </li> </ul> </li> </ul> }<br> </article> <article class="pid__dictionary pid__attributes page-break-after"> <dl class="pid-attrs"> <dt class="pid-attrs__name">texture</dt> <dd class="pid-attrs__description md md-inline"><p>The texture is mandatory. If you don&#39;t specify a texture you will see nothing.</p></dd> <dt class="pid-attrs__name">displaySize</dt> <dd class="pid-attrs__description md md-inline"><p>You should specify either of <em>displaySize</em> or <em>displayPosition</em>. If both properties are <em>not</em> specified the <em>displaySize</em> will be set to <code>&#39;contain&#39;</code>. See <a href="#picimo-graph-picture-display-size" alt="Picimo.graph.Picture.DisplaySize" class="md__link md__link--type">Picimo.graph.Picture.DisplaySize</a> for more information.</p></dd> <dt class="pid-attrs__name">displayPosition</dt> <dd class="pid-attrs__description md md-inline"><p>The <em>displayPosition</em> property has precedence over the <em>displaySize</em> property. If specified <em>displaySize</em> will be ignored.</p></dd> </dl> </article> <h3 id="picimo-graph-picture-display-position">The <em>Picimo.graph.Picture.DisplayPosition</em> dictionary</h3> <article class="pid__dictionary pid-idl__description md"> <p>The display position specifies how the picture is positioned <em>in relationship to the scene dimension</em>.</p> <p><img src="/assets/images/doc/displayPosition.png" alt="The Display Position"> <img src="/assets/images/doc/displayPosition zoom.png" alt="The Display Position Zoom"></p> </article> <article class="pid__dictionary pid-idl"> <em>dictionary</em> <strong>Picimo.graph.Picture.DisplayPosition</strong> {<br> <ul class="pid-idl__block"> <li class="pid-dictionary__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">number</span> or <span class="pid-idl__type-type">string</span>)<span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">top;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">number</span> or <span class="pid-idl__type-type">string</span>)<span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">left;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">number</span> or <span class="pid-idl__type-type">string</span>)<span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">bottom;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">number</span> or <span class="pid-idl__type-type">string</span>)<span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">right;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">number</span> or <span class="pid-idl__type-type">string</span>)<span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">width;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type">(<span class="pid-idl__type-type">number</span> or <span class="pid-idl__type-type">string</span>)<span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">height;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">zoom;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">anchorX;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">anchorY;</span> <span class="pid-idl__default"></span> </li> </ul> </li> </ul> }<br> </article> <article class="pid__dictionary pid__attributes page-break-after"> <dl class="pid-attrs"> <dt class="pid-attrs__name">top</dt> <dd class="pid-attrs__description md md-inline"><p>Set the top edge of the image under the top edge of the parent scene.</p> <p>The unit is either of <strong>px</strong> (if value is a <em>number</em>) or of <strong>percantage <em>of scene height</em></strong> (if value is a <em>string</em> &mdash; eg. <code>&#39;50%&#39;</code>)</p></dd> <dt class="pid-attrs__name">left</dt> <dd class="pid-attrs__description md md-inline"><p>Set the left edge of the image right to the left edge of the parent scene.</p> <p>The unit is either of <strong>px</strong> (if value is a <em>number</em>) or of <strong>percantage <em>of scene width</em></strong> (if value is a <em>string</em> &mdash; eg. <code>&#39;50%&#39;</code>)</p></dd> <dt class="pid-attrs__name">bottom</dt> <dd class="pid-attrs__description md md-inline"><p>Set the bottom edge of the image above the bottom edge of the parent scene.</p> <p>The unit is either of <strong>px</strong> (if value is a <em>number</em>) or of <strong>percantage <em>of scene height</em></strong> (if value is a <em>string</em> &mdash; eg. <code>&#39;50%&#39;</code>)</p></dd> <dt class="pid-attrs__name">right</dt> <dd class="pid-attrs__description md md-inline"><p>Set the right edge of the image left to the right edge of the parent scene.</p> <p>The unit is either of <strong>px</strong> (if value is a <em>number</em>) or of <strong>percantage <em>of scene width</em></strong> (if value is a <em>string</em> &mdash; eg. <code>&#39;50%&#39;</code>)</p></dd> <dt class="pid-attrs__name">width</dt> <dd class="pid-attrs__description md md-inline"><p>Set the width of the image.</p> <p>The unit is either of <strong>px</strong> (if value is a <em>number</em>) or of <strong>percantage <em>of image width</em></strong> (if value is a <em>string</em> &mdash; eg. <code>&#39;50%&#39;</code>)</p></dd> <dt class="pid-attrs__name">height</dt> <dd class="pid-attrs__description md md-inline"><p>Set the height of the image.</p> <p>The unit is either of <strong>px</strong> (if value is a <em>number</em>) or of <strong>percantage <em>of image height</em></strong> (if value is a <em>string</em> &mdash; eg. <code>&#39;50%&#39;</code>)</p></dd> <dt class="pid-attrs__name">zoom</dt> <dd class="pid-attrs__description md md-inline"><p>Set the zoom factor.</p> <p>Default is <code>1.0</code> (no zoom). If set to <code>2.0</code> the size of the image will be <em>doubled</em>.</p></dd> </dl> </article> <h3 id="picimo-graph-picture-display-size">The <em>Picimo.graph.Picture.DisplaySize</em> enumeration</h3> <article class="pid__enum pid-idl"> <div class="pid-idl__pre-block"> <em>enum</em> <strong>Picimo.graph.Picture.DisplaySize</strong> {<ul class="pid-idl__func-args"><li class="pid-idl__func-arg">"<span class="pid-idl__args-name">contain</span>", </li><li class="pid-idl__func-arg">"<span class="pid-idl__args-name">cover</span>"</li></ul>} </div> </article> <article class="pid__enum pid-idl__description md"> <p><img src="/assets/images/doc/displaySize.png" alt="The Display Size Property"></p> <p>The display size specifies the size of the picture.</p> <ul> <li><strong>contain</strong> will always show the whole image but may not fill up the whole screen area.</li> <li><strong>cover</strong> will always fill the whole screen area, but the image may be cropped.</li> </ul> <p>Both strategies will preserve the image size ratio.</p> </article> <article class="pid__enum pid__attributes page-break-after"> <dl class="pid-attrs"> </dl> </article> </section> <section id="picimo-graph-scene" class="pid"> <h3 id="picimo-graph-scene">The <em>Picimo.graph.Scene</em> interface</h3> <article class="pid__interface pid-idl__description md"> <p><img src="/assets/images/doc/coordinates.png" alt="Scene Coordinate System"></p> </article> <article class="pid__interface pid-idl"> <div class="pid__constructor pid-idl__pre-block"> [Constructor (<ul class="pid-idl__func-args"><li class="pid-idl__func-arg"><a href="#picimo-app" class="pid-idl__type-type pid-idl__type-link">Picimo.App</a> <span class="pid-idl__args-name">app</span>, </li><li class="pid-idl__func-arg">optional <a href="#picimo-graph-scene-options" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Scene.Options</a><span class="pid-idl__optional">?</span> <span class="pid-idl__args-name">options</span></li></ul>)] </div> <em>interface</em> <strong>Picimo.graph.Scene</strong> : <a href="#picimo-graph-node" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Node</a> {<br> <ul class="pid-idl__block"> <li class="pid-interface__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><a href="#picimo-graph-scene" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Scene</a></span> <span class="pid-idl__name">scene;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.math.Matrix4</span></span> <span class="pid-idl__name">projection;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">boolean</span></span> <span class="pid-idl__name">hasOwnProjection;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">boolean</span></span> <span class="pid-idl__name">projectionNeedsUpdate;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.math.Matrix4</span></span> <span class="pid-idl__name">transform;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.render.cmd.BlendMode</span></span> <span class="pid-idl__name">blendMode;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly pid-idl__readonly--blank"></span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span></span> <span class="pid-idl__name">sizeVariety;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">width;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">height;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">pixelRatio;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__readonly">readonly</span> <span class="pid-idl__keyword">attribute</span> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span></span> <span class="pid-idl__name">devicePixelRatio;</span> </li> </ul> </li> <li class="pid-interface__functions"> <ul class="pid-idl__group"> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-scene" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Scene</a></span> <span class="pid-idl__name">setSize</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-3"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">width</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">number</span> <span class="pid-idl__args-name">height</span>, </li><li class="pid-idl__func-arg">optional <span class="pid-idl__type-type">string</span> <span class="pid-idl__args-name">sizeVariety</span>= <span class="pid-idl__default-value">&#x27;contain&#x27;</span></li></ul>); </span> </li> </ul> <p class="pid-idl__comment">// Scene graph node factories <ul class="pid-idl__group"> <li class="pid-idl__func"> <span class="pid-idl__type"><a href="#picimo-graph-picture" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture</a></span> <span class="pid-idl__name">appendPicture</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-2"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">string</span> <span class="pid-idl__args-name">url</span>, </li><li class="pid-idl__func-arg"><a href="#picimo-graph-picture-options" class="pid-idl__type-type pid-idl__type-link">Picimo.graph.Picture.Options</a> <span class="pid-idl__args-name">options</span></li></ul>); </span> </li> <li class="pid-idl__func"> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.graph.SpriteGroup</span></span> <span class="pid-idl__name">appendSpriteGroup</span> <span class="pid-idl__args"> (<ul class="pid-idl__func-args args-2"><li class="pid-idl__func-arg"><span class="pid-idl__type-type">Picimo.core.TextureAtlas</span> | <span class="pid-idl__type-type">Promise</span> <span class="pid-idl__args-name">textureAtlas</span>, </li><li class="pid-idl__func-arg"><span class="pid-idl__type-type">Picimo.graph.SpriteGroup.Options</span> <span class="pid-idl__args-name">options</span></li></ul>); </span> </li> </ul> </p></li> </ul> }<br> </article> <article class="pid__interface pid__attributes page-break-after"> <h4>Attributes</h4> <dl class="pid-attrs"> <dt class="pid-attrs__name pid-attrs__name--readonly">scene</dt> <dd class="pid-attrs__description md md-inline"><p>The parent scene. Every scene has a parent scene &mdash; unless the root scene &mdash; for the root scene this value is <code>undefined</code>.</p></dd> <dt class="pid-attrs__name pid-attrs__name--readonly">projection</dt> <dd class="pid-attrs__description md md-inline"><p>The projection matrix.</p></dd> <dt class="pid-attrs__name">transform</dt> <dd class="pid-attrs__description md md-inline"><p>The local transformation matrix. Change it to pan or zoom or whatever you want with the scene.</p></dd> </dl> </article> <h3 id="picimo-graph-scene-options">The <em>Picimo.graph.Scene.Options</em> dictionary</h3> <article class="pid__dictionary pid-idl"> <em>dictionary</em> <strong>Picimo.graph.Scene.Options</strong> {<br> <ul class="pid-idl__block"> <li class="pid-dictionary__attributes"> <ul class="pid-idl__group"> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">width;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">height;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">number</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">pixelRatio;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">string</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">sizeVariety;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">boolean</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">projection</span> <span class="pid-idl__default">= <span class="pid-idl__default-value">true</span>;</span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">Picimo.render.cmd.BlendMode</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">blendMode;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onResize;</span> <span class="pid-idl__default"></span> </li> <li class="pid-idl__attr"> <span class="pid-idl__type"><span class="pid-idl__type-type">function</span><span class="pid-idl__optional">?</span></span> <span class="pid-idl__name">onProjectionUpdated;</span> <span class="pid-idl__default"></span> </li> </ul> </li> </ul> }<br> </article> <article class="pid__dictionary pid__attributes page-break-after"> <dl class="pid-attrs"> </dl> </article> </section> </section> <section id="Advanced-Topics" class="advanced-topics page-break"> <h2>Advanced Topics</h2> <section id="internal-coding-guidelines" class="advanved-topic md"> <h3>Internal Coding Guidelines</h3> <h4 id="app-renderer-glx-and-gl-properties">app, renderer, glx and gl properties</h4> <p>Various notes and coding hints to make your life easier.</p> <ul> <li><strong>app</strong> or <strong>glx</strong> can be cached for later usage</li> <li>but <em>never</em> cache <strong>renderer</strong> or <strong>gl</strong> as instance properties</li> </ul> </section> <section id="the-rendering-pipeline" class="advanved-topic md"> <h3>The Rendering Pipeline</h3> <p>Here are some big picture overviews &mdash; you probably won&#39;t need to know the details &mdash; but it could help if you want to understand a little bit more about the internal rendering flow.</p> <p><img src="/assets/images/doc/picimo-rendering-pipeline.png" alt="Picimo rendering pipeline" title="The Picimo Rendering Pipeline"></p> <p>The following diagram describes the data flow for uniform values.</p> <p><img src="/assets/images/doc/picimo-renderer-uniforms.png" alt="Picimo uniform data flows" title="Picimo uniforms data flow"></p> </section> </section> </div> </section> </main> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <script src="index.min.js"></script> </body> </html> 